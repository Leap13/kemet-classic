!function(){var b={topOffSet:0,mainOffSet:0,bottomOffSet:0,activeHeader:"desktop",stickySections:{top:{enable:kemet.stickyTop,mobileEnable:kemet.stickyMobileTop},main:{enable:kemet.stickyMain,mobileEnable:kemet.stickyMobileMain},bottom:{enable:kemet.stickyBottom,mobileEnable:kemet.stickyMobileBottom}},isMobile:!1,activeShrink:kemet.enableShrink,activeMain:kemet.stickyMain,hasAdminBar:!1,enabledSections:[],init:function(){window.addEventListener("resize",b.sticky,!1),window.addEventListener("scroll",b.sticky,!1),window.addEventListener("scroll",b.setShrinkHeight,!1),window.addEventListener("load",b.sticky,!1),window.addEventListener("load",b.setShrinkHeight,!1),window.addEventListener("load",b.setHeight,!1),window.addEventListener("resize",b.setHeight,!1),b.setHeight()},stickySection:function(e){var t=document.querySelector("#kmt-"+b.activeHeader+"-header"),i=t.querySelector("."+e+"-header-bar"),a=t.querySelector(".kmt-"+e+"-header-wrap"),n=0,r=i.getAttribute("data-height"),t=i.getAttribute("data-offset");b.hasAdminBar&&(t-=n=32),1<b.enabledSections.length&&(n=b.offSetTop(e).top,t=b.offSetTop(e).offSet),window.scrollY>t?(i.style.top=n+"px",a.style.minHeight=r+"px",i.classList.add("kmt-is-sticky")):(i.style.top=null,a.style.minHeight=null,i.classList.remove("kmt-is-sticky","swing"))},getOffset:function(e){if(e instanceof HTMLElement){e=e.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}}return{top:null,left:null}},setHeight:function(){var e,t,n=document.querySelector("#kmt-"+b.activeHeader+"-header");b.enabledSections=[],Object.keys(b.stickySections).map(function(e,t){var i=n.querySelector("."+e+"-header-bar"),a=n.querySelector(".kmt-"+e+"-header-wrap");i.setAttribute("data-offset",b.getOffset(a).top),i.setAttribute("data-height",i.offsetHeight),"on"===(b.isMobile?b.stickySections[e].mobileEnable:b.stickySections[e].enable)&&b.enabledSections.push(e)}),"on"==b.activeMain&&"on"==b.activeShrink&&(e=n.querySelector(".main-header-bar"),t=n.querySelector(".main-header-bar .kmt-grid-row"),e.setAttribute("data-start-height",t.offsetHeight))},setShrinkHeight:function(){var e,t,i,a,n;"on"==b.activeMain&&"on"==b.activeShrink&&(n=document.querySelector("#kmt-"+b.activeHeader+"-header"),e=b.isMobile?kemet.shrinkMobileHeight:kemet.shrinkHeight,t=n.querySelector(".site-main-header-wrap .kmt-grid-row"),i=n.querySelector(".main-header-bar"),a=n.querySelector(".kmt-main-header-wrap"),n=i.getAttribute("data-start-height"),i.classList.contains("kmt-is-sticky")?(t.style.height=e+"px",t.style.minHeight=e+"px",t.style.maxHeight=e+"px"):(t.style.height=n+"px",t.style.minHeight=n+"px",t.style.maxHeight=n+"px",a.style.height=i.getAttribute("data-height")+"px"))},offSetTop:function(e){var t=document.querySelector("#kmt-"+b.activeHeader+"-header"),i=parseInt(t.querySelector(".top-header-bar").getAttribute("data-offset")),a=t.querySelector(".main-header-bar"),n=parseInt(a.getAttribute("data-offset")),r=parseInt(t.querySelector(".bottom-header-bar").getAttribute("data-offset")),o=0,s=0,d=b.isMobile?kemet.shrinkMobileHeight:kemet.shrinkHeight,c=b.enabledSections,l="on"==b.activeShrink?parseInt(d):parseInt(t.querySelector(".main-header-bar").getAttribute("data-height")),h=parseInt(t.querySelector(".top-header-bar").getAttribute("data-height"));switch(b.hasAdminBar&&(h+=32,"top"==e&&(o=i-(s=32))),e){case"main":s=b.hasAdminBar?32:0,o=n,c.includes("top")&&(s=h,o=i);break;case"bottom":var o=r,m=parseInt(a.getAttribute("data-start-height")),k=Math.abs(m-d),d=d<m?parseInt(a.getAttribute("data-height"))-k:parseInt(a.getAttribute("data-height"))+k;c.includes("main")&&!c.includes("top")&&(s=b.hasAdminBar?l+32:l,o=n),!c.includes("main")&&c.includes("top")&&(s=h,o=r-(h=b.hasAdminBar?h+32:h)),c.includes("main")&&c.includes("top")&&(s=l+h,o=b.hasAdminBar?i-32:i)}return{offSet:o=b.hasAdminBar?o-32:o,top:s}},sticky:function(){kemet.break_point<=window.innerWidth?(b.activeHeader="desktop",b.isMobile=!1):(b.activeHeader="mobile",b.isMobile=!0),b.activeMain=b.isMobile?kemet.stickyMobileMain:kemet.stickyMain,b.activeShrink=b.isMobile?kemet.enableMobileShrink:kemet.enableShrink,b.hasAdminBar=document.body.classList.contains("admin-bar")&&"desktop"==b.activeHeader,Object.keys(b.stickySections).map(function(e,t){"on"===(b.isMobile?b.stickySections[e].mobileEnable:b.stickySections[e].enable)&&b.stickySection(e)})}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",b.init):b.init(),document.addEventListener("kmtPartialContentRendered",b.init),document.addEventListener("kmtHeaderBarHeightChanged",b.init)}((window,document));