jQuery(window).on("load",function(){jQuery("html").addClass("background-colorpicker-ready")}),wp.customize.controlConstructor["kmt-background"]=wp.customize.Control.extend({ready:function(){"use strict";this.initKmtBgControl()},initKmtBgControl:function(){var o=this,s={"background-color":"","background-image":"","background-repeat":"repeat","background-position":"center center","background-size":"auto","background-attachment":"scroll"},t=o.container.find(".kmt-color-control");(_.isUndefined(s["background-image"])||""===s["background-image"])&&(o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide()),t.wpColorPicker({change:function(){jQuery("html").hasClass("background-colorpicker-ready")&&setTimeout(function(){s["background-color"]=t.val(),o.saveValue(s)},100)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&(s["background-color"]="",o.saveValue(s))}}),o.container.on("change",".background-repeat select",function(){s["background-repeat"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change click",".background-size input",function(){s["background-size"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change",".background-position select",function(){s["background-position"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change click",".background-attachment input",function(){s["background-attachment"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("click",".background-image-upload-button",function(t){var a=wp.media({multiple:!1}).open().on("select",function(){var t,e,n,i=a.state().get("selection").first(),r=i.toJSON().sizes.full.url;_.isUndefined(i.toJSON().sizes.medium)?_.isUndefined(i.toJSON().sizes.thumbnail)||(r=i.toJSON().sizes.thumbnail.url):r=i.toJSON().sizes.medium.url,t=i.toJSON().sizes.full.url,i.toJSON().id,i.toJSON().width,i.toJSON().height,""!==t&&(o.container.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show(),o.container.find(".more-settings").attr("data-direction","up"),o.container.find(".message").html(kemetCustomizerControlBackground.lessSettings),o.container.find(".icon").html("↑")),s["background-image"]=t,o.saveValue(s),e=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),e.length&&e.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+r+'" alt="" />'),n.length&&n.show()});t.preventDefault()}),o.container.on("click",".background-image-upload-remove-button",function(t){var e,n;t.preventDefault(),s["background-image"]="",o.saveValue(s),e=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide(),o.container.find(".more-settings").attr("data-direction","down"),o.container.find(".more-settings").find(".message").html(kemetCustomizerControlBackground.moreSettings),o.container.find(".more-settings").find(".icon").html("↓"),e.length&&e.removeClass().addClass("placeholder").html(kemetCustomizerControlBackground.placeholder),n.length&&n.hide()}),o.container.on("click",".more-settings",function(t){var e=jQuery(this);o.container.find(".background-wrapper > .background-repeat").toggle(),o.container.find(".background-wrapper > .background-position").toggle(),o.container.find(".background-wrapper > .background-size").toggle(),o.container.find(".background-wrapper > .background-attachment").toggle(),"down"===e.attr("data-direction")?(e.attr("data-direction","up"),e.find(".message").html(kemetCustomizerControlBackground.lessSettings),e.find(".icon").html("↑")):(e.attr("data-direction","down"),e.find(".message").html(kemetCustomizerControlBackground.moreSettings),e.find(".icon").html("↓"))})},saveValue:function(t){var e=jQuery("#customize-control-"+this.id.replace("[","-").replace("]","")+" .background-hidden-value"),n=t;jQuery(e).attr("value",JSON.stringify(n)).trigger("change"),this.setting.set(n)}}),jQuery(window).on("load",function(){jQuery("html").addClass("colorpicker-ready")}),wp.customize.controlConstructor["kmt-color"]=wp.customize.Control.extend({ready:function(){"use strict";var i=this;this.container.find(".kmt-color-picker-alpha").wpColorPicker({change:function(t,e){t.target;var n=e.color.toString();jQuery("html").hasClass("colorpicker-ready")&&i.setting.set(n)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&i.setting.set("")}})}}),wp.customize.controlConstructor["kmt-icon-select"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("change","input",function(){t.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kmt-radio-image"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("click","input",function(){t.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kmt-responsive-select"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","select.kmt-responsive-select",function(){jQuery(this).val(),t.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()})},updateValue:function(){"use strict";var t=this,i={};t.responsiveContainer=t.container.find(".kmt-responsive-wrapper").first(),t.responsiveContainer.find("select.kmt-responsive-select").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";this.container.on("click",".kmt-responsive-slider-btns button",function(t){t.preventDefault();var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-select .input-wrapper select, .customize-control .kmt-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-select .input-wrapper select."+t+", .customize-control .kmt-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.kmtResponsiveInit(),this.container.on("input change","input[type=range]",function(){var t=jQuery(this).val(),e=jQuery(this).closest(".input-field-wrapper").find(".kmt-responsive-range-value-input");e.val(t),e.trigger("change")}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".input-field-wrapper").find("input[type=range]").val(t),e.updateValue()})},updateValue:function(){"use strict";var t=this,i={desktop:"",tablet:"",mobile:"","desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};t.responsiveContainer=t.container.find(".wrapper").first(),t.responsiveContainer.find(".kmt-responsive-range-value-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.container.find(".kmt-slider-unit-wrapper .kmt-slider-unit-input").each(function(){var t=jQuery(this),e=t.attr("data-device"),n=t.val();i[e+"-unit"]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";var o=this;this.container.on("click",".kmt-responsive-slider-btns button",function(t){t.preventDefault();var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),o.container.on("click",".kmt-slider-responsive-units .single-unit",function(){var t=jQuery(this);if(t.hasClass("active"))return!1;var e=t.attr("data-unit"),n=t.attr("data-min"),i=t.attr("data-max"),r=t.attr("data-step"),a=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");t.siblings().removeClass("active"),t.addClass("active"),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("min",n),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("max",i),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("step",r),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").val(""),o.container.find(".kmt-slider-unit-wrapper .kmt-slider-"+a+"-unit").val(e),o.updateValue()})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-slider .input-field-wrapper, .customize-control .kmt-responsive-slider-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-slider .input-field-wrapper."+t+", .customize-control .kmt-responsive-slider-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive-spacing"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","input.kmt-spacing-input",function(){jQuery(this).val(),t.updateValue()})},updateValue:function(){"use strict";var t=this,i={desktop:{},tablet:{},mobile:{},"desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};t.container.find("input.kmt-spacing-desktop").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.desktop[e]=n}),t.container.find("input.kmt-spacing-tablet").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.tablet[e]=n}),t.container.find("input.kmt-spacing-mobile").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.mobile[e]=n}),t.container.find(".kmt-spacing-unit-wrapper .kmt-spacing-unit-input").each(function(){var t=jQuery(this),e=t.attr("data-device"),n=t.val();i[e+"-unit"]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";var i=this;i.container.find(".kmt-spacing-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),i.container.on("click",".kmt-spacing-responsive-units .single-unit",function(){var t=jQuery(this);if(t.hasClass("active"))return!1;var e=t.attr("data-unit"),n=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");t.siblings().removeClass("active"),t.addClass("active"),i.container.find(".kmt-spacing-unit-wrapper .kmt-spacing-"+n+"-unit").val(e),i.updateValue()})}}),jQuery(document).ready(function(){jQuery(".kmt-spacing-connected").on("click",function(){jQuery(this).parent().parent(".kmt-spacing-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".kmt-spacing-input-item-link").removeClass("disconnected")}),jQuery(".kmt-spacing-disconnected").on("click",function(){var t=jQuery(this).data("element-connect");jQuery(this).parent().parent(".kmt-spacing-wrapper").find(".kmt-spacing-input").each(function(){var n=jQuery(this).val();""!=n&&jQuery(this).parent().parent(".kmt-spacing-wrapper").find(".kmt-spacing-input").each(function(t,e){jQuery(this).val(n).change()})}),jQuery(this).parent().parent(".kmt-spacing-wrapper").find("input").addClass("connected").attr("data-element-connect",t),jQuery(this).parent(".kmt-spacing-input-item-link").addClass("disconnected")}),jQuery(".kmt-spacing-input-item").on("input",".connected",function(){var t=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".kmt-spacing-wrapper").find('.connected[ data-element-connect="'+t+'" ]').each(function(t,e){jQuery(this).val(n).change()})})}),jQuery(".wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-spacing .input-wrapper .kmt-spacing-wrapper, .customize-control .kmt-spacing-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-spacing .input-wrapper .kmt-spacing-wrapper."+t+", .customize-control .kmt-spacing-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","input.kmt-responsive-input, select.kmt-responsive-select",function(){jQuery(this).val(),t.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()})},updateValue:function(){"use strict";var t=this,i={};t.responsiveContainer=t.container.find(".kmt-responsive-wrapper").first(),t.responsiveContainer.find("input.kmt-responsive-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.responsiveContainer.find("select.kmt-responsive-select").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";this.container.find(".kmt-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive .input-wrapper input, .customize-control .kmt-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive .input-wrapper input."+t+", .customize-control .kmt-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;jQuery("input[type=range]").on("input change",function(){var t=jQuery(this).attr("value"),e=jQuery(this).closest(".wrapper").find(".kemet_range_value .value");e.val(t),e.change()}),jQuery(".kmt-slider-reset").click(function(){var t=jQuery(this).closest(".wrapper"),e=t.find("input[type=range]"),n=t.find(".kemet_range_value .value"),i=e.data("reset_value");e.val(i),n.val(i),n.change()}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".wrapper").find("input[type=range]").val(t),e.setting.set(t)})}}),wp.customize.controlConstructor["kmt-sortable"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.sortableContainer=t.container.find("ul.sortable").first(),t.sortableContainer.sortable({stop:function(){t.updateValue()}}).disableSelection().find("li").each(function(){jQuery(this).find("i.visibility").click(function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")})}).click(function(){t.updateValue()})},updateValue:function(){"use strict";var t=[];this.sortableContainer.find("li").each(function(){jQuery(this).is(".invisible")||t.push(jQuery(this).data("value"))}),this.setting.set(t)}}),function(d){var m=wp.customize;KmtTypography={init:function(){KmtTypography._initFonts()},_initFonts:function(){d(".customize-control-kmt-font-family select").each(KmtTypography._initFont)},_initFont:function(){var t=d(this),e=t.data("customize-setting-link");void 0!==t.data("connected-control")&&(m(e).bind(KmtTypography._fontSelectChange),KmtTypography._setFontWeightOptions.apply(m(e),[!0]))},_fontSelectChange:function(){KmtTypography._setFontWeightOptions.apply(this,[!1])},_cleanGoogleFonts:function(t){if(!t.includes(","))return t;var e=t.split(","),n=new RegExp("'","gi"),i=e[0].replace(n,"");return void 0!==KmtFontFamilies.google[i]&&(t=i),t},_setFontWeightOptions:function(t){var e=0,n=m.control(this.id).container.find("select"),i=this(),r="",a=n.data("connected-control"),o=(n.data("inherit"),m.control(a).container.find("select")),s=o.data("inherit"),c=t?o.val():"400",u=["400","600"],l="",p=kemetTypo;for("inherit"==i&&(c=t?o.val():"inherit"),"inherit"==(i=KmtTypography._cleanGoogleFonts(i))?u=["400","500","600","700"]:void 0!==KmtFontFamilies.system[i]?u=KmtFontFamilies.system[i].weights:void 0!==KmtFontFamilies.google[i]?(u=KmtFontFamilies.google[i][0],u=Object.keys(u).map(function(t){return u[t]})):void 0!==KmtFontFamilies.custom[i.split(",")[0]]&&(u=KmtFontFamilies.custom[i.split(",")[0]].weights),u=d.merge(["inherit"],u),p.inherit=s;e<u.length;e++)r=0===e&&-1===d.inArray(c,u)?(c=u[0],' selected="selected"'):u[e]==c?' selected="selected"':"",l+='<option value="'+u[e]+'"'+r+">"+p[u[e]]+"</option>";o.html(l),t||(m(a).set(""),m(a).set(c))}},d(function(){KmtTypography.init()}),d(function(){jQuery("#customize-theme-controls").find(".customize-control-kmt-font-weight").each(function(){var t=jQuery(this),e=t.next(".customize-control-select");t.addClass("controls-inline"),t.css("padding-right","5px"),e.addClass("controls-inline"),e.css("padding-left","5px")})})}(jQuery),jQuery(window).on("load",function(){jQuery("html").addClass("background-colorpicker-ready")}),wp.customize.controlConstructor["kmt-background"]=wp.customize.Control.extend({ready:function(){"use strict";this.initKmtBgControl()},initKmtBgControl:function(){var o=this,s={"background-color":"","background-image":"","background-repeat":"repeat","background-position":"center center","background-size":"auto","background-attachment":"scroll"},t=o.container.find(".kmt-color-control");(_.isUndefined(s["background-image"])||""===s["background-image"])&&(o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide()),t.wpColorPicker({change:function(){jQuery("html").hasClass("background-colorpicker-ready")&&setTimeout(function(){s["background-color"]=t.val(),o.saveValue(s)},100)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&(s["background-color"]="",o.saveValue(s))}}),o.container.on("change",".background-repeat select",function(){s["background-repeat"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change click",".background-size input",function(){s["background-size"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change",".background-position select",function(){s["background-position"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change click",".background-attachment input",function(){s["background-attachment"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("click",".background-image-upload-button",function(t){var a=wp.media({multiple:!1}).open().on("select",function(){var t,e,n,i=a.state().get("selection").first(),r=i.toJSON().sizes.full.url;_.isUndefined(i.toJSON().sizes.medium)?_.isUndefined(i.toJSON().sizes.thumbnail)||(r=i.toJSON().sizes.thumbnail.url):r=i.toJSON().sizes.medium.url,t=i.toJSON().sizes.full.url,i.toJSON().id,i.toJSON().width,i.toJSON().height,""!==t&&(o.container.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show(),o.container.find(".more-settings").attr("data-direction","up"),o.container.find(".message").html(kemetCustomizerControlBackground.lessSettings),o.container.find(".icon").html("↑")),s["background-image"]=t,o.saveValue(s),e=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),e.length&&e.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+r+'" alt="" />'),n.length&&n.show()});t.preventDefault()}),o.container.on("click",".background-image-upload-remove-button",function(t){var e,n;t.preventDefault(),s["background-image"]="",o.saveValue(s),e=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide(),o.container.find(".more-settings").attr("data-direction","down"),o.container.find(".more-settings").find(".message").html(kemetCustomizerControlBackground.moreSettings),o.container.find(".more-settings").find(".icon").html("↓"),e.length&&e.removeClass().addClass("placeholder").html(kemetCustomizerControlBackground.placeholder),n.length&&n.hide()}),o.container.on("click",".more-settings",function(t){var e=jQuery(this);o.container.find(".background-wrapper > .background-repeat").toggle(),o.container.find(".background-wrapper > .background-position").toggle(),o.container.find(".background-wrapper > .background-size").toggle(),o.container.find(".background-wrapper > .background-attachment").toggle(),"down"===e.attr("data-direction")?(e.attr("data-direction","up"),e.find(".message").html(kemetCustomizerControlBackground.lessSettings),e.find(".icon").html("↑")):(e.attr("data-direction","down"),e.find(".message").html(kemetCustomizerControlBackground.moreSettings),e.find(".icon").html("↓"))})},saveValue:function(t){var e=jQuery("#customize-control-"+this.id.replace("[","-").replace("]","")+" .background-hidden-value"),n=t;jQuery(e).attr("value",JSON.stringify(n)).trigger("change"),this.setting.set(n)}}),jQuery(window).on("load",function(){jQuery("html").addClass("colorpicker-ready")}),wp.customize.controlConstructor["kmt-color"]=wp.customize.Control.extend({ready:function(){"use strict";var i=this;this.container.find(".kmt-color-picker-alpha").wpColorPicker({change:function(t,e){t.target;var n=e.color.toString();jQuery("html").hasClass("colorpicker-ready")&&i.setting.set(n)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&i.setting.set("")}})}}),wp.customize.controlConstructor["kmt-icon-select"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("change","input",function(){t.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kmt-radio-image"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("click","input",function(){t.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kmt-responsive-select"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","select.kmt-responsive-select",function(){jQuery(this).val(),t.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()})},updateValue:function(){"use strict";var i={};this.responsiveContainer=this.container.find(".kmt-responsive-wrapper").first(),this.responsiveContainer.find("select.kmt-responsive-select").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),this.setting.set(i)},kmtResponsiveInit:function(){"use strict";this.container.on("click",".kmt-responsive-slider-btns button",function(t){t.preventDefault();var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-select .input-wrapper select, .customize-control .kmt-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-select .input-wrapper select."+t+", .customize-control .kmt-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.kmtResponsiveInit(),this.container.on("input change","input[type=range]",function(){var t=jQuery(this).val(),e=jQuery(this).closest(".input-field-wrapper").find(".kmt-responsive-range-value-input");e.val(t),e.trigger("change")}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".input-field-wrapper").find("input[type=range]").val(t),e.updateValue()})},updateValue:function(){"use strict";var t=this,i={desktop:"",tablet:"",mobile:"","desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};t.responsiveContainer=t.container.find(".wrapper").first(),t.responsiveContainer.find(".kmt-responsive-range-value-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.container.find(".kmt-slider-unit-wrapper .kmt-slider-unit-input").each(function(){var t=jQuery(this),e=t.attr("data-device"),n=t.val();i[e+"-unit"]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";var o=this;this.container.on("click",".kmt-responsive-slider-btns button",function(t){t.preventDefault();var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),o.container.on("click",".kmt-slider-responsive-units .single-unit",function(){var t=jQuery(this);if(t.hasClass("active"))return!1;var e=t.attr("data-unit"),n=t.attr("data-min"),i=t.attr("data-max"),r=t.attr("data-step"),a=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");t.siblings().removeClass("active"),t.addClass("active"),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("min",n),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("max",i),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("step",r),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").val(""),o.container.find(".kmt-slider-unit-wrapper .kmt-slider-"+a+"-unit").val(e),o.updateValue()})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-slider .input-field-wrapper, .customize-control .kmt-responsive-slider-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-slider .input-field-wrapper."+t+", .customize-control .kmt-responsive-slider-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive-spacing"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","input.kmt-spacing-input",function(){jQuery(this).val(),t.updateValue()})},updateValue:function(){"use strict";var t=this,i={desktop:{},tablet:{},mobile:{},"desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};t.container.find("input.kmt-spacing-desktop").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.desktop[e]=n}),t.container.find("input.kmt-spacing-tablet").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.tablet[e]=n}),t.container.find("input.kmt-spacing-mobile").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.mobile[e]=n}),t.container.find(".kmt-spacing-unit-wrapper .kmt-spacing-unit-input").each(function(){var t=jQuery(this),e=t.attr("data-device"),n=t.val();i[e+"-unit"]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";var i=this;i.container.find(".kmt-spacing-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),i.container.on("click",".kmt-spacing-responsive-units .single-unit",function(){var t=jQuery(this);if(t.hasClass("active"))return!1;var e=t.attr("data-unit"),n=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");t.siblings().removeClass("active"),t.addClass("active"),i.container.find(".kmt-spacing-unit-wrapper .kmt-spacing-"+n+"-unit").val(e),i.updateValue()})}}),jQuery(document).ready(function(){jQuery(".kmt-spacing-connected").on("click",function(){jQuery(this).parent().parent(".kmt-spacing-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".kmt-spacing-input-item-link").removeClass("disconnected")}),jQuery(".kmt-spacing-disconnected").on("click",function(){var t=jQuery(this).data("element-connect");jQuery(this).parent().parent(".kmt-spacing-wrapper").find(".kmt-spacing-input").each(function(){var n=jQuery(this).val();""!=n&&jQuery(this).parent().parent(".kmt-spacing-wrapper").find(".kmt-spacing-input").each(function(t,e){jQuery(this).val(n).change()})}),jQuery(this).parent().parent(".kmt-spacing-wrapper").find("input").addClass("connected").attr("data-element-connect",t),jQuery(this).parent(".kmt-spacing-input-item-link").addClass("disconnected")}),jQuery(".kmt-spacing-input-item").on("input",".connected",function(){var t=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".kmt-spacing-wrapper").find('.connected[ data-element-connect="'+t+'" ]').each(function(t,e){jQuery(this).val(n).change()})})}),jQuery(".wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-spacing .input-wrapper .kmt-spacing-wrapper, .customize-control .kmt-spacing-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-spacing .input-wrapper .kmt-spacing-wrapper."+t+", .customize-control .kmt-spacing-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","input.kmt-responsive-input, select.kmt-responsive-select",function(){jQuery(this).val(),t.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()})},updateValue:function(){"use strict";var t=this,i={};t.responsiveContainer=t.container.find(".kmt-responsive-wrapper").first(),t.responsiveContainer.find("input.kmt-responsive-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.responsiveContainer.find("select.kmt-responsive-select").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";this.container.find(".kmt-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive .input-wrapper input, .customize-control .kmt-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive .input-wrapper input."+t+", .customize-control .kmt-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;jQuery("input[type=range]").on("input change",function(){var t=jQuery(this).attr("value"),e=jQuery(this).closest(".wrapper").find(".kemet_range_value .value");e.val(t),e.change()}),jQuery(".kmt-slider-reset").click(function(){var t=jQuery(this).closest(".wrapper"),e=t.find("input[type=range]"),n=t.find(".kemet_range_value .value"),i=e.data("reset_value");e.val(i),n.val(i),n.change()}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".wrapper").find("input[type=range]").val(t),e.setting.set(t)})}}),wp.customize.controlConstructor["kmt-sortable"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.sortableContainer=t.container.find("ul.sortable").first(),t.sortableContainer.sortable({stop:function(){t.updateValue()}}).disableSelection().find("li").each(function(){jQuery(this).find("i.visibility").click(function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")})}).click(function(){t.updateValue()})},updateValue:function(){"use strict";var t=[];this.sortableContainer.find("li").each(function(){jQuery(this).is(".invisible")||t.push(jQuery(this).data("value"))}),this.setting.set(t)}}),function(d){var m=wp.customize;KmtTypography={init:function(){KmtTypography._initFonts()},_initFonts:function(){d(".customize-control-kmt-font-family select").each(KmtTypography._initFont)},_initFont:function(){var t=d(this),e=t.data("customize-setting-link");void 0!==t.data("connected-control")&&(m(e).bind(KmtTypography._fontSelectChange),KmtTypography._setFontWeightOptions.apply(m(e),[!0]))},_fontSelectChange:function(){KmtTypography._setFontWeightOptions.apply(this,[!1])},_cleanGoogleFonts:function(t){if(!t.includes(","))return t;var e=t.split(","),n=new RegExp("'","gi"),i=e[0].replace(n,"");return void 0!==KmtFontFamilies.google[i]&&(t=i),t},_setFontWeightOptions:function(t){var e=0,n=m.control(this.id).container.find("select"),i=this(),r="",a=n.data("connected-control"),o=(n.data("inherit"),m.control(a).container.find("select")),s=o.data("inherit"),c=t?o.val():"400",u=["400","600"],l="",p=kemetTypo;for("inherit"==i&&(c=t?o.val():"inherit"),"inherit"==(i=KmtTypography._cleanGoogleFonts(i))?u=["400","500","600","700"]:void 0!==KmtFontFamilies.system[i]?u=KmtFontFamilies.system[i].weights:void 0!==KmtFontFamilies.google[i]?(u=KmtFontFamilies.google[i][0],u=Object.keys(u).map(function(t){return u[t]})):void 0!==KmtFontFamilies.custom[i.split(",")[0]]&&(u=KmtFontFamilies.custom[i.split(",")[0]].weights),u=d.merge(["inherit"],u),p.inherit=s;e<u.length;e++)r=0===e&&-1===d.inArray(c,u)?(c=u[0],' selected="selected"'):u[e]==c?' selected="selected"':"",l+='<option value="'+u[e]+'"'+r+">"+p[u[e]]+"</option>";o.html(l),t||(m(a).set(""),m(a).set(c))}},d(function(){KmtTypography.init()}),d(function(){jQuery("#customize-theme-controls").find(".customize-control-kmt-font-weight").each(function(){var t=jQuery(this),e=t.next(".customize-control-select");t.addClass("controls-inline"),t.css("padding-right","5px"),e.addClass("controls-inline"),e.css("padding-left","5px")})})}(jQuery),jQuery(window).on("load",function(){jQuery("html").addClass("background-colorpicker-ready")}),wp.customize.controlConstructor["kmt-background"]=wp.customize.Control.extend({ready:function(){"use strict";this.initKmtBgControl()},initKmtBgControl:function(){var o=this,s={"background-color":"","background-image":"","background-repeat":"repeat","background-position":"center center","background-size":"auto","background-attachment":"scroll"},t=o.container.find(".kmt-color-control");(_.isUndefined(s["background-image"])||""===s["background-image"])&&(o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide()),t.wpColorPicker({change:function(){jQuery("html").hasClass("background-colorpicker-ready")&&setTimeout(function(){s["background-color"]=t.val(),o.saveValue(s)},100)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&(s["background-color"]="",o.saveValue(s))}}),o.container.on("change",".background-repeat select",function(){s["background-repeat"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change click",".background-size input",function(){s["background-size"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change",".background-position select",function(){s["background-position"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change click",".background-attachment input",function(){s["background-attachment"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("click",".background-image-upload-button",function(t){var a=wp.media({multiple:!1}).open().on("select",function(){var t,e,n,i=a.state().get("selection").first(),r=i.toJSON().sizes.full.url;_.isUndefined(i.toJSON().sizes.medium)?_.isUndefined(i.toJSON().sizes.thumbnail)||(r=i.toJSON().sizes.thumbnail.url):r=i.toJSON().sizes.medium.url,t=i.toJSON().sizes.full.url,i.toJSON().id,i.toJSON().width,i.toJSON().height,""!==t&&(o.container.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show(),o.container.find(".more-settings").attr("data-direction","up"),o.container.find(".message").html(kemetCustomizerControlBackground.lessSettings),o.container.find(".icon").html("↑")),s["background-image"]=t,o.saveValue(s),e=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),e.length&&e.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+r+'" alt="" />'),n.length&&n.show()});t.preventDefault()}),o.container.on("click",".background-image-upload-remove-button",function(t){var e,n;t.preventDefault(),s["background-image"]="",o.saveValue(s),e=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide(),o.container.find(".more-settings").attr("data-direction","down"),o.container.find(".more-settings").find(".message").html(kemetCustomizerControlBackground.moreSettings),o.container.find(".more-settings").find(".icon").html("↓"),e.length&&e.removeClass().addClass("placeholder").html(kemetCustomizerControlBackground.placeholder),n.length&&n.hide()}),o.container.on("click",".more-settings",function(t){var e=jQuery(this);o.container.find(".background-wrapper > .background-repeat").toggle(),o.container.find(".background-wrapper > .background-position").toggle(),o.container.find(".background-wrapper > .background-size").toggle(),o.container.find(".background-wrapper > .background-attachment").toggle(),"down"===e.attr("data-direction")?(e.attr("data-direction","up"),e.find(".message").html(kemetCustomizerControlBackground.lessSettings),e.find(".icon").html("↑")):(e.attr("data-direction","down"),e.find(".message").html(kemetCustomizerControlBackground.moreSettings),e.find(".icon").html("↓"))})},saveValue:function(t){var e=jQuery("#customize-control-"+this.id.replace("[","-").replace("]","")+" .background-hidden-value"),n=t;jQuery(e).attr("value",JSON.stringify(n)).trigger("change"),this.setting.set(n)}}),jQuery(window).on("load",function(){jQuery("html").addClass("colorpicker-ready")}),wp.customize.controlConstructor["kmt-color"]=wp.customize.Control.extend({ready:function(){"use strict";var i=this;this.container.find(".kmt-color-picker-alpha").wpColorPicker({change:function(t,e){t.target;var n=e.color.toString();jQuery("html").hasClass("colorpicker-ready")&&i.setting.set(n)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&i.setting.set("")}})}}),wp.customize.controlConstructor["kmt-icon-select"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("change","input",function(){t.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kmt-radio-image"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("click","input",function(){t.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kmt-responsive-select"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","select.kmt-responsive-select",function(){jQuery(this).val(),t.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()})},updateValue:function(){"use strict";var i={};this.responsiveContainer=this.container.find(".kmt-responsive-wrapper").first(),this.responsiveContainer.find("select.kmt-responsive-select").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),this.setting.set(i)},kmtResponsiveInit:function(){"use strict";this.container.on("click",".kmt-responsive-slider-btns button",function(t){t.preventDefault();var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-select .input-wrapper select, .customize-control .kmt-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-select .input-wrapper select."+t+", .customize-control .kmt-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.kmtResponsiveInit(),this.container.on("input change","input[type=range]",function(){var t=jQuery(this).val(),e=jQuery(this).closest(".input-field-wrapper").find(".kmt-responsive-range-value-input");e.val(t),e.trigger("change")}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".input-field-wrapper").find("input[type=range]").val(t),e.updateValue()})},updateValue:function(){"use strict";var t=this,i={desktop:"",tablet:"",mobile:"","desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};t.responsiveContainer=t.container.find(".wrapper").first(),t.responsiveContainer.find(".kmt-responsive-range-value-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.container.find(".kmt-slider-unit-wrapper .kmt-slider-unit-input").each(function(){var t=jQuery(this),e=t.attr("data-device"),n=t.val();i[e+"-unit"]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";var o=this;this.container.on("click",".kmt-responsive-slider-btns button",function(t){t.preventDefault();var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),o.container.on("click",".kmt-slider-responsive-units .single-unit",function(){var t=jQuery(this);if(t.hasClass("active"))return!1;var e=t.attr("data-unit"),n=t.attr("data-min"),i=t.attr("data-max"),r=t.attr("data-step"),a=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");t.siblings().removeClass("active"),t.addClass("active"),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("min",n),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("max",i),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("step",r),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").val(""),o.container.find(".kmt-slider-unit-wrapper .kmt-slider-"+a+"-unit").val(e),o.updateValue()})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-slider .input-field-wrapper, .customize-control .kmt-responsive-slider-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-slider .input-field-wrapper."+t+", .customize-control .kmt-responsive-slider-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive-spacing"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","input.kmt-spacing-input",function(){jQuery(this).val(),t.updateValue()})},updateValue:function(){"use strict";var t=this,i={desktop:{},tablet:{},mobile:{},"desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};t.container.find("input.kmt-spacing-desktop").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.desktop[e]=n}),t.container.find("input.kmt-spacing-tablet").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.tablet[e]=n}),t.container.find("input.kmt-spacing-mobile").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.mobile[e]=n}),t.container.find(".kmt-spacing-unit-wrapper .kmt-spacing-unit-input").each(function(){var t=jQuery(this),e=t.attr("data-device"),n=t.val();i[e+"-unit"]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";var i=this;i.container.find(".kmt-spacing-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),i.container.on("click",".kmt-spacing-responsive-units .single-unit",function(){var t=jQuery(this);if(t.hasClass("active"))return!1;var e=t.attr("data-unit"),n=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");t.siblings().removeClass("active"),t.addClass("active"),i.container.find(".kmt-spacing-unit-wrapper .kmt-spacing-"+n+"-unit").val(e),i.updateValue()})}}),jQuery(document).ready(function(){jQuery(".kmt-spacing-connected").on("click",function(){jQuery(this).parent().parent(".kmt-spacing-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".kmt-spacing-input-item-link").removeClass("disconnected")}),jQuery(".kmt-spacing-disconnected").on("click",function(){var t=jQuery(this).data("element-connect");jQuery(this).parent().parent(".kmt-spacing-wrapper").find(".kmt-spacing-input").each(function(){var n=jQuery(this).val();""!=n&&jQuery(this).parent().parent(".kmt-spacing-wrapper").find(".kmt-spacing-input").each(function(t,e){jQuery(this).val(n).change()})}),jQuery(this).parent().parent(".kmt-spacing-wrapper").find("input").addClass("connected").attr("data-element-connect",t),jQuery(this).parent(".kmt-spacing-input-item-link").addClass("disconnected")}),jQuery(".kmt-spacing-input-item").on("input",".connected",function(){var t=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".kmt-spacing-wrapper").find('.connected[ data-element-connect="'+t+'" ]').each(function(t,e){jQuery(this).val(n).change()})})}),jQuery(".wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-spacing .input-wrapper .kmt-spacing-wrapper, .customize-control .kmt-spacing-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-spacing .input-wrapper .kmt-spacing-wrapper."+t+", .customize-control .kmt-spacing-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","input.kmt-responsive-input, select.kmt-responsive-select",function(){jQuery(this).val(),t.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()})},updateValue:function(){"use strict";var t=this,i={};t.responsiveContainer=t.container.find(".kmt-responsive-wrapper").first(),t.responsiveContainer.find("input.kmt-responsive-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.responsiveContainer.find("select.kmt-responsive-select").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";this.container.find(".kmt-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive .input-wrapper input, .customize-control .kmt-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive .input-wrapper input."+t+", .customize-control .kmt-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;jQuery("input[type=range]").on("input change",function(){var t=jQuery(this).attr("value"),e=jQuery(this).closest(".wrapper").find(".kemet_range_value .value");e.val(t),e.change()}),jQuery(".kmt-slider-reset").click(function(){var t=jQuery(this).closest(".wrapper"),e=t.find("input[type=range]"),n=t.find(".kemet_range_value .value"),i=e.data("reset_value");e.val(i),n.val(i),n.change()}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".wrapper").find("input[type=range]").val(t),e.setting.set(t)})}}),wp.customize.controlConstructor["kmt-sortable"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.sortableContainer=t.container.find("ul.sortable").first(),t.sortableContainer.sortable({stop:function(){t.updateValue()}}).disableSelection().find("li").each(function(){jQuery(this).find("i.visibility").click(function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")})}).click(function(){t.updateValue()})},updateValue:function(){"use strict";var t=[];this.sortableContainer.find("li").each(function(){jQuery(this).is(".invisible")||t.push(jQuery(this).data("value"))}),this.setting.set(t)}}),function(d){var m=wp.customize;KmtTypography={init:function(){KmtTypography._initFonts()},_initFonts:function(){d(".customize-control-kmt-font-family select").each(KmtTypography._initFont)},_initFont:function(){var t=d(this),e=t.data("customize-setting-link");void 0!==t.data("connected-control")&&(m(e).bind(KmtTypography._fontSelectChange),KmtTypography._setFontWeightOptions.apply(m(e),[!0]))},_fontSelectChange:function(){KmtTypography._setFontWeightOptions.apply(this,[!1])},_cleanGoogleFonts:function(t){if(!t.includes(","))return t;var e=t.split(","),n=new RegExp("'","gi"),i=e[0].replace(n,"");return void 0!==KmtFontFamilies.google[i]&&(t=i),t},_setFontWeightOptions:function(t){var e=0,n=m.control(this.id).container.find("select"),i=this(),r="",a=n.data("connected-control"),o=(n.data("inherit"),m.control(a).container.find("select")),s=o.data("inherit"),c=t?o.val():"400",u=["400","600"],l="",p=kemetTypo;for("inherit"==i&&(c=t?o.val():"inherit"),"inherit"==(i=KmtTypography._cleanGoogleFonts(i))?u=["400","500","600","700"]:void 0!==KmtFontFamilies.system[i]?u=KmtFontFamilies.system[i].weights:void 0!==KmtFontFamilies.google[i]?(u=KmtFontFamilies.google[i][0],u=Object.keys(u).map(function(t){return u[t]})):void 0!==KmtFontFamilies.custom[i.split(",")[0]]&&(u=KmtFontFamilies.custom[i.split(",")[0]].weights),u=d.merge(["inherit"],u),p.inherit=s;e<u.length;e++)r=0===e&&-1===d.inArray(c,u)?(c=u[0],' selected="selected"'):u[e]==c?' selected="selected"':"",l+='<option value="'+u[e]+'"'+r+">"+p[u[e]]+"</option>";o.html(l),t||(m(a).set(""),m(a).set(c))}},d(function(){KmtTypography.init()}),d(function(){jQuery("#customize-theme-controls").find(".customize-control-kmt-font-weight").each(function(){var t=jQuery(this),e=t.next(".customize-control-select");t.addClass("controls-inline"),t.css("padding-right","5px"),e.addClass("controls-inline"),e.css("padding-left","5px")})})}(jQuery),jQuery(window).on("load",function(){jQuery("html").addClass("background-colorpicker-ready")}),wp.customize.controlConstructor["kmt-background"]=wp.customize.Control.extend({ready:function(){"use strict";this.initKmtBgControl()},initKmtBgControl:function(){var o=this,s={"background-color":"","background-image":"","background-repeat":"repeat","background-position":"center center","background-size":"auto","background-attachment":"scroll"},t=o.container.find(".kmt-color-control");(_.isUndefined(s["background-image"])||""===s["background-image"])&&(o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide()),t.wpColorPicker({change:function(){jQuery("html").hasClass("background-colorpicker-ready")&&setTimeout(function(){s["background-color"]=t.val(),o.saveValue(s)},100)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&(s["background-color"]="",o.saveValue(s))}}),o.container.on("change",".background-repeat select",function(){s["background-repeat"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change click",".background-size input",function(){s["background-size"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change",".background-position select",function(){s["background-position"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change click",".background-attachment input",function(){s["background-attachment"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("click",".background-image-upload-button",function(t){var a=wp.media({multiple:!1}).open().on("select",function(){var t,e,n,i=a.state().get("selection").first(),r=i.toJSON().sizes.full.url;_.isUndefined(i.toJSON().sizes.medium)?_.isUndefined(i.toJSON().sizes.thumbnail)||(r=i.toJSON().sizes.thumbnail.url):r=i.toJSON().sizes.medium.url,t=i.toJSON().sizes.full.url,i.toJSON().id,i.toJSON().width,i.toJSON().height,""!==t&&(o.container.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show(),o.container.find(".more-settings").attr("data-direction","up"),o.container.find(".message").html(kemetCustomizerControlBackground.lessSettings),o.container.find(".icon").html("↑")),s["background-image"]=t,o.saveValue(s),e=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),e.length&&e.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+r+'" alt="" />'),n.length&&n.show()});t.preventDefault()}),o.container.on("click",".background-image-upload-remove-button",function(t){var e,n;t.preventDefault(),s["background-image"]="",o.saveValue(s),e=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide(),o.container.find(".more-settings").attr("data-direction","down"),o.container.find(".more-settings").find(".message").html(kemetCustomizerControlBackground.moreSettings),o.container.find(".more-settings").find(".icon").html("↓"),e.length&&e.removeClass().addClass("placeholder").html(kemetCustomizerControlBackground.placeholder),n.length&&n.hide()}),o.container.on("click",".more-settings",function(t){var e=jQuery(this);o.container.find(".background-wrapper > .background-repeat").toggle(),o.container.find(".background-wrapper > .background-position").toggle(),o.container.find(".background-wrapper > .background-size").toggle(),o.container.find(".background-wrapper > .background-attachment").toggle(),"down"===e.attr("data-direction")?(e.attr("data-direction","up"),e.find(".message").html(kemetCustomizerControlBackground.lessSettings),e.find(".icon").html("↑")):(e.attr("data-direction","down"),e.find(".message").html(kemetCustomizerControlBackground.moreSettings),e.find(".icon").html("↓"))})},saveValue:function(t){var e=jQuery("#customize-control-"+this.id.replace("[","-").replace("]","")+" .background-hidden-value"),n=t;jQuery(e).attr("value",JSON.stringify(n)).trigger("change"),this.setting.set(n)}}),jQuery(window).on("load",function(){jQuery("html").addClass("colorpicker-ready")}),wp.customize.controlConstructor["kmt-color"]=wp.customize.Control.extend({ready:function(){"use strict";var i=this;this.container.find(".kmt-color-picker-alpha").wpColorPicker({change:function(t,e){t.target;var n=e.color.toString();jQuery("html").hasClass("colorpicker-ready")&&i.setting.set(n)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&i.setting.set("")}})}}),wp.customize.controlConstructor["kmt-icon-select"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("change","input",function(){t.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kmt-radio-image"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("click","input",function(){t.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kmt-responsive-select"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","select.kmt-responsive-select",function(){jQuery(this).val(),t.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()})},updateValue:function(){"use strict";var i={};this.responsiveContainer=this.container.find(".kmt-responsive-wrapper").first(),this.responsiveContainer.find("select.kmt-responsive-select").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),this.setting.set(i)},kmtResponsiveInit:function(){"use strict";this.container.on("click",".kmt-responsive-slider-btns button",function(t){t.preventDefault();var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-select .input-wrapper select, .customize-control .kmt-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-select .input-wrapper select."+t+", .customize-control .kmt-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.kmtResponsiveInit(),this.container.on("input change","input[type=range]",function(){var t=jQuery(this).val(),e=jQuery(this).closest(".input-field-wrapper").find(".kmt-responsive-range-value-input");e.val(t),e.trigger("change")}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".input-field-wrapper").find("input[type=range]").val(t),e.updateValue()})},updateValue:function(){"use strict";var t=this,i={desktop:"",tablet:"",mobile:"","desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};t.responsiveContainer=t.container.find(".wrapper").first(),t.responsiveContainer.find(".kmt-responsive-range-value-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.container.find(".kmt-slider-unit-wrapper .kmt-slider-unit-input").each(function(){var t=jQuery(this),e=t.attr("data-device"),n=t.val();i[e+"-unit"]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";var o=this;this.container.on("click",".kmt-responsive-slider-btns button",function(t){t.preventDefault();var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),o.container.on("click",".kmt-slider-responsive-units .single-unit",function(){var t=jQuery(this);if(t.hasClass("active"))return!1;var e=t.attr("data-unit"),n=t.attr("data-min"),i=t.attr("data-max"),r=t.attr("data-step"),a=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");t.siblings().removeClass("active"),t.addClass("active"),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("min",n),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("max",i),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("step",r),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").val(""),o.container.find(".kmt-slider-unit-wrapper .kmt-slider-"+a+"-unit").val(e),o.updateValue()})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-slider .input-field-wrapper, .customize-control .kmt-responsive-slider-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-slider .input-field-wrapper."+t+", .customize-control .kmt-responsive-slider-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive-spacing"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","input.kmt-spacing-input",function(){jQuery(this).val(),t.updateValue()})},updateValue:function(){"use strict";var t=this,i={desktop:{},tablet:{},mobile:{},"desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};t.container.find("input.kmt-spacing-desktop").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.desktop[e]=n}),t.container.find("input.kmt-spacing-tablet").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.tablet[e]=n}),t.container.find("input.kmt-spacing-mobile").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.mobile[e]=n}),t.container.find(".kmt-spacing-unit-wrapper .kmt-spacing-unit-input").each(function(){var t=jQuery(this),e=t.attr("data-device"),n=t.val();i[e+"-unit"]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";var i=this;i.container.find(".kmt-spacing-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),i.container.on("click",".kmt-spacing-responsive-units .single-unit",function(){var t=jQuery(this);if(t.hasClass("active"))return!1;var e=t.attr("data-unit"),n=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");t.siblings().removeClass("active"),t.addClass("active"),i.container.find(".kmt-spacing-unit-wrapper .kmt-spacing-"+n+"-unit").val(e),i.updateValue()})}}),jQuery(document).ready(function(){jQuery(".kmt-spacing-connected").on("click",function(){jQuery(this).parent().parent(".kmt-spacing-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".kmt-spacing-input-item-link").removeClass("disconnected")}),jQuery(".kmt-spacing-disconnected").on("click",function(){var t=jQuery(this).data("element-connect");jQuery(this).parent().parent(".kmt-spacing-wrapper").find(".kmt-spacing-input").each(function(){var n=jQuery(this).val();""!=n&&jQuery(this).parent().parent(".kmt-spacing-wrapper").find(".kmt-spacing-input").each(function(t,e){jQuery(this).val(n).change()})}),jQuery(this).parent().parent(".kmt-spacing-wrapper").find("input").addClass("connected").attr("data-element-connect",t),jQuery(this).parent(".kmt-spacing-input-item-link").addClass("disconnected")}),jQuery(".kmt-spacing-input-item").on("input",".connected",function(){var t=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".kmt-spacing-wrapper").find('.connected[ data-element-connect="'+t+'" ]').each(function(t,e){jQuery(this).val(n).change()})})}),jQuery(".wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-spacing .input-wrapper .kmt-spacing-wrapper, .customize-control .kmt-spacing-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-spacing .input-wrapper .kmt-spacing-wrapper."+t+", .customize-control .kmt-spacing-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","input.kmt-responsive-input, select.kmt-responsive-select",function(){jQuery(this).val(),t.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()})},updateValue:function(){"use strict";var t=this,i={};t.responsiveContainer=t.container.find(".kmt-responsive-wrapper").first(),t.responsiveContainer.find("input.kmt-responsive-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.responsiveContainer.find("select.kmt-responsive-select").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";this.container.find(".kmt-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive .input-wrapper input, .customize-control .kmt-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive .input-wrapper input."+t+", .customize-control .kmt-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;jQuery("input[type=range]").on("input change",function(){var t=jQuery(this).attr("value"),e=jQuery(this).closest(".wrapper").find(".kemet_range_value .value");e.val(t),e.change()}),jQuery(".kmt-slider-reset").click(function(){var t=jQuery(this).closest(".wrapper"),e=t.find("input[type=range]"),n=t.find(".kemet_range_value .value"),i=e.data("reset_value");e.val(i),n.val(i),n.change()}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".wrapper").find("input[type=range]").val(t),e.setting.set(t)})}}),wp.customize.controlConstructor["kmt-sortable"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.sortableContainer=t.container.find("ul.sortable").first(),t.sortableContainer.sortable({stop:function(){t.updateValue()}}).disableSelection().find("li").each(function(){jQuery(this).find("i.visibility").click(function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")})}).click(function(){t.updateValue()})},updateValue:function(){"use strict";var t=[];this.sortableContainer.find("li").each(function(){jQuery(this).is(".invisible")||t.push(jQuery(this).data("value"))}),this.setting.set(t)}}),function(d){var m=wp.customize;KmtTypography={init:function(){KmtTypography._initFonts()},_initFonts:function(){d(".customize-control-kmt-font-family select").each(KmtTypography._initFont)},_initFont:function(){var t=d(this),e=t.data("customize-setting-link");void 0!==t.data("connected-control")&&(m(e).bind(KmtTypography._fontSelectChange),KmtTypography._setFontWeightOptions.apply(m(e),[!0]))},_fontSelectChange:function(){KmtTypography._setFontWeightOptions.apply(this,[!1])},_cleanGoogleFonts:function(t){if(!t.includes(","))return t;var e=t.split(","),n=new RegExp("'","gi"),i=e[0].replace(n,"");return void 0!==KmtFontFamilies.google[i]&&(t=i),t},_setFontWeightOptions:function(t){var e=0,n=m.control(this.id).container.find("select"),i=this(),r="",a=n.data("connected-control"),o=(n.data("inherit"),m.control(a).container.find("select")),s=o.data("inherit"),c=t?o.val():"400",u=["400","600"],l="",p=kemetTypo;for("inherit"==i&&(c=t?o.val():"inherit"),"inherit"==(i=KmtTypography._cleanGoogleFonts(i))?u=["400","500","600","700"]:void 0!==KmtFontFamilies.system[i]?u=KmtFontFamilies.system[i].weights:void 0!==KmtFontFamilies.google[i]?(u=KmtFontFamilies.google[i][0],u=Object.keys(u).map(function(t){return u[t]})):void 0!==KmtFontFamilies.custom[i.split(",")[0]]&&(u=KmtFontFamilies.custom[i.split(",")[0]].weights),u=d.merge(["inherit"],u),p.inherit=s;e<u.length;e++)r=0===e&&-1===d.inArray(c,u)?(c=u[0],' selected="selected"'):u[e]==c?' selected="selected"':"",l+='<option value="'+u[e]+'"'+r+">"+p[u[e]]+"</option>";o.html(l),t||(m(a).set(""),m(a).set(c))}},d(function(){KmtTypography.init()}),d(function(){jQuery("#customize-theme-controls").find(".customize-control-kmt-font-weight").each(function(){var t=jQuery(this),e=t.next(".customize-control-select");t.addClass("controls-inline"),t.css("padding-right","5px"),e.addClass("controls-inline"),e.css("padding-left","5px")})})}(jQuery),jQuery(window).on("load",function(){jQuery("html").addClass("background-colorpicker-ready")}),wp.customize.controlConstructor["kmt-background"]=wp.customize.Control.extend({ready:function(){"use strict";this.initKmtBgControl()},initKmtBgControl:function(){var o=this,s={"background-color":"","background-image":"","background-repeat":"repeat","background-position":"center center","background-size":"auto","background-attachment":"scroll"},t=o.container.find(".kmt-color-control");(_.isUndefined(s["background-image"])||""===s["background-image"])&&(o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide()),t.wpColorPicker({change:function(){jQuery("html").hasClass("background-colorpicker-ready")&&setTimeout(function(){s["background-color"]=t.val(),o.saveValue(s)},100)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&(s["background-color"]="",o.saveValue(s))}}),o.container.on("change",".background-repeat select",function(){s["background-repeat"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change click",".background-size input",function(){s["background-size"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change",".background-position select",function(){s["background-position"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("change click",".background-attachment input",function(){s["background-attachment"]=jQuery(this).val(),o.saveValue(s)}),o.container.on("click",".background-image-upload-button",function(t){var a=wp.media({multiple:!1}).open().on("select",function(){var t,e,n,i=a.state().get("selection").first(),r=i.toJSON().sizes.full.url;_.isUndefined(i.toJSON().sizes.medium)?_.isUndefined(i.toJSON().sizes.thumbnail)||(r=i.toJSON().sizes.thumbnail.url):r=i.toJSON().sizes.medium.url,t=i.toJSON().sizes.full.url,i.toJSON().id,i.toJSON().width,i.toJSON().height,""!==t&&(o.container.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show(),o.container.find(".more-settings").attr("data-direction","up"),o.container.find(".message").html(kemetCustomizerControlBackground.lessSettings),o.container.find(".icon").html("↑")),s["background-image"]=t,o.saveValue(s),e=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),e.length&&e.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+r+'" alt="" />'),n.length&&n.show()});t.preventDefault()}),o.container.on("click",".background-image-upload-remove-button",function(t){var e,n;t.preventDefault(),s["background-image"]="",o.saveValue(s),e=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide(),o.container.find(".more-settings").attr("data-direction","down"),o.container.find(".more-settings").find(".message").html(kemetCustomizerControlBackground.moreSettings),o.container.find(".more-settings").find(".icon").html("↓"),e.length&&e.removeClass().addClass("placeholder").html(kemetCustomizerControlBackground.placeholder),n.length&&n.hide()}),o.container.on("click",".more-settings",function(t){var e=jQuery(this);o.container.find(".background-wrapper > .background-repeat").toggle(),o.container.find(".background-wrapper > .background-position").toggle(),o.container.find(".background-wrapper > .background-size").toggle(),o.container.find(".background-wrapper > .background-attachment").toggle(),"down"===e.attr("data-direction")?(e.attr("data-direction","up"),e.find(".message").html(kemetCustomizerControlBackground.lessSettings),e.find(".icon").html("↑")):(e.attr("data-direction","down"),e.find(".message").html(kemetCustomizerControlBackground.moreSettings),e.find(".icon").html("↓"))})},saveValue:function(t){var e=jQuery("#customize-control-"+this.id.replace("[","-").replace("]","")+" .background-hidden-value"),n=t;jQuery(e).attr("value",JSON.stringify(n)).trigger("change"),this.setting.set(n)}}),jQuery(window).on("load",function(){jQuery("html").addClass("colorpicker-ready")}),wp.customize.controlConstructor["kmt-color"]=wp.customize.Control.extend({ready:function(){"use strict";var i=this;this.container.find(".kmt-color-picker-alpha").wpColorPicker({change:function(t,e){t.target;var n=e.color.toString();jQuery("html").hasClass("colorpicker-ready")&&i.setting.set(n)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&i.setting.set("")}})}}),wp.customize.controlConstructor["kmt-icon-select"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("change","input",function(){t.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kmt-radio-image"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("click","input",function(){t.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kmt-responsive-select"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","select.kmt-responsive-select",function(){jQuery(this).val(),t.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()})},updateValue:function(){"use strict";var i={};this.responsiveContainer=this.container.find(".kmt-responsive-wrapper").first(),this.responsiveContainer.find("select.kmt-responsive-select").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),this.setting.set(i)},kmtResponsiveInit:function(){"use strict";this.container.on("click",".kmt-responsive-slider-btns button",function(t){t.preventDefault();var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-select .input-wrapper select, .customize-control .kmt-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-select .input-wrapper select."+t+", .customize-control .kmt-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.kmtResponsiveInit(),this.container.on("input change","input[type=range]",function(){var t=jQuery(this).val(),e=jQuery(this).closest(".input-field-wrapper").find(".kmt-responsive-range-value-input");e.val(t),e.trigger("change")}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".input-field-wrapper").find("input[type=range]").val(t),e.updateValue()})},updateValue:function(){"use strict";var t=this,i={desktop:"",tablet:"",mobile:"","desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};t.responsiveContainer=t.container.find(".wrapper").first(),t.responsiveContainer.find(".kmt-responsive-range-value-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.container.find(".kmt-slider-unit-wrapper .kmt-slider-unit-input").each(function(){var t=jQuery(this),e=t.attr("data-device"),n=t.val();i[e+"-unit"]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";var o=this;this.container.on("click",".kmt-responsive-slider-btns button",function(t){t.preventDefault();var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),o.container.on("click",".kmt-slider-responsive-units .single-unit",function(){var t=jQuery(this);if(t.hasClass("active"))return!1;var e=t.attr("data-unit"),n=t.attr("data-min"),i=t.attr("data-max"),r=t.attr("data-step"),a=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");t.siblings().removeClass("active"),t.addClass("active"),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("min",n),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("max",i),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").attr("step",r),o.container.find(".input-field-wrapper."+a+" .kmt-responsive-range-"+a+"-input ,.input-field-wrapper."+a+" input[type=range]").val(""),o.container.find(".kmt-slider-unit-wrapper .kmt-slider-"+a+"-unit").val(e),o.updateValue()})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-slider .input-field-wrapper, .customize-control .kmt-responsive-slider-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-slider .input-field-wrapper."+t+", .customize-control .kmt-responsive-slider-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive-spacing"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","input.kmt-spacing-input",function(){jQuery(this).val(),t.updateValue()})},updateValue:function(){"use strict";var t=this,i={desktop:{},tablet:{},mobile:{},"desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};t.container.find("input.kmt-spacing-desktop").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.desktop[e]=n}),t.container.find("input.kmt-spacing-tablet").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.tablet[e]=n}),t.container.find("input.kmt-spacing-mobile").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.mobile[e]=n}),t.container.find(".kmt-spacing-unit-wrapper .kmt-spacing-unit-input").each(function(){var t=jQuery(this),e=t.attr("data-device"),n=t.val();i[e+"-unit"]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";var i=this;i.container.find(".kmt-spacing-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),i.container.on("click",".kmt-spacing-responsive-units .single-unit",function(){var t=jQuery(this);if(t.hasClass("active"))return!1;var e=t.attr("data-unit"),n=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");t.siblings().removeClass("active"),t.addClass("active"),i.container.find(".kmt-spacing-unit-wrapper .kmt-spacing-"+n+"-unit").val(e),i.updateValue()})}}),jQuery(document).ready(function(){jQuery(".kmt-spacing-connected").on("click",function(){jQuery(this).parent().parent(".kmt-spacing-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".kmt-spacing-input-item-link").removeClass("disconnected")}),jQuery(".kmt-spacing-disconnected").on("click",function(){var t=jQuery(this).data("element-connect");jQuery(this).parent().parent(".kmt-spacing-wrapper").find(".kmt-spacing-input").each(function(){var n=jQuery(this).val();""!=n&&jQuery(this).parent().parent(".kmt-spacing-wrapper").find(".kmt-spacing-input").each(function(t,e){jQuery(this).val(n).change()})}),jQuery(this).parent().parent(".kmt-spacing-wrapper").find("input").addClass("connected").attr("data-element-connect",t),jQuery(this).parent(".kmt-spacing-input-item-link").addClass("disconnected")}),jQuery(".kmt-spacing-input-item").on("input",".connected",function(){var t=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".kmt-spacing-wrapper").find('.connected[ data-element-connect="'+t+'" ]').each(function(t,e){jQuery(this).val(n).change()})})}),jQuery(".wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive-spacing .input-wrapper .kmt-spacing-wrapper, .customize-control .kmt-spacing-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive-spacing .input-wrapper .kmt-spacing-wrapper."+t+", .customize-control .kmt-spacing-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-responsive"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.kmtResponsiveInit(),this.container.on("change keyup paste","input.kmt-responsive-input, select.kmt-responsive-select",function(){jQuery(this).val(),t.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()})},updateValue:function(){"use strict";var t=this,i={};t.responsiveContainer=t.container.find(".kmt-responsive-wrapper").first(),t.responsiveContainer.find("input.kmt-responsive-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.responsiveContainer.find("select.kmt-responsive-select").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.setting.set(i)},kmtResponsiveInit:function(){"use strict";this.container.find(".kmt-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-kmt-responsive .input-wrapper input, .customize-control .kmt-responsive-btns > li").removeClass("active"),jQuery(".customize-control-kmt-responsive .input-wrapper input."+t+", .customize-control .kmt-responsive-btns > li."+t).addClass("active")}),wp.customize.controlConstructor["kmt-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;jQuery("input[type=range]").on("input change",function(){var t=jQuery(this).attr("value"),e=jQuery(this).closest(".wrapper").find(".kemet_range_value .value");e.val(t),e.change()}),jQuery(".kmt-slider-reset").click(function(){var t=jQuery(this).closest(".wrapper"),e=t.find("input[type=range]"),n=t.find(".kemet_range_value .value"),i=e.data("reset_value");e.val(i),n.val(i),n.change()}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".wrapper").find("input[type=range]").val(t),e.setting.set(t)})}}),wp.customize.controlConstructor["kmt-sortable"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.sortableContainer=t.container.find("ul.sortable").first(),t.sortableContainer.sortable({stop:function(){t.updateValue()}}).disableSelection().find("li").each(function(){jQuery(this).find("i.visibility").click(function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")})}).click(function(){t.updateValue()})},updateValue:function(){"use strict";var t=[];this.sortableContainer.find("li").each(function(){jQuery(this).is(".invisible")||t.push(jQuery(this).data("value"))}),this.setting.set(t)}}),function(d){var m=wp.customize;KmtTypography={init:function(){KmtTypography._initFonts()},_initFonts:function(){d(".customize-control-kmt-font-family select").each(KmtTypography._initFont)},_initFont:function(){var t=d(this),e=t.data("customize-setting-link");void 0!==t.data("connected-control")&&(m(e).bind(KmtTypography._fontSelectChange),KmtTypography._setFontWeightOptions.apply(m(e),[!0]))},_fontSelectChange:function(){KmtTypography._setFontWeightOptions.apply(this,[!1])},_cleanGoogleFonts:function(t){if(!t.includes(","))return t;var e=t.split(","),n=new RegExp("'","gi"),i=e[0].replace(n,"");return void 0!==KmtFontFamilies.google[i]&&(t=i),t},_setFontWeightOptions:function(t){var e=0,n=m.control(this.id).container.find("select"),i=this(),r="",a=n.data("connected-control"),o=(n.data("inherit"),m.control(a).container.find("select")),s=o.data("inherit"),c=t?o.val():"400",u=["400","600"],l="",p=kemetTypo;for("inherit"==i&&(c=t?o.val():"inherit"),"inherit"==(i=KmtTypography._cleanGoogleFonts(i))?u=["400","500","600","700"]:void 0!==KmtFontFamilies.system[i]?u=KmtFontFamilies.system[i].weights:void 0!==KmtFontFamilies.google[i]?(u=KmtFontFamilies.google[i][0],u=Object.keys(u).map(function(t){return u[t]})):void 0!==KmtFontFamilies.custom[i.split(",")[0]]&&(u=KmtFontFamilies.custom[i.split(",")[0]].weights),u=d.merge(["inherit"],u),p.inherit=s;e<u.length;e++)r=0===e&&-1===d.inArray(c,u)?(c=u[0],' selected="selected"'):u[e]==c?' selected="selected"':"",l+='<option value="'+u[e]+'"'+r+">"+p[u[e]]+"</option>";o.html(l),t||(m(a).set(""),m(a).set(c))}},d(function(){KmtTypography.init()}),d(function(){jQuery("#customize-theme-controls").find(".customize-control-kmt-font-weight").each(function(){var t=jQuery(this),e=t.next(".customize-control-select");t.addClass("controls-inline"),t.css("padding-right","5px"),e.addClass("controls-inline"),e.css("padding-left","5px")})})}(jQuery);