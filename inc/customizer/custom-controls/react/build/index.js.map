{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@react-spring/animated/dist/react-spring-animated.esm.js","webpack:///./node_modules/@react-spring/core/dist/react-spring-core.esm.js","webpack:///./node_modules/@react-spring/rafz/dist/react-spring-rafz.esm.js","webpack:///./node_modules/@react-spring/shared/dist/react-spring-shared.esm.js","webpack:///./node_modules/@react-spring/web/dist/react-spring-web.esm.js","webpack:///./node_modules/bezier-easing/src/index.js","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/memoize-one/dist/memoize-one.esm.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/prop-types/checkPropTypes.js","webpack:///./node_modules/prop-types/factoryWithTypeCheckers.js","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/react-is/cjs/react-is.development.js","webpack:///./node_modules/react-is/index.js","webpack:///./node_modules/react-sortablejs/dist/index.js","webpack:///./node_modules/react-virtualized-auto-sizer/dist/index.esm.js","webpack:///./node_modules/react-window/dist/index.esm.js","webpack:///./node_modules/sortablejs/modular/sortable.esm.js","webpack:///./node_modules/tiny-invariant/dist/tiny-invariant.esm.js","webpack:///./node_modules/webfontloader/webfontloader.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/common/color.js","webpack:///./src/common/outside-component.js","webpack:///./src/common/popover-component.js","webpack:///./src/common/responsive-helper.js","webpack:///./src/common/responsive.js","webpack:///./src/common/typo-helper.js","webpack:///./src/customizer.js","webpack:///./src/index.js","webpack:///./src/kmt-controls/available.js","webpack:///./src/kmt-controls/background.js","webpack:///./src/kmt-controls/builder-tabs.js","webpack:///./src/kmt-controls/color.js","webpack:///./src/kmt-controls/editor.js","webpack:///./src/kmt-controls/focus.js","webpack:///./src/kmt-controls/layout-builder/add-component.js","webpack:///./src/kmt-controls/layout-builder/builder-component.js","webpack:///./src/kmt-controls/layout-builder/drop-component.js","webpack:///./src/kmt-controls/layout-builder/item-component.js","webpack:///./src/kmt-controls/layout-builder/row-component.js","webpack:///./src/kmt-controls/radio.js","webpack:///./src/kmt-controls/row-layout.js","webpack:///./src/kmt-controls/select.js","webpack:///./src/kmt-controls/slider.js","webpack:///./src/kmt-controls/sortable.js","webpack:///./src/kmt-controls/spacing.js","webpack:///./src/kmt-controls/tabs.js","webpack:///./src/kmt-controls/text.js","webpack:///./src/kmt-controls/title.js","webpack:///./src/kmt-controls/toggle.js","webpack:///./src/kmt-controls/typography.js","webpack:///./src/kmt-controls/typography/FontOptions.js","webpack:///./src/kmt-controls/typography/FontsList.js","webpack:///./src/kmt-controls/typography/VariationsList.js","webpack:///./src/kmt-controls/typography/default-data.js","webpack:///./src/kmt-controls/typography/helpers.js","webpack:///./src/kmt-controls/typography/typo-modal.js","webpack:///./src/options/control.js","webpack:///./src/options/options-component.js","webpack:///external \"regeneratorRuntime\"","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"i18n\"]","webpack:///external [\"wp\",\"mediaUtils\"]","webpack:///external \"React\"","webpack:///external \"ReactDOM\""],"names":["KemetColorPickerControl","props","arguments","onChangeComplete","bind","onPaletteChangeComplete","onChangeGradientComplete","renderImageSettings","onRemoveImage","onSelectImage","open","toggleClose","state","isVisible","refresh","color","text","modalCanClose","backgroundType","supportGradient","undefined","__experimentalGradientPicker","setState","allowGradient","allowImage","allGradients","toggleVisible","showingGradient","tabs","name","title","__","className","gradientTab","push","imageTab","defaultColorPalette","onSelect","tabName","RenderTopSection","map","index","background","classnames","active","backgroundColor","backgroundPosition","Math","round","parseFloat","x","y","gradient","backgroundImage","length","tab","tabout","slug","palette","newColor","rgb","a","r","g","b","hex","isPalette","onChange","onChangeGradient","media","event","preventDefault","tempKey","mainkey","value","onChangeImageOptions","dimensions","width","height","repeat","url","focalPoint","Object","keys","item","classActive","backgroundRepeat","backgroundSize","backgroundAttachment","Component","propTypes","PropTypes","string","usePalette","bool","presetColors","object","func","customizer","DISPLAY","BLOCK","FLEX","INLINE_BLOCK","defaultProps","disabled","useCapture","display","updateRef","ref","instance","current","OutsideComponent","createRef","result","childNode","additionalRefs","reduce","isInside","currentRef","contains","target","e","checkIsInside","removeMouseUp","document","addEventListener","onMouseUp","removeEventListener","onOutsideClick","wrapperProps","addMouseDownEventListener","prevDisabled","removeEventListeners","onMouseDown","removeMouseDown","children","cls","setChildNodeRef","nullifyTransforms","el","parseTransform","window","getComputedStyle","transform","split","slice","v","getBoundingClientRect","top","left","transformArr","t","det","usePopoverMaker","contentRefProp","contentRef","shouldCalculate","defaultHeight","useRef","useState","s","random","refreshOnScroll","modalRef","useEffect","setTimeout","observer","ResizeObserver","observe","attributes","closest","disconnect","useMemo","right","yOffset","position","otherStyles","rect","maybeWidthFlag","content","innerWidth","body","classList","indexOf","previousElementSibling","nextRect","parentNode","popoverRect","innerHeight","bottom","refreshPopover","styles","popoverProps","kemetGetResponsiveJs","control","device","jQuery","attr","removeClass","addClass","on","container","find","parent","trigger","kemetGetResponsiveIconJs","kemetGetResponsiveColorJs","child_control_name","mouseup","resColorWrap","is","has","click","kemetGetResponsiveBgJs","bgWrap","KemetGetResponsiveColorGroupJs","wp","i18n","Responsive","view","linkResponsiveButtons","label","CustomEvent","dispatchEvent","customize","previewedDevice","self","changeViewType","detail","controlLabel","tooltip","fontFamilyToCSSFamily","family","replace","findSourceTypeSettingsFor","font_family","fonts_list","values","single_font_source","families","findSourceTypeFor","source","type","findSelectedFontFamily","decideVariationToSelect","newValue","oldValue","all_variations","variation","humanizeVariationsShort","all","n1","i1","n2","i2","n3","i3","n4","i4","n5","i5","n6","i6","n7","i7","n8","i8","n9","i9","Default","humanizeVariations","familyForDisplay","fontValue","includes","splitFont","pattern","RegExp","googleFontValue","KmtFontFamilies","google","$","api","$window","$body","expandedPanel","data","set","setBuilderResponsiveDisplay","get","$tabs","filter","section","each","expanded","resizePreviewer","footer","hasClass","previewer","css","outerHeight","initKmtBuilderPanel","panel","builderType","id","$section","contentContainer","section_layout","isExpanded","options","merge","controls","_","Promise","deferred","embedded","renderContent","resolve","then","hide","toggleClass","KemetCustomizerData","contexts","context","mobileLogo","getSettingId","setupControl","element","rules","setActiveState","isDisplay","show","rule","ruleKey","setting","getSetting","validate","deviceButtons","querySelector","dataset","components","Dashicon","Button","AvailableComponent","defaultParams","controlParams","params","input_attrs","builderControlId","group","choices","usedItems","items","setItems","onDrogStart","dragZones","querySelectorAll","i","add","onDragEnd","remove","onUpdate","newItems","onDragStop","linkRemovingItem","focusSection","focus","renderItems","available","zones","zone","row","list","put","isRequired","React","memo","BackgroundComponent","responsive","defaultValue","ResDefaultParam","desktop","tablet","mobile","defaultValues","defaultVals","default","props_value","setPropsValue","setDevice","updateValue","obj","flag","updateBackgroundType","deviceObj","responsiveHtml","renderReset","JSON","stringify","labelHtml","descriptionHtml","mainKey","onSelectType","renderSettings","renderBackground","handleChangeComplete","handleChangeGradient","String","description","inputHtml","BuilderTabs","ColorComponent","responsiveBaseDefault","pickers","baseDefault","optionsHtml","innerOptionsHtml","updateValues","UpdatedState","renderOperationButtons","parse","currentDevice","renderInputHtml","entries","key","EditorComponent","editorId","restoreTextMode","HandleChange","prevState","tinymce","isHidden","oldEditor","initialize","wpautop","toolbar1","toolbar2","quicktags","mediaButtons","editor","initialized","onInit","switchEditors","go","debounce","getContent","fn","delay","timer","args","clearTimeout","apply","labelContent","FocusComponent","button_params","ButtonGroup","Popover","Fragment","AddComponent","visible","setVisible","addItem","column","setList","updateItems","location","rows","settings","area","itemIncludesMenu","itemIncludesToggle","icon","sort","BuilderComponent","staleValue","columns","layouts","prevItems","isPopup","revertDrag","layout","enablePopup","header","rowSetting","popup_control","onDragStart","controlValue","prevValue","prevRestrictValue","restrictValue","restrictRow","restrictZone","checkPopupVisibilty","setPreviousItems","prevITems","rowKey","zoneKey","zoneValue","zoneItem","draggedItem","dragged","inObject","rowValue","arraysEqual","move","onAddItem","removeItem","updateState","update","old","hasPopup","search","updateRowLayout","newParams","updateRow","updateZone","DropComponent","currentList","filterChoices","theItems","sortList","splice","currentCenterList","centerItems","theCenterItems","sortCurrentCenterList","addSortable","listLocation","showDrop","newState","hideDrop","ItemComponent","has_widget_editor","RowComponent","centerClass","mode","besideItems","zone_count","enableRow","charAt","toUpperCase","toLowerCase","removeRow","removeZone","Tooltip","RadioComponent","renderButtons","currentChoices","choice","currentValue","RowLayoutComponent","parseInt","onFooterUpdate","newColumns","linkColumns","controlMap","SelectComponent","html","ResponsiveSliderComponent","initialState","defUnit","defaultVal","size","unit_choices","unit","handleUnitChange","suffix","suffixContent","descriptionContent","dataAttributes","units","min","max","step","unitHTML","unit_class","sliderValue","handleReset","SortableComponent","inputAttrs","sortable","stop","disableSelection","parents","visibleMetaHtml","choiceID","invisibleMetaHtml","Array","isArray","SpacingComponent","onConnectedClick","parentElement","inputs","setAttribute","onDisconnectedClick","elements","elementConnect","onSpacingChange","deviceUpdateState","onUnitChange","unitKey","renderResponsiveInput","linked_choices","connected","connectedClass","disconnectedClass","htmlChoices","inputValue","linkHtml","responsiveUnit","renderUnit","unitClass","TabsComponent","currentTab","renderOptions","TextComponent","TitleComponent","captionContent","caption","htmlCaption","ToggleControlComponent","getLeftForEl","modal","style","wrapperLeft","Typography","currentViewCache","setCurrentViewCache","typographyWrapper","currentView","previousView","isOpen","isTransitioning","setModalState","PopoverComponent","setCurrentView","useCallback","newView","setIsOpen","stopTransitioning","fontFamilyRef","fontSizeRef","fontWeightRef","dotsRef","arrowLeft","futureRef","onClick","stopPropagation","createPortal","duration","easing","bezierEasing","opacity","initialView","FontOptions","option","sizeRef","variant","loadedFonts","loadGoogleFonts","font_families","googleFonts","typekitFonts","WebFontLoader","load","typekit","kit","classes","SingleFont","linearFontsList","onPickFamily","fontFamily","FontsList","typographyList","searchTerm","listRef","timerRef","scrollTimer","setScrollTimer","scrollToItem","onScroll","_getRangeToRender","overscanStartIndex","perPage","totalPages","ceil","startingPage","pageItems","overscanStopIndex","VariationsList","selectedFontFamily","parentEl","scrollTop","offsetTop","getDefaultFonts","isDefault","system","variations","$1","combineRefs","refs","hasOwnProperty","fuzzysearch","needle","haystack","hlen","nlen","outer","j","nch","charCodeAt","TypographyModal","setInititialView","setTypographyList","isSearch","setIsSearch","setSearchTerm","direction","inputEl","sizeEl","currentSource","fetchFontsList","FormData","append","fetch","ajaxurl","method","response","status","json","success","fonts","console","log","pickFontFamily","keyCode","transition","render","_value","unmountComponentAtNode","ready","$this","parentWrap","Section","getOpenPopup","wpOptions","OptionComponent","SliderComponent","settingName","relation","boolean","operator","ruleValue","settingValue","SingleOptionComponent","optionId","settingVal","setValue","Option","controlName","OptionsComponent"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACXA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACLA,uBAAuB,mBAAO,CAAC,wFAAuB;;AAEtD;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACPA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACPA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA,6E;;;;;;;;;;;;AChBA;AAAA;AAAe;AACf;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACNA;AAAA;AAAe;AACf;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAiD;AAClC;AACf;AACA;AACA,EAAE,kEAAc;AAChB,C;;;;;;;;;;;;ACLA;AAAA;AAAe;AACf;AACA;AACA;AACA;;AAEA,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACbA;AAAA;AAAe;AACf;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;ACPA;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACTA,qBAAqB,mBAAO,CAAC,oFAAqB;;AAElD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,6E;;;;;;;;;;;AClBA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACLA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,2BAA2B,+BAA+B;AAC1D;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6E;;;;;;;;;;;AC/BA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACLA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACLA,cAAc,mBAAO,CAAC,sFAA+B;;AAErD,4BAA4B,mBAAO,CAAC,kGAA4B;;AAEhE;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACXA,qBAAqB,mBAAO,CAAC,oFAAqB;;AAElD,2BAA2B,mBAAO,CAAC,gGAA2B;;AAE9D,iCAAiC,mBAAO,CAAC,4GAAiC;;AAE1E,sBAAsB,mBAAO,CAAC,sFAAsB;;AAEpD;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACbA,wBAAwB,mBAAO,CAAC,0FAAwB;;AAExD,sBAAsB,mBAAO,CAAC,sFAAsB;;AAEpD,iCAAiC,mBAAO,CAAC,4GAAiC;;AAE1E,wBAAwB,mBAAO,CAAC,0FAAwB;;AAExD;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACbA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACrBA,uBAAuB,mBAAO,CAAC,wFAAuB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkO;AACnM;AACoC;;AAEnE;AACA;AACA;AACA,qCAAqC,yEAAY;AACjD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,uDAAE;AACV;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,QAAQ,uDAAE;AACV;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA,QAAQ,uDAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,+EAAkB;AACvC;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,uDAAE;AACV;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uBAAuB,+EAAkB;AACzC;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI,qEAAQ;AACZ;AACA;AACA,OAAO,UAAU,0EAAa;AAC9B,sBAAsB,0EAAa;AACnC,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,iEAAI;AACV;AACA;;AAEA;AACA;AACA;AACA,MAAM,qEAAQ;AACd;AACA;AACA;;AAEA;AACA,oCAAoC,0EAAa;AACjD;AACA;;AAEA;;AAEA;AACA,MAAM,iEAAI;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,mBAAmB,6EAAgB;AACnC;AACA;;AAEA;AACA;AACA,+CAA+C,uDAAE,8BAA8B,6EAAgB;AAC/F;;AAEA;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,uDAAE;AACzB,SAAS,wDAAU;AACnB,wBAAwB,oDAAM;AAC9B,+BAA+B,yDAAW;AAC1C;AACA,KAAK;AACL;AACA,wBAAwB,2EAAc;;AAEtC;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,oDAAM;AAC9B,IAAI,4EAAe;AACnB;AACA;AACA,MAAM,iEAAI,cAAc,6EAAgB;;AAExC;AACA,QAAQ,iEAAI,2BAA2B,gFAAmB;AAC1D,QAAQ,wDAAG;AACX;AACA,KAAK;AACL,IAAI,uDAAS;AACb,IAAI,oEAAO;AACX;AACA,MAAM,iEAAI,uBAAuB,gFAAmB;AACpD,KAAK;AACL;AACA,WAAW,mDAAmB,uBAAuB;AACrD;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,wDAAG;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA,sCAAsC;AACtC;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ,uDAAE,sBAAsB;AAChC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC,KAAK;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,QAAQ,uDAAE;AACV;AACA,KAAK;AACL;AACA;;AAEA,wCAAwC,YAAY;AACpD;AACA;;AAEA,EAAE,qEAAQ;AACV,QAAQ,uDAAE;AACV;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,8BAA8B,uDAAE,yBAAyB,uDAAE,0CAA0C,uDAAE;;AAE0D;;;;;;;;;;;;;AChXjK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAga;AAC7V;AACpC;AAC+B;AACgE;AACjF;AACK;;AAElD;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS,uDAAE;AACX;AACA,wEAAwE,uDAAE,2BAA2B,oEAAO;AAC5G,mCAAmC,uDAAE;AACrC;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,SAAS,uDAAE;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE,qEAAQ;AACV;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI,qEAAQ;AACZ;AACA;;AAEA,oBAAoB;AACpB;AACA;AACA,UAAU,0EAAa;AACvB,SAAS,uDAAE,uCAAuC,6EAAgB,UAAU,4DAAO;AACnF;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS,uDAAE,YAAY,uDAAE,YAAY,uDAAE;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE,4EAAe;AACjB;AACA;AACA,MAAM,iEAAI;AACV;;AAEA;AACA;AACA,8CAA8C;AAC9C,UAAU,iEAAI;AACd,YAAY,iEAAI;AAChB;;AAEA;AACA,aAAa;AACb;AACA,WAAW;AACX;AACA,OAAO;AACP,KAAK;AACL;AACA,MAAM,iEAAI;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,YAAY,iEAAI,2BAA2B,iEAAI;AAC/C;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,2BAA2B;AAC3B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH,OAAO,uDAAE;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO,uDAAE;AACT;AACA,GAAG;AACH,6BAA6B,uDAAE,wBAAwB,uDAAE;;AAEzD,4BAA4B,uDAAE,0BAA0B,uDAAE,wBAAwB,uDAAE;AACpF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,WAAW,uDAAE;AACb;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B,wDAAG;AAChC;;AAEA;AACA;AACA,kBAAkB,wDAAG;AACrB;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,4DAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,uDAAE,wBAAwB,qBAAqB;AACrE;AACA,SAAS;AACT;AACA,QAAQ,qEAAQ;AAChB,cAAc,uDAAE;AAChB;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA,OAAO;AACP;;AAEA;;AAEA,QAAQ,4DAAO;AACf;AACA;AACA;;AAEA;AACA;;AAEA,UAAU,uDAAE;AACZ;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,uDAAE;AACV,MAAM,wDAAG;AACT;AACA,OAAO;AACP;;AAEA;AACA,GAAG;AACH;AACA;AACA,EAAE,kEAAK;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,yBAAyB,+DAAU;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,0EAAW;AAC5B;AACA;;AAEA;AACA,WAAW,4DAAO;AAClB;;AAEA;AACA,IAAI,iFAAoB;AACxB,WAAW,4DAAO;AAClB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,IAAI,+EAAkB;AACtB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,MAAM,8DAAS;AACf;;AAEA,IAAI,+EAAkB;AACtB;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,uDAAE,eAAe,uDAAE;AAC5B,oBAAoB,uDAAE,wBAAwB,qBAAqB;AACnE;AACA,OAAO;;AAEP,UAAU,uDAAE;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,0EAAa;AACxB;;AAEA;AACA,iBAAiB,0EAAW;AAC5B,2BAA2B,oEAAa;AACxC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,oBAAoB,yEAAU;;AAE9B,oBAAoB,0EAAa;AACjC,iBAAiB,oEAAO,CAAC,0EAAa;AACtC;;AAEA;AACA;AACA,qCAAqC,qEAAc;AACnD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,yDAAyD,uDAAE;AAC3D;;AAEA,aAAa,uDAAE;AACf;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,iCAAiC,uDAAE;AACnC;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,cAAc;AAC3C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,iBAAiB,0EAAW;AAC5B;;AAEA;AACA,uBAAuB,0EAAa;;AAEpC;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,IAAI,wDAAG;AACP;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM,wDAAG;AACT;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,SAAS,uDAAE;AACX,eAAe,uDAAE,2BAA2B;AAC5C;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA,IAAI,wDAAG;AACP;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,SAAS,uDAAE;;AAEX;AACA;AACA;;AAEA,WAAW,uDAAE;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,0EAAa;;AAE1B,WAAW,uDAAE;AACb;AACA,OAAO,WAAW,0EAAW;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA2B;;AAE3B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,uEAAU;AACtB;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA,YAAY,uEAAU;AACtB;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,uDAAE;AACzB,yBAAyB,uDAAE;;AAE3B;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;;AAEL,wDAAwD,uDAAE;AAC1D;AACA;;AAEA;AACA,4BAA4B,oEAAO;;AAEnC;AACA;AACA;;AAEA,WAAW,0EAAa;AACxB,0BAA0B,oEAAO;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAe,0EAAW;;AAE1B,iBAAiB,uDAAE;AACnB;AACA;;AAEA,kBAAkB,uDAAE,qDAAqD,uDAAE;AAC3E;AACA;AACA,yBAAyB,uDAAE,cAAc,uDAAE,cAAc,6EAAgB;AACzE;;AAEA;AACA,uBAAuB,8EAAe;;AAEtC;AACA;AACA;AACA,SAAS,4CAA4C,sBAAsB,OAAO,cAAc;AAChG;AACA;;AAEA;AACA,kBAAkB,0EAAa;AAC/B;;AAEA;AACA;;AAEA;AACA,mBAAmB,oEAAO;AAC1B;AACA;;AAEA,WAAW,oEAAO,8CAA8C,oEAAO,0BAA0B,oEAAO;AACxG;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,qBAAqB,0EAAa;AAClC;AACA,wBAAwB,0EAAa,0BAA0B,qEAAc,SAAS,oEAAO;AAC7F;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,QAAQ,iEAAI;AACZ;AACA,QAAQ,uEAAU;;AAElB;;AAEA,0BAA0B,wDAAG;AAC7B;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,OAAO;AACP;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA,UAAU,8EAAiB;AAC3B;AACA;;AAEA;;AAEA,UAAU,8EAAiB;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL,QAAQ,0EAAa;AACrB,MAAM,6EAAgB;;AAEtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL,QAAQ,0EAAa;AACrB,MAAM,gFAAmB;AACzB;AACA;;AAEA;AACA,kBAAkB,0EAAa;;AAE/B,SAAS,uDAAE;AACX,sBAAsB,0EAAW;;AAEjC,uBAAuB,oEAAO;AAC9B,yBAAyB,8EAAe;;AAExC;AACA,UAAU,0EAAW;AACrB,SAAS;AACT;AACA;;AAEA;AACA,UAAU,wDAAG;AACb;AACA,WAAW;AACX;AACA;AACA;;AAEA,WAAW,0EAAW;AACtB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI,0EAAW,aAAa,0EAAa;;AAEzC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,4DAAO;AACf;AACA,KAAK;AACL,MAAM,8DAAS;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM,iEAAI;AACV;AACA,OAAO;;AAEP;AACA;AACA;;AAEA,MAAM,+EAAkB;AACxB;AACA;AACA,OAAO;AACP;AACA,MAAM,uEAAU;;AAEhB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS,oEAAO;AAChB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM,uDAAE;AACR,MAAM,uDAAE;AACR;AACA;AACA;AACA;AACA;;AAEA,MAAM,uDAAE;AACR;AACA;;AAEA;AACA;;AAEA;AACA,EAAE,qEAAQ;AACV;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,WAAW,uDAAE;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA,cAAc,oEAAO;AACrB,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,iEAAI,CAAC,oEAAO;AAClB,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,QAAQ,uDAAE;AACV;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,MAAM,iEAAI,CAAC,oEAAO;AAClB;;AAEA;AACA;;AAEA;AACA,QAAQ,uDAAE;AACV;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,MAAM,iEAAI,CAAC,oEAAO;AAClB;;AAEA;AACA;;AAEA;AACA,IAAI,qEAAQ;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,MAAM,kEAAK;AACX;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA,MAAM,kEAAK;AACX;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,MAAM,kEAAK;AACX;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;;AAEL,IAAI,wDAAG;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,mBAAmB,uDAAE;;AAErB;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,uDAAE,YAAY,uDAAE;;AAElC;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH,MAAM,iEAAI;AACV;;AAEA,YAAY,uDAAE;AACd;;AAEA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA,IAAI,uEAAU;AACd,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,yDAAI;AACnB,gBAAgB,yDAAI;;AAEpB;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI,wDAAG;AACP;;AAEA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA,IAAI,iEAAI,CAAC,oEAAO;AAChB,UAAU,uDAAE;AACZ;AACA;;AAEA,WAAW,uDAAE;AACb,2BAA2B;AAC3B;AACA,SAAS;AACT;;AAEA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,EAAE,qEAAQ;AACV;AACA;AACA,MAAM,6EAAgB;AACtB;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA,IAAI,6EAAgB;AACpB;;AAEA;AACA;;AAEA;AACA;AACA,IAAI,iEAAI;AACR;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,EAAE,iEAAI;AACN;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA,oBAAoB,wDAAU;AAC9B;AACA;AACA,UAAU,uEAAU;AACpB;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH,SAAS,mDAAmB;AAC5B;AACA,GAAG;AACH;AACA,yCAAyC;AACzC;AACA;;AAEA;AACA,wBAAwB,mDAAmB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,IAAI,gFAAmB;AACvB;AACA,IAAI,iEAAI;AACR,UAAU,uDAAE;AACZ;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI,iEAAI;AACR;AACA;;AAEA;AACA,IAAI,iEAAI;AACR;AACA;;AAEA;AACA,IAAI,iEAAI;AACR;;AAEA;AACA;AACA,IAAI,iEAAI;AACR,UAAU,uDAAE;AACZ;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,IAAI,iEAAI;AACR;AACA;;AAEA;AACA,IAAI,iEAAI;AACR;AACA;;AAEA;AACA,WAAW,uDAAE;AACb;;AAEA;AACA;AACA;;AAEA;AACA,kBAAkB,uDAAE;AACpB;AACA,cAAc,qDAAO;AACrB,mBAAmB,oDAAM;AACzB,sBAAsB,2EAAc;AACpC,gBAAgB,qDAAO;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;;AAEA,GAAG;AACH,gBAAgB,oDAAM;AACtB;AACA,qBAAqB,oEAAO;AAC5B,EAAE,qDAAO;AACT,IAAI,iEAAI;AACR;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH,EAAE,qDAAO;AACT;AACA,GAAG;;AAEH;AACA,4BAA4B,cAAc;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,wDAAU;AAC5B,sBAAsB,oEAAO;AAC7B;AACA,EAAE,4EAAe;AACjB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,MAAM,iEAAI;AACV;;AAEA,IAAI,iEAAI;AACR;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,EAAE,oEAAO;AACT,IAAI,iEAAI;AACR,GAAG;AACH,6CAA6C;AAC7C;AACA;;AAEA;AACA,eAAe,uDAAE;AACjB;AACA;AACA;;AAEA;;AAEA,2BAA2B,sDAAQ;;AAEnC;AACA,kBAAkB,uDAAE;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,aAAa;AAChB;AACA,EAAE,4EAAe;AACjB,IAAI,iEAAI;AACR;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;;AAEH;AACA;AACA,oBAAoB,uDAAE;;AAEtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C;;AAE3C;AACA,kBAAkB,uDAAE;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,cAAc,qDAAO;AACrB,gBAAgB,oEAAO;AACvB;AACA,0BAA0B,oDAAM;AAChC;AACA,EAAE,4EAAe;AACjB;AACA,GAAG;AACH,EAAE,oEAAO,aAAa,iEAAI;AAC1B;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE,4EAAe,OAAO,iEAAI;AAC5B;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,uBAAuB,iEAAI;AAC3B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,EAAE,iEAAI;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,iEAAI;AACR;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;AACL;;AAEA,MAAM,uDAAE;AACR;AACA;;AAEA;AACA,sBAAsB,2EAAc;AACpC;AACA;AACA,EAAE,iEAAI;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,OAAO;AACP;;AAEA;AACA,SAAS,uDAAE;AACX;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,KAAK;;AAEL,0CAA0C,uDAAE;AAC5C;;AAEA,mBAAmB,uDAAE;AACrB;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,kBAAkB,wDAAU;AAC5B,sBAAsB,oEAAO;AAC7B;AACA,EAAE,4EAAe;AACjB,oBAAoB,iEAAI;AACxB;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH,EAAE,4EAAe;AACjB,IAAI,iEAAI;AACR;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH,sCAAsC,mDAAmB,CAAC,8CAAc;AACxE;AACA;AACA,KAAK;AACL,mCAAmC;AACnC,+BAA+B,mDAAmB,uBAAuB;AACzE,WAAW,uDAAE,eAAe,uDAAE;AAC9B;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA,SAAS,uDAAE,qBAAqB,uDAAE,+BAA+B,oEAAO;AACxE;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,uDAAE;AACb,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,+EAAkB;;AAElC;;AAEA,qBAAqB,8EAAe;AACpC,IAAI,0EAAW;AACf;;AAEA;AACA;;AAEA;;AAEA,SAAS,oEAAO;AAChB,MAAM,0EAAW;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,uDAAE,oCAAoC,kEAAa,IAAI,oEAAO,CAAC,0EAAa;AAC/F;AACA;;AAEA;AACA;AACA;AACA,MAAM,iEAAI,CAAC,yEAAU;AACrB;AACA,OAAO;;AAEP,UAAU,4DAAO;AACjB,QAAQ,wDAAG;AACX;AACA,OAAO;AACP,QAAQ,8DAAS;AACjB;AACA;AACA;;AAEA;AACA;AACA,IAAI,iEAAI,CAAC,oEAAO;AAChB,UAAU,0EAAa;AACvB,QAAQ,6EAAgB;AACxB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA,IAAI,iEAAI,CAAC,oEAAO;AAChB,UAAU,0EAAa;AACvB,QAAQ,gFAAmB;AAC3B;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA,OAAO;AACP,0BAA0B,oEAAO;AACjC;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,iEAAI,CAAC,yEAAU;AACnB;AACA,KAAK;AACL,IAAI,+EAAkB;AACtB;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,0CAA0C,iFAAoB;;AAE9D,4DAAO;AACP,EAAE,uGAAwB;AAC1B;AACA,CAAC;AACD,eAAe,8DAAS;;AAEyN;;;;;;;;;;;;;ACp5EjP;AAAA;AAAA;AAAA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEsB;;;;;;;;;;;;;ACtMtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACA;AACV;AACqB;;AAEpD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sDAAG;AACtB;AACA;AACA;AACA,qCAAqC,sDAAG;AACxC,8BAA8B,sDAAG;AACjC;AACA,yBAAyB,sDAAG;AAC5B;;AAEA;AACA;AACA,mCAAmC,mCAAmC,EAAE;AACxE,aAAa,WAAW,EAAE;AAC1B,iBAAiB,iBAAiB,EAAE;AACpC,wBAAwB,sBAAsB,EAAE;AAChD,sBAAsB,oBAAoB,EAAE;AAC5C;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM,sDAAG;AACT,KAAK;AACL;AACA,MAAM,8DAAG;AACT;AACA,GAAG;;AAEH;;AAEA;AACA;AACA,MAAM,sDAAG;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,EAAE,8DAAG;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,yBAAyB;AAC1C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B,EAAE,cAAc,EAAE,cAAc,EAAE;AAC/D,6BAA6B,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE;AAC/E,6BAA6B,EAAE;AAC/B,6BAA6B,EAAE;;AAE/B;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;AACrC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sDAAsD;AACtD;;AAEA;AACA,uDAAuD;AACvD;;AAEA;AACA;AACA,+CAA+C,2DAA2D;AAC1G;AACA,gDAAgD,6DAA6D;AAC7G;AACA;;AAEA;AACA,iBAAiB,2BAA2B;;AAE5C;AACA;;AAEA;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,kCAAkC,EAAE,EAAE,IAAI,YAAY,EAAE,+BAA+B,IAAI;AAC3F;AACA;;AAEA,iDAAiD,eAAe,IAAI,eAAe,IAAI,eAAe,IAAI,GAAG;;AAE7G;AACA,oEAAoE,gCAAgC;AACpG;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH,iFAAiF;AACjF;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,2BAA2B,OAAO;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;;AAEA;AACA,0FAA0F;AAC1F;;AAEA,0BAA0B,uDAAS;AACnC;;AAEA;AACA,iBAAiB,sDAAQ;AACzB,kBAAkB,sDAAQ;AAC1B;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,sDAAQ;AAC5B;AACA;AACA,GAAG;AACH,oBAAoB,oDAAM;AAC1B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,EAAE,uDAAS;AACX;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAkB,oDAAM;AACxB,EAAE,uDAAS;AACX;AACA,GAAG;AACH;AACA;;AAEA,4GAA4G,qDAAqB,GAAG,+CAAe;;AAE2W;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACttB9f;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6C;AACV;AACiB;AACsJ;AACtI;;AAEpE;AACA;AACA;AACA;AACA;;AAEA,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA,iCAAiC,uDAAE;;AAEnC,uCAAuC,uDAAE,yDAAyD,uDAAE;;AAEpG,4BAA4B,qEAAc;AAC1C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA,6CAA6C,yCAAyC;AACtF;;AAEA,IAAI,qEAAQ;AACZ;AACA;AACA;AACA,OAAO;AACP;AACA,YAAY,uDAAE;AACd;AACA,oBAAoB,oEAAO;AAC3B,8EAA8E,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,mBAAmB,4CAA4C,IAAI,GAAG,2CAA2C;AAC9M;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,6BAA6B,+DAAU;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,iEAAI;AACR,mBAAmB,0EAAa;AAChC,yCAAyC,uDAAE,8BAA8B,kEAAa;AACtF;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,oBAAoB,iEAAI,uBAAuB,iEAAI,iBAAiB,0EAAa,WAAW,6EAAgB;AAC5G;;AAEA;AACA,oBAAoB,iEAAI,uBAAuB,iEAAI,iBAAiB,0EAAa,WAAW,gFAAmB;AAC/G;;AAEA;AACA;AACA;AACA;;AAEA,IAAI,+EAAkB;AACtB;;AAEA;;AAEA;;AAEA;AACA,0DAAO;AACP,kBAAkB,iEAAuB;AACzC,EAAE,uGAAwB;AAC1B,EAAE,mEAAM;AACR,CAAC;AACD,aAAa,yEAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;;AAEmC;;;;;;;;;;;;AC/OnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,uBAAuB,oCAAoC;AAC3D,uBAAuB,8BAA8B;AACrD,uBAAuB,kBAAkB;;AAEzC;AACA,oCAAoC,8DAA8D;;AAElG;AACA,kCAAkC,sEAAsE;;AAExG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAU,mEAAmE;AAC7E;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1GA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB;;AAEhB;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK,KAA6B;AAClC;AACA;AACA,EAAE,UAAU,IAA4E;AACxF;AACA,EAAE,iCAAqB,EAAE,mCAAE;AAC3B;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE,MAAM,EAEN;AACF,CAAC;;;;;;;;;;;;;ACzDD;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,0BAA0B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,yEAAU,EAAC;;;;;;;;;;;;;AChD1B;AACA;AACA;AACA;AACA;;AAEa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,IAAI,IAAqC;AACzC,6BAA6B,mBAAO,CAAC,yFAA4B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA4G;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;;AAEA;;;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,kDAAU;AAChC,aAAa,mBAAO,CAAC,4DAAe;;AAEpC,2BAA2B,mBAAO,CAAC,yFAA4B;AAC/D,qBAAqB,mBAAO,CAAC,qEAAkB;;AAE/C;AACA;;AAEA,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,6BAA6B;AAC7B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,KAAqC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,IAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,KAAqC,4FAA4F,SAAM;AAC7I;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AC9kBA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,IAAqC;AACzC,gBAAgB,mBAAO,CAAC,kDAAU;;AAElC;AACA;AACA;AACA,mBAAmB,mBAAO,CAAC,uFAA2B;AACtD,CAAC,MAAM,EAIN;;;;;;;;;;;;;AClBD;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;;;AAIb,IAAI,IAAqC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sFAAsF,OAAO,YAAY,EAAE,KAAK,YAAY,EAAE,EAAE;AAChI,gFAAgF;AAChF;;AAEA;AACA;AACA;AACA,oFAAoF,kEAAkE,YAAY,EAAE,0EAA0E,cAAc,gBAAgB,oBAAoB,QAAQ,SAAS,cAAc,aAAa,kBAAkB,aAAa,EAAE,yBAAyB,kBAAkB,gBAAgB,EAAE,2BAA2B,aAAa,cAAc,EAAE;AACle;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,2BAA2B;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,mEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX,oBAAoB,iCAAiC;AACrD;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAwB;AACxB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,2DAAa;AAC1B;AACA;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC,CAAC,mDAAa;;AAEf;AACA,kCAAkC;AAClC;AACA;AACA;AACA;;AAEe,wEAAS,EAAC;;;;;;;;;;;;;;ACtZzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACY;AACgB;AACjD;AACgB;AAC+C;;AAEpG;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,cAAc;;AAEd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B;AAC3B,kCAAkC;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;AAGA;AACA;AACA;;AAEA,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wFAAc;;AAElB;AACA;AACA;AACA;AACA;;AAEA;AACA,4DAA4D,gGAAsB,CAAC,gGAAsB;AACzG;AACA;AACA;AACA,kBAAkB,gGAAsB,CAAC,gGAAsB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,2DAAU;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,4BAA4B,2DAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iCAAiC,2DAAU;AAC3C;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gDAAgD;AAChD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;;AAGX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wFAAwF;AACxF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,2CAA2C,2BAA2B;AACtE,mDAAmD,iCAAiC;AACpF,uBAAuB,2DAAa;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,aAAa;AACb;AACA;AACA,OAAO;AACP;;;AAGA;AACA;AACA,aAAa,2DAAa;AAC1B;AACA;AACA;AACA,eAAe,kFAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO,EAAE,2DAAa;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+GAA+G;AAC/G;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2GAA2G;AAC3G;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG,CAAC,mDAAa;AACjB;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4EAA4E;AAC5E;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,QAAQ,IAAqC;AAC7C;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA,EAAE;AACF;;;AAGA;AACA;;AAEA,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wFAAc;;AAElB;AACA;AACA;AACA;AACA;;AAEA;AACA,4DAA4D,gGAAsB,CAAC,gGAAsB;AACzG;AACA;AACA;AACA,kBAAkB,gGAAsB,CAAC,gGAAsB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,2DAAU;AAC7C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,4BAA4B,2DAAU;AACtC;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA,2EAA2E;;AAE3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iCAAiC,2DAAU;AAC3C;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;;AAGX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;;AAGX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC;;AAEtC;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;;AAE/C;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,qCAAqC,qBAAqB;AAC1D,qBAAqB,2DAAa;AAClC;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;;;AAGA;AACA,aAAa,2DAAa;AAC1B;AACA;AACA;AACA,eAAe,kFAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO,EAAE,2DAAa;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2GAA2G;AAC3G;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG,CAAC,mDAAa;AACjB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA,sEAAsE;AACtE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6FAA6F;AAC7F;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB,SAAS;AACT,kCAAkC;AAClC,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB,SAAS;AACT,+BAA+B;AAC/B,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,wDAAwD;AACxD,GAAG;AACH;AACA;AACA;AACA;;AAEA,QAAQ,IAAqC;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB,WAAW;AACX,kCAAkC;AAClC,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,wDAAwD;AACxD,GAAG;AACH;AACA;AACA;;AAEA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,uGAA6B;;AAE9C;AACA,iBAAiB,uGAA6B;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAE6G;AAC7G;;;;;;;;;;;;;AC9hEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iDAAiD,gBAAgB;;AAEjE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB,YAAY,UAAU;AACtB,YAAY,UAAU;AACtB,YAAY,UAAU;AACtB,YAAY,cAAc;AAC1B,YAAY,OAAO;AACnB;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;AAC3C;;AAEA;AACA;AACA;AACA,gEAAgE;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,YAAY;AACxB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,YAAY;AACxB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB,YAAY,SAAS;AACrB,YAAY,YAAY;AACxB;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB,YAAY,SAAS;AACrB,YAAY;AACZ;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB,YAAY,MAAM;AAClB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET,uCAAuC,oDAAoD;;;AAG3F;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,+CAA+C;;AAE/C;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;;AAGA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;;AAEzC;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,+CAA+C;;AAE/C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;;AAEpE;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C;;AAE3C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mFAAmF;AACnF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,YAAY;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB,YAAY,OAAO;AACnB;;;AAGA;AACA;AACA,iEAAiE;AACjE;;AAEA,eAAe;;AAEf,sCAAsC,WAAW;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,sDAAsD;;AAEtD;AACA;AACA;;AAEA,yBAAyB;;;AAGzB;AACA;AACA;AACA;AACA,GAAG;;;AAGH;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0BAA0B;;AAE1B,iFAAiF;;AAEjF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B;;;AAG/B;AACA;AACA;;AAEA;AACA,aAAa;AACb,KAAK;;;AAGL;AACA;AACA,KAAK;;;AAGL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA,yDAAyD;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA,eAAe;AACf;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA,WAAW;AACX;AACA;AACA,OAAO;;AAEP;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA,KAAK;;;AAGL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA,SAAS;AACT;;;AAGA;;AAEA;AACA;AACA,SAAS;;;AAGT,4CAA4C;;;AAG5C;AACA;AACA;AACA;AACA,SAAS,EAAE;;;AAGX;AACA,QAAQ;;;AAGR;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO,EAAE;;AAET;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA,iCAAiC;;AAEjC;AACA;AACA;AACA,sCAAsC;;AAEtC;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gMAAgM;;AAEhM;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,8DAA8D;;AAE9D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kCAAkC;;AAElC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP,KAAK;;;AAGL;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;;;AAGT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,OAAO;;;AAGP;AACA;AACA,OAAO;;;AAGP;AACA,gEAAgE;;;AAGhE;AACA;;AAEA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;;AAE1B;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,SAAS;;;AAGT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA,WAAW;;;AAGX;AACA;AACA;;AAEA,uCAAuC;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;AACA;AACA;AACA;AACA,KAAK;AACL,2CAA2C;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uCAAuC;;;AAGvC;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,yCAAyC;AACzC;;AAEA;AACA;AACA;;AAEA,6DAA6D;;AAE7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,EAAE;;;AAGf;AACA;AACA;AACA;AACA;AACA,aAAa,EAAE;;;AAGf;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;;;AAGb;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU,OAAO;AACjB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,OAAO;AACtB,eAAe;AACf;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yCAAyC;;AAEzC;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB,YAAY,OAAO;AACnB;;;AAGA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB,YAAY,mBAAmB;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,mCAAmC;AAC/C;;;AAGA;AACA,wEAAwE,aAAa;AACrF;AACA;;AAEA;AACA;AACA;AACA,qFAAqF;AACrF;;AAEA,uDAAuD;AACvD;AACA,GAAG;AACH;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB;;;AAGA;AACA;AACA,EAAE;;;AAGF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;;AAEA;AACA,sDAAsD;;AAEtD;;AAEA;AACA,0EAA0E;;AAE1E;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;;AAErD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA,GAAG;;AAEH,iCAAiC;AACjC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO,EAAE;;AAET;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,SAAS;;;AAGT;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;;AAEA;AACA,WAAW;AACX;AACA,SAAS;;;AAGT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gDAAgD;;;AAGhD;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,eAAe;AACf;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;;AAEvC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mDAAmD;;AAEnD;AACA;AACA;AACA,mBAAmB;AACnB;AACA,eAAe;AACf,aAAa;AACb;;;AAGA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA,aAAa,EAAE;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA,WAAW;;;AAGX;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA,OAAO;;;AAGP;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,oEAAoE;;AAEpE,sDAAsD;;AAEtD,8FAA8F;;AAE9F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,EAAE;;AAEX;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;A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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import { defineHidden, is, createInterpolator, eachProp, hasFluidValue, getFluidValue, each, isAnimatedString, useForceUpdate, useLayoutEffect, addFluidObserver, removeFluidObserver, raf, useOnce } from '@react-spring/shared';\nimport * as React from 'react';\nimport { forwardRef, useRef, useCallback, useEffect } from 'react';\n\nconst $node = Symbol.for('Animated:node');\nconst isAnimated = value => !!value && value[$node] === value;\nconst getAnimated = owner => owner && owner[$node];\nconst setAnimated = (owner, node) => defineHidden(owner, $node, node);\nconst getPayload = owner => owner && owner[$node] && owner[$node].getPayload();\nclass Animated {\n  constructor() {\n    this.payload = void 0;\n    setAnimated(this, this);\n  }\n\n  getPayload() {\n    return this.payload || [];\n  }\n\n}\n\nclass AnimatedValue extends Animated {\n  constructor(_value) {\n    super();\n    this.done = true;\n    this.elapsedTime = void 0;\n    this.lastPosition = void 0;\n    this.lastVelocity = void 0;\n    this.v0 = void 0;\n    this.durationProgress = 0;\n    this._value = _value;\n\n    if (is.num(this._value)) {\n      this.lastPosition = this._value;\n    }\n  }\n\n  static create(value) {\n    return new AnimatedValue(value);\n  }\n\n  getPayload() {\n    return [this];\n  }\n\n  getValue() {\n    return this._value;\n  }\n\n  setValue(value, step) {\n    if (is.num(value)) {\n      this.lastPosition = value;\n\n      if (step) {\n        value = Math.round(value / step) * step;\n\n        if (this.done) {\n          this.lastPosition = value;\n        }\n      }\n    }\n\n    if (this._value === value) {\n      return false;\n    }\n\n    this._value = value;\n    return true;\n  }\n\n  reset() {\n    const {\n      done\n    } = this;\n    this.done = false;\n\n    if (is.num(this._value)) {\n      this.elapsedTime = 0;\n      this.durationProgress = 0;\n      this.lastPosition = this._value;\n      if (done) this.lastVelocity = null;\n      this.v0 = null;\n    }\n  }\n\n}\n\nclass AnimatedString extends AnimatedValue {\n  constructor(value) {\n    super(0);\n    this._string = null;\n    this._toString = void 0;\n    this._toString = createInterpolator({\n      output: [value, value]\n    });\n  }\n\n  static create(value) {\n    return new AnimatedString(value);\n  }\n\n  getValue() {\n    let value = this._string;\n    return value == null ? this._string = this._toString(this._value) : value;\n  }\n\n  setValue(value) {\n    if (is.str(value)) {\n      if (value == this._string) {\n        return false;\n      }\n\n      this._string = value;\n      this._value = 1;\n    } else if (super.setValue(value)) {\n      this._string = null;\n    } else {\n      return false;\n    }\n\n    return true;\n  }\n\n  reset(goal) {\n    if (goal) {\n      this._toString = createInterpolator({\n        output: [this.getValue(), goal]\n      });\n    }\n\n    this._value = 0;\n    super.reset();\n  }\n\n}\n\nconst TreeContext = {\n  dependencies: null\n};\n\nclass AnimatedObject extends Animated {\n  constructor(source) {\n    super();\n    this.source = source;\n    this.setValue(source);\n  }\n\n  getValue(animated) {\n    const values = {};\n    eachProp(this.source, (source, key) => {\n      if (isAnimated(source)) {\n        values[key] = source.getValue(animated);\n      } else if (hasFluidValue(source)) {\n        values[key] = getFluidValue(source);\n      } else if (!animated) {\n        values[key] = source;\n      }\n    });\n    return values;\n  }\n\n  setValue(source) {\n    this.source = source;\n    this.payload = this._makePayload(source);\n  }\n\n  reset() {\n    if (this.payload) {\n      each(this.payload, node => node.reset());\n    }\n  }\n\n  _makePayload(source) {\n    if (source) {\n      const payload = new Set();\n      eachProp(source, this._addToPayload, payload);\n      return Array.from(payload);\n    }\n  }\n\n  _addToPayload(source) {\n    if (TreeContext.dependencies && hasFluidValue(source)) {\n      TreeContext.dependencies.add(source);\n    }\n\n    const payload = getPayload(source);\n\n    if (payload) {\n      each(payload, node => this.add(node));\n    }\n  }\n\n}\n\nclass AnimatedArray extends AnimatedObject {\n  constructor(source) {\n    super(source);\n  }\n\n  static create(source) {\n    return new AnimatedArray(source);\n  }\n\n  getValue() {\n    return this.source.map(node => node.getValue());\n  }\n\n  setValue(source) {\n    const payload = this.getPayload();\n\n    if (source.length == payload.length) {\n      return payload.map((node, i) => node.setValue(source[i])).some(Boolean);\n    }\n\n    super.setValue(source.map(makeAnimated));\n    return true;\n  }\n\n}\n\nfunction makeAnimated(value) {\n  const nodeType = isAnimatedString(value) ? AnimatedString : AnimatedValue;\n  return nodeType.create(value);\n}\n\nfunction getAnimatedType(value) {\n  const parentNode = getAnimated(value);\n  return parentNode ? parentNode.constructor : is.arr(value) ? AnimatedArray : isAnimatedString(value) ? AnimatedString : AnimatedValue;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nconst withAnimated = (Component, host) => {\n  const hasInstance = !is.fun(Component) || Component.prototype && Component.prototype.isReactComponent;\n  return forwardRef((givenProps, givenRef) => {\n    const instanceRef = useRef(null);\n    const ref = hasInstance && useCallback(value => {\n      instanceRef.current = updateRef(givenRef, value);\n    }, [givenRef]);\n    const [props, deps] = getAnimatedState(givenProps, host);\n    const forceUpdate = useForceUpdate();\n\n    const callback = () => {\n      const instance = instanceRef.current;\n\n      if (hasInstance && !instance) {\n        return;\n      }\n\n      const didUpdate = instance ? host.applyAnimatedValues(instance, props.getValue(true)) : false;\n\n      if (didUpdate === false) {\n        forceUpdate();\n      }\n    };\n\n    const observer = new PropsObserver(callback, deps);\n    const observerRef = useRef();\n    useLayoutEffect(() => {\n      const lastObserver = observerRef.current;\n      observerRef.current = observer;\n      each(deps, dep => addFluidObserver(dep, observer));\n\n      if (lastObserver) {\n        each(lastObserver.deps, dep => removeFluidObserver(dep, lastObserver));\n        raf.cancel(lastObserver.update);\n      }\n    });\n    useEffect(callback, []);\n    useOnce(() => () => {\n      const observer = observerRef.current;\n      each(observer.deps, dep => removeFluidObserver(dep, observer));\n    });\n    const usedProps = host.getComponentProps(props.getValue());\n    return React.createElement(Component, _extends({}, usedProps, {\n      ref: ref\n    }));\n  });\n};\n\nclass PropsObserver {\n  constructor(update, deps) {\n    this.update = update;\n    this.deps = deps;\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      raf.write(this.update);\n    }\n  }\n\n}\n\nfunction getAnimatedState(props, host) {\n  const dependencies = new Set();\n  TreeContext.dependencies = dependencies;\n  if (props.style) props = _extends({}, props, {\n    style: host.createAnimatedStyle(props.style)\n  });\n  props = new AnimatedObject(props);\n  TreeContext.dependencies = null;\n  return [props, dependencies];\n}\n\nfunction updateRef(ref, value) {\n  if (ref) {\n    if (is.fun(ref)) ref(value);else ref.current = value;\n  }\n\n  return value;\n}\n\nconst cacheKey = Symbol.for('AnimatedComponent');\nconst createHost = (components, {\n  applyAnimatedValues: _applyAnimatedValues = () => false,\n  createAnimatedStyle: _createAnimatedStyle = style => new AnimatedObject(style),\n  getComponentProps: _getComponentProps = props => props\n} = {}) => {\n  const hostConfig = {\n    applyAnimatedValues: _applyAnimatedValues,\n    createAnimatedStyle: _createAnimatedStyle,\n    getComponentProps: _getComponentProps\n  };\n\n  const animated = Component => {\n    const displayName = getDisplayName(Component) || 'Anonymous';\n\n    if (is.str(Component)) {\n      Component = animated[Component] || (animated[Component] = withAnimated(Component, hostConfig));\n    } else {\n      Component = Component[cacheKey] || (Component[cacheKey] = withAnimated(Component, hostConfig));\n    }\n\n    Component.displayName = `Animated(${displayName})`;\n    return Component;\n  };\n\n  eachProp(components, (Component, key) => {\n    if (is.arr(components)) {\n      key = getDisplayName(Component);\n    }\n\n    animated[key] = animated(Component);\n  });\n  return {\n    animated\n  };\n};\n\nconst getDisplayName = arg => is.str(arg) ? arg : arg && is.str(arg.displayName) ? arg.displayName : is.fun(arg) && arg.name || null;\n\nexport { Animated, AnimatedArray, AnimatedObject, AnimatedString, AnimatedValue, createHost, getAnimated, getAnimatedType, getPayload, isAnimated, setAnimated };\n","import { eachProp, is, toArray, isAnimatedString, Globals, getFluidValue, useLayoutEffect, each, raf, flush, FluidValue, deprecateInterpolate, callFluidObservers, frameLoop, hasFluidValue, flushCalls, isEqual, getFluidObservers, addFluidObserver, removeFluidObserver, noop, useMemoOne, deprecateDirectCall, useForceUpdate, usePrev, useOnce, createInterpolator, createStringInterpolator } from '@react-spring/shared';\nexport { Globals, createInterpolator } from '@react-spring/shared';\nimport * as React from 'react';\nimport { useContext, useMemo, useRef, useState } from 'react';\nimport { getAnimated, AnimatedValue, getPayload, AnimatedString, getAnimatedType, setAnimated } from '@react-spring/animated';\nexport * from '@react-spring/types/animated';\nexport * from '@react-spring/types/interpolation';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction callProp(value, ...args) {\n  return is.fun(value) ? value(...args) : value;\n}\nconst matchProp = (value, key) => value === true || !!(key && value && (is.fun(value) ? value(key) : toArray(value).includes(key)));\nconst resolveProp = (prop, key) => is.obj(prop) ? key && prop[key] : prop;\nconst getDefaultProp = (props, key) => props.default === true ? props[key] : props.default ? props.default[key] : undefined;\n\nconst noopTransform = value => value;\n\nconst getDefaultProps = (props, transform = noopTransform) => {\n  let keys = DEFAULT_PROPS;\n\n  if (props.default && props.default !== true) {\n    props = props.default;\n    keys = Object.keys(props);\n  }\n\n  const defaults = {};\n\n  for (const key of keys) {\n    const value = transform(props[key], key);\n\n    if (!is.und(value)) {\n      defaults[key] = value;\n    }\n  }\n\n  return defaults;\n};\nconst DEFAULT_PROPS = ['config', 'onProps', 'onStart', 'onChange', 'onPause', 'onResume', 'onRest'];\nconst RESERVED_PROPS = {\n  config: 1,\n  from: 1,\n  to: 1,\n  ref: 1,\n  loop: 1,\n  reset: 1,\n  pause: 1,\n  cancel: 1,\n  reverse: 1,\n  immediate: 1,\n  default: 1,\n  delay: 1,\n  onProps: 1,\n  onStart: 1,\n  onChange: 1,\n  onPause: 1,\n  onResume: 1,\n  onRest: 1,\n  onResolve: 1,\n  items: 1,\n  trail: 1,\n  sort: 1,\n  expires: 1,\n  initial: 1,\n  enter: 1,\n  update: 1,\n  leave: 1,\n  children: 1,\n  onDestroyed: 1,\n  keys: 1,\n  callId: 1,\n  parentId: 1\n};\n\nfunction getForwardProps(props) {\n  const forward = {};\n  let count = 0;\n  eachProp(props, (value, prop) => {\n    if (!RESERVED_PROPS[prop]) {\n      forward[prop] = value;\n      count++;\n    }\n  });\n\n  if (count) {\n    return forward;\n  }\n}\n\nfunction inferTo(props) {\n  const to = getForwardProps(props);\n\n  if (to) {\n    const out = {\n      to\n    };\n    eachProp(props, (val, key) => key in to || (out[key] = val));\n    return out;\n  }\n\n  return _extends({}, props);\n}\nfunction computeGoal(value) {\n  value = getFluidValue(value);\n  return is.arr(value) ? value.map(computeGoal) : isAnimatedString(value) ? Globals.createStringInterpolator({\n    range: [0, 1],\n    output: [value, value]\n  })(1) : value;\n}\nfunction hasProps(props) {\n  for (const _ in props) return true;\n\n  return false;\n}\nfunction isAsyncTo(to) {\n  return is.fun(to) || is.arr(to) && is.obj(to[0]);\n}\nfunction detachRefs(ctrl, ref) {\n  var _ctrl$ref;\n\n  (_ctrl$ref = ctrl.ref) == null ? void 0 : _ctrl$ref.delete(ctrl);\n  ref == null ? void 0 : ref.delete(ctrl);\n}\nfunction replaceRef(ctrl, ref) {\n  if (ref && ctrl.ref !== ref) {\n    var _ctrl$ref2;\n\n    (_ctrl$ref2 = ctrl.ref) == null ? void 0 : _ctrl$ref2.delete(ctrl);\n    ref.add(ctrl);\n    ctrl.ref = ref;\n  }\n}\n\nfunction useChain(refs, timeSteps, timeFrame = 1000) {\n  useLayoutEffect(() => {\n    if (timeSteps) {\n      let prevDelay = 0;\n      each(refs, (ref, i) => {\n        const controllers = ref.current;\n\n        if (controllers.length) {\n          let delay = timeFrame * timeSteps[i];\n          if (isNaN(delay)) delay = prevDelay;else prevDelay = delay;\n          each(controllers, ctrl => {\n            each(ctrl.queue, props => {\n              const memoizedDelayProp = props.delay;\n\n              props.delay = key => delay + callProp(memoizedDelayProp || 0, key);\n            });\n            ctrl.start();\n          });\n        }\n      });\n    } else {\n      let p = Promise.resolve();\n      each(refs, ref => {\n        const controllers = ref.current;\n\n        if (controllers.length) {\n          const queues = controllers.map(ctrl => {\n            const q = ctrl.queue;\n            ctrl.queue = [];\n            return q;\n          });\n          p = p.then(() => {\n            each(controllers, (ctrl, i) => each(queues[i] || [], update => ctrl.queue.push(update)));\n            return ref.start();\n          });\n        }\n      });\n    }\n  });\n}\n\nconst config = {\n  default: {\n    tension: 170,\n    friction: 26\n  },\n  gentle: {\n    tension: 120,\n    friction: 14\n  },\n  wobbly: {\n    tension: 180,\n    friction: 12\n  },\n  stiff: {\n    tension: 210,\n    friction: 20\n  },\n  slow: {\n    tension: 280,\n    friction: 60\n  },\n  molasses: {\n    tension: 280,\n    friction: 120\n  }\n};\n\nconst linear = t => t;\n\nconst defaults = _extends({}, config.default, {\n  mass: 1,\n  damping: 1,\n  easing: linear,\n  clamp: false\n});\n\nclass AnimationConfig {\n  constructor() {\n    this.tension = void 0;\n    this.friction = void 0;\n    this.frequency = void 0;\n    this.damping = void 0;\n    this.mass = void 0;\n    this.velocity = 0;\n    this.restVelocity = void 0;\n    this.precision = void 0;\n    this.progress = void 0;\n    this.duration = void 0;\n    this.easing = void 0;\n    this.clamp = void 0;\n    this.bounce = void 0;\n    this.decay = void 0;\n    this.round = void 0;\n    Object.assign(this, defaults);\n  }\n\n}\nfunction mergeConfig(config, newConfig, defaultConfig) {\n  if (defaultConfig) {\n    defaultConfig = _extends({}, defaultConfig);\n    sanitizeConfig(defaultConfig, newConfig);\n    newConfig = _extends({}, defaultConfig, newConfig);\n  }\n\n  sanitizeConfig(config, newConfig);\n  Object.assign(config, newConfig);\n\n  for (const key in defaults) {\n    if (config[key] == null) {\n      config[key] = defaults[key];\n    }\n  }\n\n  let {\n    mass,\n    frequency,\n    damping\n  } = config;\n\n  if (!is.und(frequency)) {\n    if (frequency < 0.01) frequency = 0.01;\n    if (damping < 0) damping = 0;\n    config.tension = Math.pow(2 * Math.PI / frequency, 2) * mass;\n    config.friction = 4 * Math.PI * damping * mass / frequency;\n  }\n\n  return config;\n}\n\nfunction sanitizeConfig(config, props) {\n  if (!is.und(props.decay)) {\n    config.duration = undefined;\n  } else {\n    const isTensionConfig = !is.und(props.tension) || !is.und(props.friction);\n\n    if (isTensionConfig || !is.und(props.frequency) || !is.und(props.damping) || !is.und(props.mass)) {\n      config.duration = undefined;\n      config.decay = undefined;\n    }\n\n    if (isTensionConfig) {\n      config.frequency = undefined;\n    }\n  }\n}\n\nconst emptyArray = [];\nclass Animation {\n  constructor() {\n    this.changed = false;\n    this.values = emptyArray;\n    this.toValues = null;\n    this.fromValues = emptyArray;\n    this.to = void 0;\n    this.from = void 0;\n    this.config = new AnimationConfig();\n    this.immediate = false;\n  }\n\n}\n\nfunction scheduleProps(callId, {\n  key,\n  props,\n  defaultProps,\n  state,\n  actions\n}) {\n  return new Promise((resolve, reject) => {\n    var _props$cancel;\n\n    let delay;\n    let timeout;\n    let cancel = matchProp((_props$cancel = props.cancel) != null ? _props$cancel : defaultProps == null ? void 0 : defaultProps.cancel, key);\n\n    if (cancel) {\n      onStart();\n    } else {\n      if (!is.und(props.pause)) {\n        state.paused = matchProp(props.pause, key);\n      }\n\n      let pause = defaultProps == null ? void 0 : defaultProps.pause;\n\n      if (pause !== true) {\n        pause = state.paused || matchProp(pause, key);\n      }\n\n      delay = callProp(props.delay || 0, key);\n\n      if (pause) {\n        state.resumeQueue.add(onResume);\n        actions.pause();\n      } else {\n        actions.resume();\n        onResume();\n      }\n    }\n\n    function onPause() {\n      state.resumeQueue.add(onResume);\n      state.timeouts.delete(timeout);\n      timeout.cancel();\n      delay = timeout.time - raf.now();\n    }\n\n    function onResume() {\n      if (delay > 0) {\n        timeout = raf.setTimeout(onStart, delay);\n        state.pauseQueue.add(onPause);\n        state.timeouts.add(timeout);\n      } else {\n        onStart();\n      }\n    }\n\n    function onStart() {\n      state.pauseQueue.delete(onPause);\n      state.timeouts.delete(timeout);\n\n      if (callId <= (state.cancelId || 0)) {\n        cancel = true;\n      }\n\n      try {\n        actions.start(_extends({}, props, {\n          callId,\n          cancel\n        }), resolve);\n      } catch (err) {\n        reject(err);\n      }\n    }\n  });\n}\n\nconst getCombinedResult = (target, results) => results.length == 1 ? results[0] : results.some(result => result.cancelled) ? getCancelledResult(target.get()) : results.every(result => result.noop) ? getNoopResult(target.get()) : getFinishedResult(target.get(), results.every(result => result.finished));\nconst getNoopResult = value => ({\n  value,\n  noop: true,\n  finished: true,\n  cancelled: false\n});\nconst getFinishedResult = (value, finished, cancelled = false) => ({\n  value,\n  finished,\n  cancelled\n});\nconst getCancelledResult = value => ({\n  value,\n  cancelled: true,\n  finished: false\n});\n\nfunction runAsync(to, props, state, target) {\n  const {\n    callId,\n    parentId,\n    onRest\n  } = props;\n  const {\n    asyncTo: prevTo,\n    promise: prevPromise\n  } = state;\n\n  if (!parentId && to === prevTo && !props.reset) {\n    return prevPromise;\n  }\n\n  return state.promise = (async () => {\n    state.asyncId = callId;\n    state.asyncTo = to;\n    const defaultProps = getDefaultProps(props, (value, key) => key === 'onRest' ? undefined : value);\n    let preventBail;\n    let bail;\n    const bailPromise = new Promise((resolve, reject) => (preventBail = resolve, bail = reject));\n\n    const bailIfEnded = bailSignal => {\n      const bailResult = callId <= (state.cancelId || 0) && getCancelledResult(target) || callId !== state.asyncId && getFinishedResult(target, false);\n\n      if (bailResult) {\n        bailSignal.result = bailResult;\n        bail(bailSignal);\n        throw bailSignal;\n      }\n    };\n\n    const animate = (arg1, arg2) => {\n      const bailSignal = new BailSignal();\n      const skipAnimationSignal = new SkipAniamtionSignal();\n      return (async () => {\n        if (Globals.skipAnimation) {\n          stopAsync(state);\n          skipAnimationSignal.result = getFinishedResult(target, false);\n          bail(skipAnimationSignal);\n          throw skipAnimationSignal;\n        }\n\n        bailIfEnded(bailSignal);\n        const props = is.obj(arg1) ? _extends({}, arg1) : _extends({}, arg2, {\n          to: arg1\n        });\n        props.parentId = callId;\n        eachProp(defaultProps, (value, key) => {\n          if (is.und(props[key])) {\n            props[key] = value;\n          }\n        });\n        const result = await target.start(props);\n        bailIfEnded(bailSignal);\n\n        if (state.paused) {\n          await new Promise(resume => {\n            state.resumeQueue.add(resume);\n          });\n        }\n\n        return result;\n      })();\n    };\n\n    let result;\n\n    if (Globals.skipAnimation) {\n      stopAsync(state);\n      return getFinishedResult(target, false);\n    }\n\n    try {\n      let animating;\n\n      if (is.arr(to)) {\n        animating = (async queue => {\n          for (const props of queue) {\n            await animate(props);\n          }\n        })(to);\n      } else {\n          animating = Promise.resolve(to(animate, target.stop.bind(target)));\n        }\n\n      await Promise.all([animating.then(preventBail), bailPromise]);\n      result = getFinishedResult(target.get(), true, false);\n    } catch (err) {\n      if (err instanceof BailSignal) {\n        result = err.result;\n      } else if (err instanceof SkipAniamtionSignal) {\n        result = err.result;\n      } else {\n        throw err;\n      }\n    } finally {\n      if (callId == state.asyncId) {\n        state.asyncId = parentId;\n        state.asyncTo = parentId ? prevTo : undefined;\n        state.promise = parentId ? prevPromise : undefined;\n      }\n    }\n\n    if (is.fun(onRest)) {\n      raf.batchedUpdates(() => {\n        onRest(result, target, target.item);\n      });\n    }\n\n    return result;\n  })();\n}\nfunction stopAsync(state, cancelId) {\n  flush(state.timeouts, t => t.cancel());\n  state.pauseQueue.clear();\n  state.resumeQueue.clear();\n  state.asyncId = state.asyncTo = state.promise = undefined;\n  if (cancelId) state.cancelId = cancelId;\n}\nclass BailSignal extends Error {\n  constructor() {\n    super('An async animation has been interrupted. You see this error because you ' + 'forgot to use `await` or `.catch(...)` on its returned promise.');\n    this.result = void 0;\n  }\n\n}\nclass SkipAniamtionSignal extends Error {\n  constructor() {\n    super('SkipAnimationSignal');\n    this.result = void 0;\n  }\n\n}\n\nconst isFrameValue = value => value instanceof FrameValue;\nlet nextId$1 = 1;\nclass FrameValue extends FluidValue {\n  constructor(...args) {\n    super(...args);\n    this.id = nextId$1++;\n    this.key = void 0;\n    this._priority = 0;\n  }\n\n  get priority() {\n    return this._priority;\n  }\n\n  set priority(priority) {\n    if (this._priority != priority) {\n      this._priority = priority;\n\n      this._onPriorityChange(priority);\n    }\n  }\n\n  get() {\n    const node = getAnimated(this);\n    return node && node.getValue();\n  }\n\n  to(...args) {\n    return Globals.to(this, args);\n  }\n\n  interpolate(...args) {\n    deprecateInterpolate();\n    return Globals.to(this, args);\n  }\n\n  toJSON() {\n    return this.get();\n  }\n\n  observerAdded(count) {\n    if (count == 1) this._attach();\n  }\n\n  observerRemoved(count) {\n    if (count == 0) this._detach();\n  }\n\n  _attach() {}\n\n  _detach() {}\n\n  _onChange(value, idle = false) {\n    callFluidObservers(this, {\n      type: 'change',\n      parent: this,\n      value,\n      idle\n    });\n  }\n\n  _onPriorityChange(priority) {\n    if (!this.idle) {\n      frameLoop.sort(this);\n    }\n\n    callFluidObservers(this, {\n      type: 'priority',\n      parent: this,\n      priority\n    });\n  }\n\n}\n\nconst $P = Symbol.for('SpringPhase');\nconst HAS_ANIMATED = 1;\nconst IS_ANIMATING = 2;\nconst IS_PAUSED = 4;\nconst hasAnimated = target => (target[$P] & HAS_ANIMATED) > 0;\nconst isAnimating = target => (target[$P] & IS_ANIMATING) > 0;\nconst isPaused = target => (target[$P] & IS_PAUSED) > 0;\nconst setActiveBit = (target, active) => active ? target[$P] |= IS_ANIMATING | HAS_ANIMATED : target[$P] &= ~IS_ANIMATING;\nconst setPausedBit = (target, paused) => paused ? target[$P] |= IS_PAUSED : target[$P] &= ~IS_PAUSED;\n\nclass SpringValue extends FrameValue {\n  constructor(arg1, arg2) {\n    super();\n    this.key = void 0;\n    this.animation = new Animation();\n    this.queue = void 0;\n    this.defaultProps = {};\n    this._state = {\n      paused: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    this._pendingCalls = new Set();\n    this._lastCallId = 0;\n    this._lastToId = 0;\n    this._memoizedDuration = 0;\n\n    if (!is.und(arg1) || !is.und(arg2)) {\n      const props = is.obj(arg1) ? _extends({}, arg1) : _extends({}, arg2, {\n        from: arg1\n      });\n\n      if (is.und(props.default)) {\n        props.default = true;\n      }\n\n      this.start(props);\n    }\n  }\n\n  get idle() {\n    return !(isAnimating(this) || this._state.asyncTo) || isPaused(this);\n  }\n\n  get goal() {\n    return getFluidValue(this.animation.to);\n  }\n\n  get velocity() {\n    const node = getAnimated(this);\n    return node instanceof AnimatedValue ? node.lastVelocity || 0 : node.getPayload().map(node => node.lastVelocity || 0);\n  }\n\n  get hasAnimated() {\n    return hasAnimated(this);\n  }\n\n  get isAnimating() {\n    return isAnimating(this);\n  }\n\n  get isPaused() {\n    return isPaused(this);\n  }\n\n  advance(dt) {\n    let idle = true;\n    let changed = false;\n    const anim = this.animation;\n    let {\n      config,\n      toValues\n    } = anim;\n    const payload = getPayload(anim.to);\n\n    if (!payload && hasFluidValue(anim.to)) {\n      toValues = toArray(getFluidValue(anim.to));\n    }\n\n    anim.values.forEach((node, i) => {\n      if (node.done) return;\n      const to = node.constructor == AnimatedString ? 1 : payload ? payload[i].lastPosition : toValues[i];\n      let finished = anim.immediate;\n      let position = to;\n\n      if (!finished) {\n        position = node.lastPosition;\n\n        if (config.tension <= 0) {\n          node.done = true;\n          return;\n        }\n\n        let elapsed = node.elapsedTime += dt;\n        const from = anim.fromValues[i];\n        const v0 = node.v0 != null ? node.v0 : node.v0 = is.arr(config.velocity) ? config.velocity[i] : config.velocity;\n        let velocity;\n\n        if (!is.und(config.duration)) {\n          let p = 1;\n\n          if (config.duration > 0) {\n            if (this._memoizedDuration !== config.duration) {\n              this._memoizedDuration = config.duration;\n\n              if (node.durationProgress > 0) {\n                node.elapsedTime = config.duration * node.durationProgress;\n                elapsed = node.elapsedTime += dt;\n              }\n            }\n\n            p = (config.progress || 0) + elapsed / this._memoizedDuration;\n            p = p > 1 ? 1 : p < 0 ? 0 : p;\n            node.durationProgress = p;\n          }\n\n          position = from + config.easing(p) * (to - from);\n          velocity = (position - node.lastPosition) / dt;\n          finished = p == 1;\n        } else if (config.decay) {\n            const decay = config.decay === true ? 0.998 : config.decay;\n            const e = Math.exp(-(1 - decay) * elapsed);\n            position = from + v0 / (1 - decay) * (1 - e);\n            finished = Math.abs(node.lastPosition - position) < 0.1;\n            velocity = v0 * e;\n          } else {\n              velocity = node.lastVelocity == null ? v0 : node.lastVelocity;\n              const precision = config.precision || (from == to ? 0.005 : Math.min(1, Math.abs(to - from) * 0.001));\n              const restVelocity = config.restVelocity || precision / 10;\n              const bounceFactor = config.clamp ? 0 : config.bounce;\n              const canBounce = !is.und(bounceFactor);\n              const isGrowing = from == to ? node.v0 > 0 : from < to;\n              let isMoving;\n              let isBouncing = false;\n              const step = 1;\n              const numSteps = Math.ceil(dt / step);\n\n              for (let n = 0; n < numSteps; ++n) {\n                isMoving = Math.abs(velocity) > restVelocity;\n\n                if (!isMoving) {\n                  finished = Math.abs(to - position) <= precision;\n\n                  if (finished) {\n                    break;\n                  }\n                }\n\n                if (canBounce) {\n                  isBouncing = position == to || position > to == isGrowing;\n\n                  if (isBouncing) {\n                    velocity = -velocity * bounceFactor;\n                    position = to;\n                  }\n                }\n\n                const springForce = -config.tension * 0.000001 * (position - to);\n                const dampingForce = -config.friction * 0.001 * velocity;\n                const acceleration = (springForce + dampingForce) / config.mass;\n                velocity = velocity + acceleration * step;\n                position = position + velocity * step;\n              }\n            }\n\n        node.lastVelocity = velocity;\n\n        if (Number.isNaN(position)) {\n          console.warn(`Got NaN while animating:`, this);\n          finished = true;\n        }\n      }\n\n      if (payload && !payload[i].done) {\n        finished = false;\n      }\n\n      if (finished) {\n        node.done = true;\n      } else {\n        idle = false;\n      }\n\n      if (node.setValue(position, config.round)) {\n        changed = true;\n      }\n    });\n    const node = getAnimated(this);\n    const currVal = node.getValue();\n\n    if (idle) {\n      const finalVal = getFluidValue(anim.to);\n\n      if ((currVal !== finalVal || changed) && !config.decay) {\n        node.setValue(finalVal);\n\n        this._onChange(finalVal);\n      } else if (changed && config.decay) {\n        this._onChange(currVal);\n      }\n\n      this._stop();\n    } else if (changed) {\n      this._onChange(currVal);\n    }\n  }\n\n  set(value) {\n    raf.batchedUpdates(() => {\n      this._stop();\n\n      this._focus(value);\n\n      this._set(value);\n    });\n    return this;\n  }\n\n  pause() {\n    this._update({\n      pause: true\n    });\n  }\n\n  resume() {\n    this._update({\n      pause: false\n    });\n  }\n\n  finish() {\n    if (isAnimating(this)) {\n      const {\n        to,\n        config\n      } = this.animation;\n      raf.batchedUpdates(() => {\n        this._onStart();\n\n        if (!config.decay) {\n          this._set(to, false);\n        }\n\n        this._stop();\n      });\n    }\n\n    return this;\n  }\n\n  update(props) {\n    const queue = this.queue || (this.queue = []);\n    queue.push(props);\n    return this;\n  }\n\n  start(to, arg2) {\n    let queue;\n\n    if (!is.und(to)) {\n      queue = [is.obj(to) ? to : _extends({}, arg2, {\n        to\n      })];\n    } else {\n      queue = this.queue || [];\n      this.queue = [];\n    }\n\n    return Promise.all(queue.map(props => this._update(props))).then(results => getCombinedResult(this, results));\n  }\n\n  stop(cancel) {\n    const {\n      to\n    } = this.animation;\n\n    this._focus(this.get());\n\n    stopAsync(this._state, cancel && this._lastCallId);\n    raf.batchedUpdates(() => this._stop(to, cancel));\n    return this;\n  }\n\n  reset() {\n    this._update({\n      reset: true\n    });\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      this._start();\n    } else if (event.type == 'priority') {\n      this.priority = event.priority + 1;\n    }\n  }\n\n  _prepareNode(props) {\n    const key = this.key || '';\n    let {\n      to,\n      from\n    } = props;\n    to = is.obj(to) ? to[key] : to;\n\n    if (to == null || isAsyncTo(to)) {\n      to = undefined;\n    }\n\n    from = is.obj(from) ? from[key] : from;\n\n    if (from == null) {\n      from = undefined;\n    }\n\n    const range = {\n      to,\n      from\n    };\n\n    if (!hasAnimated(this)) {\n      if (props.reverse) [to, from] = [from, to];\n      from = getFluidValue(from);\n\n      if (!is.und(from)) {\n        this._set(from);\n      } else if (!getAnimated(this)) {\n          this._set(to);\n        }\n    }\n\n    return range;\n  }\n\n  _update(_ref, isLoop) {\n    let props = _extends({}, _ref);\n\n    const {\n      key,\n      defaultProps\n    } = this;\n    if (props.default) Object.assign(defaultProps, getDefaultProps(props, (value, prop) => /^on/.test(prop) ? resolveProp(value, key) : value));\n    mergeActiveFn(this, props, 'onProps');\n    sendEvent(this, 'onProps', props, this);\n\n    const range = this._prepareNode(props);\n\n    if (Object.isFrozen(this)) {\n      throw Error('Cannot animate a `SpringValue` object that is frozen. ' + 'Did you forget to pass your component to `animated(...)` before animating its props?');\n    }\n\n    const state = this._state;\n    return scheduleProps(++this._lastCallId, {\n      key,\n      props,\n      defaultProps,\n      state,\n      actions: {\n        pause: () => {\n          if (!isPaused(this)) {\n            setPausedBit(this, true);\n            flushCalls(state.pauseQueue);\n            sendEvent(this, 'onPause', getFinishedResult(this, checkFinished(this, this.animation.to)), this);\n          }\n        },\n        resume: () => {\n          if (isPaused(this)) {\n            setPausedBit(this, false);\n\n            if (isAnimating(this)) {\n              this._resume();\n            }\n\n            flushCalls(state.resumeQueue);\n            sendEvent(this, 'onResume', getFinishedResult(this, checkFinished(this, this.animation.to)), this);\n          }\n        },\n        start: this._merge.bind(this, range)\n      }\n    }).then(result => {\n      if (props.loop && result.finished && !(isLoop && result.noop)) {\n        const nextProps = createLoopUpdate(props);\n\n        if (nextProps) {\n          return this._update(nextProps, true);\n        }\n      }\n\n      return result;\n    });\n  }\n\n  _merge(range, props, resolve) {\n    if (props.cancel) {\n      this.stop(true);\n      return resolve(getCancelledResult(this));\n    }\n\n    const hasToProp = !is.und(range.to);\n    const hasFromProp = !is.und(range.from);\n\n    if (hasToProp || hasFromProp) {\n      if (props.callId > this._lastToId) {\n        this._lastToId = props.callId;\n      } else {\n        return resolve(getCancelledResult(this));\n      }\n    }\n\n    const {\n      key,\n      defaultProps,\n      animation: anim\n    } = this;\n    const {\n      to: prevTo,\n      from: prevFrom\n    } = anim;\n    let {\n      to = prevTo,\n      from = prevFrom\n    } = range;\n\n    if (hasFromProp && !hasToProp && (!props.default || is.und(to))) {\n      to = from;\n    }\n\n    if (props.reverse) [to, from] = [from, to];\n    const hasFromChanged = !isEqual(from, prevFrom);\n\n    if (hasFromChanged) {\n      anim.from = from;\n    }\n\n    from = getFluidValue(from);\n    const hasToChanged = !isEqual(to, prevTo);\n\n    if (hasToChanged) {\n      this._focus(to);\n    }\n\n    const hasAsyncTo = isAsyncTo(props.to);\n    const {\n      config\n    } = anim;\n    const {\n      decay,\n      velocity\n    } = config;\n\n    if (hasToProp || hasFromProp) {\n      config.velocity = 0;\n    }\n\n    if (props.config && !hasAsyncTo) {\n      mergeConfig(config, callProp(props.config, key), props.config !== defaultProps.config ? callProp(defaultProps.config, key) : void 0);\n    }\n\n    let node = getAnimated(this);\n\n    if (!node || is.und(to)) {\n      return resolve(getFinishedResult(this, true));\n    }\n\n    const reset = is.und(props.reset) ? hasFromProp && !props.default : !is.und(from) && matchProp(props.reset, key);\n    const value = reset ? from : this.get();\n    const goal = computeGoal(to);\n    const isAnimatable = is.num(goal) || is.arr(goal) || isAnimatedString(goal);\n    const immediate = !hasAsyncTo && (!isAnimatable || matchProp(defaultProps.immediate || props.immediate, key));\n\n    if (hasToChanged) {\n      const nodeType = getAnimatedType(to);\n\n      if (nodeType !== node.constructor) {\n        if (immediate) {\n          node = this._set(goal);\n        } else throw Error(`Cannot animate between ${node.constructor.name} and ${nodeType.name}, as the \"to\" prop suggests`);\n      }\n    }\n\n    const goalType = node.constructor;\n    let started = hasFluidValue(to);\n    let finished = false;\n\n    if (!started) {\n      const hasValueChanged = reset || !hasAnimated(this) && hasFromChanged;\n\n      if (hasToChanged || hasValueChanged) {\n        finished = isEqual(computeGoal(value), goal);\n        started = !finished;\n      }\n\n      if (!isEqual(anim.immediate, immediate) && !immediate || !isEqual(config.decay, decay) || !isEqual(config.velocity, velocity)) {\n        started = true;\n      }\n    }\n\n    if (finished && isAnimating(this)) {\n      if (anim.changed && !reset) {\n        started = true;\n      } else if (!started) {\n          this._stop(prevTo);\n        }\n    }\n\n    if (!hasAsyncTo) {\n      if (started || hasFluidValue(prevTo)) {\n        anim.values = node.getPayload();\n        anim.toValues = hasFluidValue(to) ? null : goalType == AnimatedString ? [1] : toArray(goal);\n      }\n\n      if (anim.immediate != immediate) {\n        anim.immediate = immediate;\n\n        if (!immediate && !reset) {\n          this._set(prevTo);\n        }\n      }\n\n      if (started) {\n        const {\n          onRest\n        } = anim;\n        each(ACTIVE_EVENTS, type => mergeActiveFn(this, props, type));\n        const result = getFinishedResult(this, checkFinished(this, prevTo));\n        flushCalls(this._pendingCalls, result);\n\n        this._pendingCalls.add(resolve);\n\n        if (anim.changed) raf.batchedUpdates(() => {\n          anim.changed = !reset;\n          onRest == null ? void 0 : onRest(result, this);\n\n          if (reset) {\n            callProp(defaultProps.onRest, result);\n          } else {\n              anim.onStart == null ? void 0 : anim.onStart(result, this);\n            }\n        });\n      }\n    }\n\n    if (reset) {\n      this._set(value);\n    }\n\n    if (hasAsyncTo) {\n      resolve(runAsync(props.to, props, this._state, this));\n    } else if (started) {\n        this._start();\n      } else if (isAnimating(this) && !hasToChanged) {\n          this._pendingCalls.add(resolve);\n        } else {\n            resolve(getNoopResult(value));\n          }\n  }\n\n  _focus(value) {\n    const anim = this.animation;\n\n    if (value !== anim.to) {\n      if (getFluidObservers(this)) {\n        this._detach();\n      }\n\n      anim.to = value;\n\n      if (getFluidObservers(this)) {\n        this._attach();\n      }\n    }\n  }\n\n  _attach() {\n    let priority = 0;\n    const {\n      to\n    } = this.animation;\n\n    if (hasFluidValue(to)) {\n      addFluidObserver(to, this);\n\n      if (isFrameValue(to)) {\n        priority = to.priority + 1;\n      }\n    }\n\n    this.priority = priority;\n  }\n\n  _detach() {\n    const {\n      to\n    } = this.animation;\n\n    if (hasFluidValue(to)) {\n      removeFluidObserver(to, this);\n    }\n  }\n\n  _set(arg, idle = true) {\n    const value = getFluidValue(arg);\n\n    if (!is.und(value)) {\n      const oldNode = getAnimated(this);\n\n      if (!oldNode || !isEqual(value, oldNode.getValue())) {\n        const nodeType = getAnimatedType(value);\n\n        if (!oldNode || oldNode.constructor != nodeType) {\n          setAnimated(this, nodeType.create(value));\n        } else {\n          oldNode.setValue(value);\n        }\n\n        if (oldNode) {\n          raf.batchedUpdates(() => {\n            this._onChange(value, idle);\n          });\n        }\n      }\n    }\n\n    return getAnimated(this);\n  }\n\n  _onStart() {\n    const anim = this.animation;\n\n    if (!anim.changed) {\n      anim.changed = true;\n      sendEvent(this, 'onStart', getFinishedResult(this, checkFinished(this, anim.to)), this);\n    }\n  }\n\n  _onChange(value, idle) {\n    if (!idle) {\n      this._onStart();\n\n      callProp(this.animation.onChange, value, this);\n    }\n\n    callProp(this.defaultProps.onChange, value, this);\n\n    super._onChange(value, idle);\n  }\n\n  _start() {\n    const anim = this.animation;\n    getAnimated(this).reset(getFluidValue(anim.to));\n\n    if (!anim.immediate) {\n      anim.fromValues = anim.values.map(node => node.lastPosition);\n    }\n\n    if (!isAnimating(this)) {\n      setActiveBit(this, true);\n\n      if (!isPaused(this)) {\n        this._resume();\n      }\n    }\n  }\n\n  _resume() {\n    if (Globals.skipAnimation) {\n      this.finish();\n    } else {\n      frameLoop.start(this);\n    }\n  }\n\n  _stop(goal, cancel) {\n    if (isAnimating(this)) {\n      setActiveBit(this, false);\n      const anim = this.animation;\n      each(anim.values, node => {\n        node.done = true;\n      });\n\n      if (anim.toValues) {\n        anim.onChange = anim.onPause = anim.onResume = undefined;\n      }\n\n      callFluidObservers(this, {\n        type: 'idle',\n        parent: this\n      });\n      const result = cancel ? getCancelledResult(this.get()) : getFinishedResult(this.get(), checkFinished(this, goal != null ? goal : anim.to));\n      flushCalls(this._pendingCalls, result);\n\n      if (anim.changed) {\n        anim.changed = false;\n        sendEvent(this, 'onRest', result, this);\n      }\n    }\n  }\n\n}\n\nfunction checkFinished(target, to) {\n  const goal = computeGoal(to);\n  const value = computeGoal(target.get());\n  return isEqual(value, goal);\n}\n\nfunction createLoopUpdate(props, loop = props.loop, to = props.to) {\n  let loopRet = callProp(loop);\n\n  if (loopRet) {\n    const overrides = loopRet !== true && inferTo(loopRet);\n    const reverse = (overrides || props).reverse;\n    const reset = !overrides || overrides.reset;\n    return createUpdate(_extends({}, props, {\n      loop,\n      default: false,\n      pause: undefined,\n      to: !reverse || isAsyncTo(to) ? to : undefined,\n      from: reset ? props.from : undefined,\n      reset\n    }, overrides));\n  }\n}\nfunction createUpdate(props) {\n  const {\n    to,\n    from\n  } = props = inferTo(props);\n  const keys = new Set();\n  if (is.obj(to)) findDefined(to, keys);\n  if (is.obj(from)) findDefined(from, keys);\n  props.keys = keys.size ? Array.from(keys) : null;\n  return props;\n}\nfunction declareUpdate(props) {\n  const update = createUpdate(props);\n\n  if (is.und(update.default)) {\n    update.default = getDefaultProps(update);\n  }\n\n  return update;\n}\n\nfunction findDefined(values, keys) {\n  eachProp(values, (value, key) => value != null && keys.add(key));\n}\n\nconst ACTIVE_EVENTS = ['onStart', 'onRest', 'onChange', 'onPause', 'onResume'];\n\nfunction mergeActiveFn(target, props, type) {\n  target.animation[type] = props[type] !== getDefaultProp(props, type) ? resolveProp(props[type], target.key) : undefined;\n}\n\nfunction sendEvent(target, type, ...args) {\n  var _target$animation$typ, _target$animation, _target$defaultProps$, _target$defaultProps;\n\n  (_target$animation$typ = (_target$animation = target.animation)[type]) == null ? void 0 : _target$animation$typ.call(_target$animation, ...args);\n  (_target$defaultProps$ = (_target$defaultProps = target.defaultProps)[type]) == null ? void 0 : _target$defaultProps$.call(_target$defaultProps, ...args);\n}\n\nconst BATCHED_EVENTS = ['onStart', 'onChange', 'onRest'];\nlet nextId = 1;\nclass Controller {\n  constructor(props, flush) {\n    this.id = nextId++;\n    this.springs = {};\n    this.queue = [];\n    this.ref = void 0;\n    this._flush = void 0;\n    this._initialProps = void 0;\n    this._lastAsyncId = 0;\n    this._active = new Set();\n    this._changed = new Set();\n    this._started = false;\n    this._item = void 0;\n    this._state = {\n      paused: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    this._events = {\n      onStart: new Map(),\n      onChange: new Map(),\n      onRest: new Map()\n    };\n    this._onFrame = this._onFrame.bind(this);\n\n    if (flush) {\n      this._flush = flush;\n    }\n\n    if (props) {\n      this.start(_extends({\n        default: true\n      }, props));\n    }\n  }\n\n  get idle() {\n    return !this._state.asyncTo && Object.values(this.springs).every(spring => spring.idle);\n  }\n\n  get item() {\n    return this._item;\n  }\n\n  set item(item) {\n    this._item = item;\n  }\n\n  get() {\n    const values = {};\n    this.each((spring, key) => values[key] = spring.get());\n    return values;\n  }\n\n  set(values) {\n    for (const key in values) {\n      const value = values[key];\n\n      if (!is.und(value)) {\n        this.springs[key].set(value);\n      }\n    }\n  }\n\n  update(props) {\n    if (props) {\n      this.queue.push(createUpdate(props));\n    }\n\n    return this;\n  }\n\n  start(props) {\n    let {\n      queue\n    } = this;\n\n    if (props) {\n      queue = toArray(props).map(createUpdate);\n    } else {\n      this.queue = [];\n    }\n\n    if (this._flush) {\n      return this._flush(this, queue);\n    }\n\n    prepareKeys(this, queue);\n    return flushUpdateQueue(this, queue);\n  }\n\n  stop(arg, keys) {\n    if (arg !== !!arg) {\n      keys = arg;\n    }\n\n    if (keys) {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].stop(!!arg));\n    } else {\n      stopAsync(this._state, this._lastAsyncId);\n      this.each(spring => spring.stop(!!arg));\n    }\n\n    return this;\n  }\n\n  pause(keys) {\n    if (is.und(keys)) {\n      this.start({\n        pause: true\n      });\n    } else {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].pause());\n    }\n\n    return this;\n  }\n\n  resume(keys) {\n    if (is.und(keys)) {\n      this.start({\n        pause: false\n      });\n    } else {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].resume());\n    }\n\n    return this;\n  }\n\n  each(iterator) {\n    eachProp(this.springs, iterator);\n  }\n\n  _onFrame() {\n    const {\n      onStart,\n      onChange,\n      onRest\n    } = this._events;\n    const active = this._active.size > 0;\n    const changed = this._changed.size > 0;\n\n    if (active && !this._started || changed && !this._started) {\n      this._started = true;\n      flush(onStart, ([onStart, result]) => {\n        result.value = this.get();\n        onStart(result, this, this._item);\n      });\n    }\n\n    const idle = !active && this._started;\n    const values = changed || idle && onRest.size ? this.get() : null;\n\n    if (changed && onChange.size) {\n      flush(onChange, ([onChange, result]) => {\n        result.value = values;\n        onChange(result, this, this._item);\n      });\n    }\n\n    if (idle) {\n      this._started = false;\n      flush(onRest, ([onRest, result]) => {\n        result.value = values;\n        onRest(result, this, this._item);\n      });\n    }\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      this._changed.add(event.parent);\n\n      if (!event.idle) {\n        this._active.add(event.parent);\n      }\n    } else if (event.type == 'idle') {\n      this._active.delete(event.parent);\n    } else return;\n\n    raf.onFrame(this._onFrame);\n  }\n\n}\nfunction flushUpdateQueue(ctrl, queue) {\n  return Promise.all(queue.map(props => flushUpdate(ctrl, props))).then(results => getCombinedResult(ctrl, results));\n}\nasync function flushUpdate(ctrl, props, isLoop) {\n  const {\n    keys,\n    to,\n    from,\n    loop,\n    onRest,\n    onResolve\n  } = props;\n  const defaults = is.obj(props.default) && props.default;\n\n  if (loop) {\n    props.loop = false;\n  }\n\n  if (to === false) props.to = null;\n  if (from === false) props.from = null;\n  const asyncTo = is.arr(to) || is.fun(to) ? to : undefined;\n\n  if (asyncTo) {\n    props.to = undefined;\n    props.onRest = undefined;\n\n    if (defaults) {\n      defaults.onRest = undefined;\n    }\n  } else {\n      each(BATCHED_EVENTS, key => {\n        const handler = props[key];\n\n        if (is.fun(handler)) {\n          const queue = ctrl['_events'][key];\n\n          props[key] = ({\n            finished,\n            cancelled\n          }) => {\n            const result = queue.get(handler);\n\n            if (result) {\n              if (!finished) result.finished = false;\n              if (cancelled) result.cancelled = true;\n            } else {\n              queue.set(handler, {\n                value: null,\n                finished: finished || false,\n                cancelled: cancelled || false\n              });\n            }\n          };\n\n          if (defaults) {\n            defaults[key] = props[key];\n          }\n        }\n      });\n    }\n\n  const state = ctrl['_state'];\n\n  if (props.pause === !state.paused) {\n    state.paused = props.pause;\n    flushCalls(props.pause ? state.pauseQueue : state.resumeQueue);\n  } else if (state.paused) {\n      props.pause = true;\n    }\n\n  const promises = (keys || Object.keys(ctrl.springs)).map(key => ctrl.springs[key].start(props));\n  const cancel = props.cancel === true || getDefaultProp(props, 'cancel') === true;\n\n  if (asyncTo || cancel && state.asyncId) {\n    promises.push(scheduleProps(++ctrl['_lastAsyncId'], {\n      props,\n      state,\n      actions: {\n        pause: noop,\n        resume: noop,\n\n        start(props, resolve) {\n          if (cancel) {\n            stopAsync(state, ctrl['_lastAsyncId']);\n            resolve(getCancelledResult(ctrl));\n          } else {\n            props.onRest = onRest;\n            resolve(runAsync(asyncTo, props, state, ctrl));\n          }\n        }\n\n      }\n    }));\n  }\n\n  if (state.paused) {\n    await new Promise(resume => {\n      state.resumeQueue.add(resume);\n    });\n  }\n\n  const result = getCombinedResult(ctrl, await Promise.all(promises));\n\n  if (loop && result.finished && !(isLoop && result.noop)) {\n    const nextProps = createLoopUpdate(props, loop, to);\n\n    if (nextProps) {\n      prepareKeys(ctrl, [nextProps]);\n      return flushUpdate(ctrl, nextProps, true);\n    }\n  }\n\n  if (onResolve) {\n    raf.batchedUpdates(() => onResolve(result, ctrl, ctrl.item));\n  }\n\n  return result;\n}\nfunction getSprings(ctrl, props) {\n  const springs = _extends({}, ctrl.springs);\n\n  if (props) {\n    each(toArray(props), props => {\n      if (is.und(props.keys)) {\n        props = createUpdate(props);\n      }\n\n      if (!is.obj(props.to)) {\n        props = _extends({}, props, {\n          to: undefined\n        });\n      }\n\n      prepareSprings(springs, props, key => {\n        return createSpring(key);\n      });\n    });\n  }\n\n  setSprings(ctrl, springs);\n  return springs;\n}\nfunction setSprings(ctrl, springs) {\n  eachProp(springs, (spring, key) => {\n    if (!ctrl.springs[key]) {\n      ctrl.springs[key] = spring;\n      addFluidObserver(spring, ctrl);\n    }\n  });\n}\n\nfunction createSpring(key, observer) {\n  const spring = new SpringValue();\n  spring.key = key;\n\n  if (observer) {\n    addFluidObserver(spring, observer);\n  }\n\n  return spring;\n}\n\nfunction prepareSprings(springs, props, create) {\n  if (props.keys) {\n    each(props.keys, key => {\n      const spring = springs[key] || (springs[key] = create(key));\n      spring['_prepareNode'](props);\n    });\n  }\n}\n\nfunction prepareKeys(ctrl, queue) {\n  each(queue, props => {\n    prepareSprings(ctrl.springs, props, key => {\n      return createSpring(key, ctrl);\n    });\n  });\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst _excluded$3 = [\"children\"];\nconst SpringContext = _ref => {\n  let {\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$3);\n\n  const inherited = useContext(ctx);\n  const pause = props.pause || !!inherited.pause,\n        immediate = props.immediate || !!inherited.immediate;\n  props = useMemoOne(() => ({\n    pause,\n    immediate\n  }), [pause, immediate]);\n  const {\n    Provider\n  } = ctx;\n  return React.createElement(Provider, {\n    value: props\n  }, children);\n};\nconst ctx = makeContext(SpringContext, {});\nSpringContext.Provider = ctx.Provider;\nSpringContext.Consumer = ctx.Consumer;\n\nfunction makeContext(target, init) {\n  Object.assign(target, React.createContext(init));\n  target.Provider._context = target;\n  target.Consumer._context = target;\n  return target;\n}\n\nconst SpringRef = () => {\n  const current = [];\n\n  const SpringRef = function SpringRef(props) {\n    deprecateDirectCall();\n    const results = [];\n    each(current, (ctrl, i) => {\n      if (is.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update = _getProps(props, ctrl, i);\n\n        if (update) {\n          results.push(ctrl.start(update));\n        }\n      }\n    });\n    return results;\n  };\n\n  SpringRef.current = current;\n\n  SpringRef.add = function (ctrl) {\n    if (!current.includes(ctrl)) {\n      current.push(ctrl);\n    }\n  };\n\n  SpringRef.delete = function (ctrl) {\n    const i = current.indexOf(ctrl);\n    if (~i) current.splice(i, 1);\n  };\n\n  SpringRef.pause = function () {\n    each(current, ctrl => ctrl.pause(...arguments));\n    return this;\n  };\n\n  SpringRef.resume = function () {\n    each(current, ctrl => ctrl.resume(...arguments));\n    return this;\n  };\n\n  SpringRef.set = function (values) {\n    each(current, ctrl => ctrl.set(values));\n  };\n\n  SpringRef.start = function (props) {\n    const results = [];\n    each(current, (ctrl, i) => {\n      if (is.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update = this._getProps(props, ctrl, i);\n\n        if (update) {\n          results.push(ctrl.start(update));\n        }\n      }\n    });\n    return results;\n  };\n\n  SpringRef.stop = function () {\n    each(current, ctrl => ctrl.stop(...arguments));\n    return this;\n  };\n\n  SpringRef.update = function (props) {\n    each(current, (ctrl, i) => ctrl.update(this._getProps(props, ctrl, i)));\n    return this;\n  };\n\n  const _getProps = function _getProps(arg, ctrl, index) {\n    return is.fun(arg) ? arg(index, ctrl) : arg;\n  };\n\n  SpringRef._getProps = _getProps;\n  return SpringRef;\n};\n\nfunction useSprings(length, props, deps) {\n  const propsFn = is.fun(props) && props;\n  if (propsFn && !deps) deps = [];\n  const ref = useMemo(() => propsFn || arguments.length == 3 ? SpringRef() : void 0, []);\n  const layoutId = useRef(0);\n  const forceUpdate = useForceUpdate();\n  const state = useMemo(() => ({\n    ctrls: [],\n    queue: [],\n\n    flush(ctrl, updates) {\n      const springs = getSprings(ctrl, updates);\n      const canFlushSync = layoutId.current > 0 && !state.queue.length && !Object.keys(springs).some(key => !ctrl.springs[key]);\n      return canFlushSync ? flushUpdateQueue(ctrl, updates) : new Promise(resolve => {\n        setSprings(ctrl, springs);\n        state.queue.push(() => {\n          resolve(flushUpdateQueue(ctrl, updates));\n        });\n        forceUpdate();\n      });\n    }\n\n  }), []);\n  const ctrls = useRef([...state.ctrls]);\n  const updates = [];\n  const prevLength = usePrev(length) || 0;\n  useMemo(() => {\n    each(ctrls.current.slice(length, prevLength), ctrl => {\n      detachRefs(ctrl, ref);\n      ctrl.stop(true);\n    });\n    ctrls.current.length = length;\n    declareUpdates(prevLength, length);\n  }, [length]);\n  useMemo(() => {\n    declareUpdates(0, Math.min(prevLength, length));\n  }, deps);\n\n  function declareUpdates(startIndex, endIndex) {\n    for (let i = startIndex; i < endIndex; i++) {\n      const ctrl = ctrls.current[i] || (ctrls.current[i] = new Controller(null, state.flush));\n      const update = propsFn ? propsFn(i, ctrl) : props[i];\n\n      if (update) {\n        updates[i] = declareUpdate(update);\n      }\n    }\n  }\n\n  const springs = ctrls.current.map((ctrl, i) => getSprings(ctrl, updates[i]));\n  const context = useContext(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useLayoutEffect(() => {\n    layoutId.current++;\n    state.ctrls = ctrls.current;\n    const {\n      queue\n    } = state;\n\n    if (queue.length) {\n      state.queue = [];\n      each(queue, cb => cb());\n    }\n\n    each(ctrls.current, (ctrl, i) => {\n      ref == null ? void 0 : ref.add(ctrl);\n\n      if (hasContext) {\n        ctrl.start({\n          default: context\n        });\n      }\n\n      const update = updates[i];\n\n      if (update) {\n        replaceRef(ctrl, update.ref);\n\n        if (ctrl.ref) {\n          ctrl.queue.push(update);\n        } else {\n          ctrl.start(update);\n        }\n      }\n    });\n  });\n  useOnce(() => () => {\n    each(state.ctrls, ctrl => ctrl.stop(true));\n  });\n  const values = springs.map(x => _extends({}, x));\n  return ref ? [values, ref] : values;\n}\n\nfunction useSpring(props, deps) {\n  const isFn = is.fun(props);\n  const [[values], ref] = useSprings(1, isFn ? props : [props], isFn ? deps || [] : deps);\n  return isFn || arguments.length == 2 ? [values, ref] : values;\n}\n\nconst initSpringRef = () => SpringRef();\n\nconst useSpringRef = () => useState(initSpringRef)[0];\n\nfunction useTrail(length, propsArg, deps) {\n  const propsFn = is.fun(propsArg) && propsArg;\n  if (propsFn && !deps) deps = [];\n  let reverse = true;\n  const result = useSprings(length, (i, ctrl) => {\n    const props = propsFn ? propsFn(i, ctrl) : propsArg;\n    reverse = reverse && props.reverse;\n    return props;\n  }, deps || [{}]);\n  const ref = result[1];\n  useLayoutEffect(() => {\n    each(ref.current, (ctrl, i) => {\n      const parent = ref.current[i + (reverse ? 1 : -1)];\n      if (parent) ctrl.start({\n        to: parent.springs\n      });\n    });\n  }, deps);\n\n  if (propsFn || arguments.length == 3) {\n    ref['_getProps'] = (propsArg, ctrl, i) => {\n      const props = is.fun(propsArg) ? propsArg(i, ctrl) : propsArg;\n\n      if (props) {\n        const parent = ref.current[i + (props.reverse ? 1 : -1)];\n        if (parent) props.to = parent.springs;\n        return props;\n      }\n    };\n\n    return result;\n  }\n\n  return result[0];\n}\n\nlet TransitionPhase;\n\n(function (TransitionPhase) {\n  TransitionPhase[\"MOUNT\"] = \"mount\";\n  TransitionPhase[\"ENTER\"] = \"enter\";\n  TransitionPhase[\"UPDATE\"] = \"update\";\n  TransitionPhase[\"LEAVE\"] = \"leave\";\n})(TransitionPhase || (TransitionPhase = {}));\n\nfunction useTransition(data, props, deps) {\n  const propsFn = is.fun(props) && props;\n  const {\n    reset,\n    sort,\n    trail = 0,\n    expires = true,\n    onDestroyed,\n    ref: propsRef,\n    config: propsConfig\n  } = propsFn ? propsFn() : props;\n  const ref = useMemo(() => propsFn || arguments.length == 3 ? SpringRef() : void 0, []);\n  const items = toArray(data);\n  const transitions = [];\n  const usedTransitions = useRef(null);\n  const prevTransitions = reset ? null : usedTransitions.current;\n  useLayoutEffect(() => {\n    usedTransitions.current = transitions;\n  });\n  useOnce(() => () => each(usedTransitions.current, t => {\n    if (t.expired) {\n      clearTimeout(t.expirationId);\n    }\n\n    detachRefs(t.ctrl, ref);\n    t.ctrl.stop(true);\n  }));\n  const keys = getKeys(items, propsFn ? propsFn() : props, prevTransitions);\n  const expired = reset && usedTransitions.current || [];\n  useLayoutEffect(() => each(expired, ({\n    ctrl,\n    item,\n    key\n  }) => {\n    detachRefs(ctrl, ref);\n    callProp(onDestroyed, item, key);\n  }));\n  const reused = [];\n  if (prevTransitions) each(prevTransitions, (t, i) => {\n    if (t.expired) {\n      clearTimeout(t.expirationId);\n      expired.push(t);\n    } else {\n      i = reused[i] = keys.indexOf(t.key);\n      if (~i) transitions[i] = t;\n    }\n  });\n  each(items, (item, i) => {\n    if (!transitions[i]) {\n      transitions[i] = {\n        key: keys[i],\n        item,\n        phase: TransitionPhase.MOUNT,\n        ctrl: new Controller()\n      };\n      transitions[i].ctrl.item = item;\n    }\n  });\n\n  if (reused.length) {\n    let i = -1;\n    const {\n      leave\n    } = propsFn ? propsFn() : props;\n    each(reused, (keyIndex, prevIndex) => {\n      const t = prevTransitions[prevIndex];\n\n      if (~keyIndex) {\n        i = transitions.indexOf(t);\n        transitions[i] = _extends({}, t, {\n          item: items[keyIndex]\n        });\n      } else if (leave) {\n        transitions.splice(++i, 0, t);\n      }\n    });\n  }\n\n  if (is.fun(sort)) {\n    transitions.sort((a, b) => sort(a.item, b.item));\n  }\n\n  let delay = -trail;\n  const forceUpdate = useForceUpdate();\n  const defaultProps = getDefaultProps(props);\n  const changes = new Map();\n  each(transitions, (t, i) => {\n    const key = t.key;\n    const prevPhase = t.phase;\n    const p = propsFn ? propsFn() : props;\n    let to;\n    let phase;\n    let propsDelay = callProp(p.delay || 0, key);\n\n    if (prevPhase == TransitionPhase.MOUNT) {\n      to = p.enter;\n      phase = TransitionPhase.ENTER;\n    } else {\n      const isLeave = keys.indexOf(key) < 0;\n\n      if (prevPhase != TransitionPhase.LEAVE) {\n        if (isLeave) {\n          to = p.leave;\n          phase = TransitionPhase.LEAVE;\n        } else if (to = p.update) {\n          phase = TransitionPhase.UPDATE;\n        } else return;\n      } else if (!isLeave) {\n        to = p.enter;\n        phase = TransitionPhase.ENTER;\n      } else return;\n    }\n\n    to = callProp(to, t.item, i);\n    to = is.obj(to) ? inferTo(to) : {\n      to\n    };\n\n    if (!to.config) {\n      const config = propsConfig || defaultProps.config;\n      to.config = callProp(config, t.item, i, phase);\n    }\n\n    delay += trail;\n\n    const payload = _extends({}, defaultProps, {\n      delay: propsDelay + delay,\n      ref: propsRef,\n      immediate: p.immediate,\n      reset: false\n    }, to);\n\n    if (phase == TransitionPhase.ENTER && is.und(payload.from)) {\n      const _p = propsFn ? propsFn() : props;\n\n      const from = is.und(_p.initial) || prevTransitions ? _p.from : _p.initial;\n      payload.from = callProp(from, t.item, i);\n    }\n\n    const {\n      onResolve\n    } = payload;\n\n    payload.onResolve = result => {\n      callProp(onResolve, result);\n      const transitions = usedTransitions.current;\n      const t = transitions.find(t => t.key === key);\n      if (!t) return;\n\n      if (result.cancelled && t.phase != TransitionPhase.UPDATE) {\n        return;\n      }\n\n      if (t.ctrl.idle) {\n        const idle = transitions.every(t => t.ctrl.idle);\n\n        if (t.phase == TransitionPhase.LEAVE) {\n          const expiry = callProp(expires, t.item);\n\n          if (expiry !== false) {\n            const expiryMs = expiry === true ? 0 : expiry;\n            t.expired = true;\n\n            if (!idle && expiryMs > 0) {\n              if (expiryMs <= 0x7fffffff) t.expirationId = setTimeout(forceUpdate, expiryMs);\n              return;\n            }\n          }\n        }\n\n        if (idle && transitions.some(t => t.expired)) {\n          forceUpdate();\n        }\n      }\n    };\n\n    const springs = getSprings(t.ctrl, payload);\n    changes.set(t, {\n      phase,\n      springs,\n      payload\n    });\n  });\n  const context = useContext(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useLayoutEffect(() => {\n    if (hasContext) each(transitions, t => {\n      t.ctrl.start({\n        default: context\n      });\n    });\n  }, [context]);\n  useLayoutEffect(() => {\n    each(changes, ({\n      phase,\n      payload\n    }, t) => {\n      const {\n        ctrl\n      } = t;\n      t.phase = phase;\n      ref == null ? void 0 : ref.add(ctrl);\n\n      if (hasContext && phase == TransitionPhase.ENTER) {\n        ctrl.start({\n          default: context\n        });\n      }\n\n      if (payload) {\n        replaceRef(ctrl, payload.ref);\n\n        if (ctrl.ref) {\n          ctrl.update(payload);\n        } else {\n          ctrl.start(payload);\n        }\n      }\n    });\n  }, reset ? void 0 : deps);\n\n  const renderTransitions = render => React.createElement(React.Fragment, null, transitions.map((t, i) => {\n    const {\n      springs\n    } = changes.get(t) || t.ctrl;\n    const elem = render(_extends({}, springs), t.item, t, i);\n    return elem && elem.type ? React.createElement(elem.type, _extends({}, elem.props, {\n      key: is.str(t.key) || is.num(t.key) ? t.key : t.ctrl.id,\n      ref: elem.ref\n    })) : elem;\n  }));\n\n  return ref ? [renderTransitions, ref] : renderTransitions;\n}\nlet nextKey = 1;\n\nfunction getKeys(items, {\n  key,\n  keys = key\n}, prevTransitions) {\n  if (keys === null) {\n    const reused = new Set();\n    return items.map(item => {\n      const t = prevTransitions && prevTransitions.find(t => t.item === item && t.phase !== TransitionPhase.LEAVE && !reused.has(t));\n\n      if (t) {\n        reused.add(t);\n        return t.key;\n      }\n\n      return nextKey++;\n    });\n  }\n\n  return is.und(keys) ? items : is.fun(keys) ? items.map(keys) : toArray(keys);\n}\n\nconst _excluded$2 = [\"children\"];\nfunction Spring(_ref) {\n  let {\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n  return children(useSpring(props));\n}\n\nconst _excluded$1 = [\"items\", \"children\"];\nfunction Trail(_ref) {\n  let {\n    items,\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n  const trails = useTrail(items.length, props);\n  return items.map((item, index) => {\n    const result = children(item, index);\n    return is.fun(result) ? result(trails[index]) : result;\n  });\n}\n\nconst _excluded = [\"items\", \"children\"];\nfunction Transition(_ref) {\n  let {\n    items,\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  return useTransition(items, props)(children);\n}\n\nclass Interpolation extends FrameValue {\n  constructor(source, args) {\n    super();\n    this.key = void 0;\n    this.idle = true;\n    this.calc = void 0;\n    this._active = new Set();\n    this.source = source;\n    this.calc = createInterpolator(...args);\n\n    const value = this._get();\n\n    const nodeType = getAnimatedType(value);\n    setAnimated(this, nodeType.create(value));\n  }\n\n  advance(_dt) {\n    const value = this._get();\n\n    const oldValue = this.get();\n\n    if (!isEqual(value, oldValue)) {\n      getAnimated(this).setValue(value);\n\n      this._onChange(value, this.idle);\n    }\n\n    if (!this.idle && checkIdle(this._active)) {\n      becomeIdle(this);\n    }\n  }\n\n  _get() {\n    const inputs = is.arr(this.source) ? this.source.map(getFluidValue) : toArray(getFluidValue(this.source));\n    return this.calc(...inputs);\n  }\n\n  _start() {\n    if (this.idle && !checkIdle(this._active)) {\n      this.idle = false;\n      each(getPayload(this), node => {\n        node.done = false;\n      });\n\n      if (Globals.skipAnimation) {\n        raf.batchedUpdates(() => this.advance());\n        becomeIdle(this);\n      } else {\n        frameLoop.start(this);\n      }\n    }\n  }\n\n  _attach() {\n    let priority = 1;\n    each(toArray(this.source), source => {\n      if (hasFluidValue(source)) {\n        addFluidObserver(source, this);\n      }\n\n      if (isFrameValue(source)) {\n        if (!source.idle) {\n          this._active.add(source);\n        }\n\n        priority = Math.max(priority, source.priority + 1);\n      }\n    });\n    this.priority = priority;\n\n    this._start();\n  }\n\n  _detach() {\n    each(toArray(this.source), source => {\n      if (hasFluidValue(source)) {\n        removeFluidObserver(source, this);\n      }\n    });\n\n    this._active.clear();\n\n    becomeIdle(this);\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      if (event.idle) {\n        this.advance();\n      } else {\n        this._active.add(event.parent);\n\n        this._start();\n      }\n    } else if (event.type == 'idle') {\n        this._active.delete(event.parent);\n      } else if (event.type == 'priority') {\n          this.priority = toArray(this.source).reduce((highest, parent) => Math.max(highest, (isFrameValue(parent) ? parent.priority : 0) + 1), 0);\n        }\n  }\n\n}\n\nfunction isIdle(source) {\n  return source.idle !== false;\n}\n\nfunction checkIdle(active) {\n  return !active.size || Array.from(active).every(isIdle);\n}\n\nfunction becomeIdle(self) {\n  if (!self.idle) {\n    self.idle = true;\n    each(getPayload(self), node => {\n      node.done = true;\n    });\n    callFluidObservers(self, {\n      type: 'idle',\n      parent: self\n    });\n  }\n}\n\nconst to = (source, ...args) => new Interpolation(source, args);\nconst interpolate = (source, ...args) => (deprecateInterpolate(), new Interpolation(source, args));\n\nGlobals.assign({\n  createStringInterpolator,\n  to: (source, args) => new Interpolation(source, args)\n});\nconst update = frameLoop.advance;\n\nexport { BailSignal, Controller, FrameValue, Interpolation, Spring, SpringContext, SpringRef, SpringValue, Trail, Transition, config, inferTo, interpolate, to, update, useChain, useSpring, useSpringRef, useSprings, useTrail, useTransition };\n","let updateQueue = makeQueue();\nconst raf = fn => schedule(fn, updateQueue);\nlet writeQueue = makeQueue();\n\nraf.write = fn => schedule(fn, writeQueue);\n\nlet onStartQueue = makeQueue();\n\nraf.onStart = fn => schedule(fn, onStartQueue);\n\nlet onFrameQueue = makeQueue();\n\nraf.onFrame = fn => schedule(fn, onFrameQueue);\n\nlet onFinishQueue = makeQueue();\n\nraf.onFinish = fn => schedule(fn, onFinishQueue);\n\nlet timeouts = [];\n\nraf.setTimeout = (handler, ms) => {\n  let time = raf.now() + ms;\n\n  let cancel = () => {\n    let i = timeouts.findIndex(t => t.cancel == cancel);\n    if (~i) timeouts.splice(i, 1);\n    __raf.count -= ~i ? 1 : 0;\n  };\n\n  let timeout = {\n    time,\n    handler,\n    cancel\n  };\n  timeouts.splice(findTimeout(time), 0, timeout);\n  __raf.count += 1;\n  start();\n  return timeout;\n};\n\nlet findTimeout = time => ~(~timeouts.findIndex(t => t.time > time) || ~timeouts.length);\n\nraf.cancel = fn => {\n  updateQueue.delete(fn);\n  writeQueue.delete(fn);\n};\n\nraf.sync = fn => {\n  sync = true;\n  raf.batchedUpdates(fn);\n  sync = false;\n};\n\nraf.throttle = fn => {\n  let lastArgs;\n\n  function queuedFn() {\n    try {\n      fn(...lastArgs);\n    } finally {\n      lastArgs = null;\n    }\n  }\n\n  function throttled(...args) {\n    lastArgs = args;\n    raf.onStart(queuedFn);\n  }\n\n  throttled.handler = fn;\n\n  throttled.cancel = () => {\n    onStartQueue.delete(queuedFn);\n    lastArgs = null;\n  };\n\n  return throttled;\n};\n\nlet nativeRaf = typeof window != 'undefined' ? window.requestAnimationFrame : () => {};\n\nraf.use = impl => nativeRaf = impl;\n\nraf.now = typeof performance != 'undefined' ? () => performance.now() : Date.now;\n\nraf.batchedUpdates = fn => fn();\n\nraf.catch = console.error;\nraf.frameLoop = 'always';\n\nraf.advance = () => {\n  if (raf.frameLoop !== 'demand') {\n    console.warn('Cannot call the manual advancement of rafz whilst frameLoop is not set as demand');\n  } else {\n    update();\n  }\n};\n\nlet ts = -1;\nlet sync = false;\n\nfunction schedule(fn, queue) {\n  if (sync) {\n    queue.delete(fn);\n    fn(0);\n  } else {\n    queue.add(fn);\n    start();\n  }\n}\n\nfunction start() {\n  if (ts < 0) {\n    ts = 0;\n\n    if (raf.frameLoop !== 'demand') {\n      nativeRaf(loop);\n    }\n  }\n}\n\nfunction loop() {\n  if (~ts) {\n    nativeRaf(loop);\n    raf.batchedUpdates(update);\n  }\n}\n\nfunction update() {\n  let prevTs = ts;\n  ts = raf.now();\n  let count = findTimeout(ts);\n\n  if (count) {\n    eachSafely(timeouts.splice(0, count), t => t.handler());\n    __raf.count -= count;\n  }\n\n  onStartQueue.flush();\n  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667);\n  onFrameQueue.flush();\n  writeQueue.flush();\n  onFinishQueue.flush();\n}\n\nfunction makeQueue() {\n  let next = new Set();\n  let current = next;\n  return {\n    add(fn) {\n      __raf.count += current == next && !next.has(fn) ? 1 : 0;\n      next.add(fn);\n    },\n\n    delete(fn) {\n      __raf.count -= current == next && next.has(fn) ? 1 : 0;\n      return next.delete(fn);\n    },\n\n    flush(arg) {\n      if (current.size) {\n        next = new Set();\n        __raf.count -= current.size;\n        eachSafely(current, fn => fn(arg) && next.add(fn));\n        __raf.count += next.size;\n        current = next;\n      }\n    }\n\n  };\n}\n\nfunction eachSafely(values, each) {\n  values.forEach(value => {\n    try {\n      each(value);\n    } catch (e) {\n      raf.catch(e);\n    }\n  });\n}\n\nconst __raf = {\n  count: 0,\n\n  clear() {\n    ts = -1;\n    timeouts = [];\n    onStartQueue = makeQueue();\n    updateQueue = makeQueue();\n    onFrameQueue = makeQueue();\n    writeQueue = makeQueue();\n    onFinishQueue = makeQueue();\n    __raf.count = 0;\n  }\n\n};\n\nexport { __raf, raf };\n","import { raf } from '@react-spring/rafz';\nexport { raf } from '@react-spring/rafz';\nimport * as React from 'react';\nimport { useEffect, useState, useRef } from 'react';\n\nfunction noop() {}\nconst defineHidden = (obj, key, value) => Object.defineProperty(obj, key, {\n  value,\n  writable: true,\n  configurable: true\n});\nconst is = {\n  arr: Array.isArray,\n  obj: a => !!a && a.constructor.name === 'Object',\n  fun: a => typeof a === 'function',\n  str: a => typeof a === 'string',\n  num: a => typeof a === 'number',\n  und: a => a === undefined\n};\nfunction isEqual(a, b) {\n  if (is.arr(a)) {\n    if (!is.arr(b) || a.length !== b.length) return false;\n\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n\n    return true;\n  }\n\n  return a === b;\n}\nconst each = (obj, fn) => obj.forEach(fn);\nfunction eachProp(obj, fn, ctx) {\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      fn.call(ctx, obj[key], key);\n    }\n  }\n}\nconst toArray = a => is.und(a) ? [] : is.arr(a) ? a : [a];\nfunction flush(queue, iterator) {\n  if (queue.size) {\n    const items = Array.from(queue);\n    queue.clear();\n    each(items, iterator);\n  }\n}\nconst flushCalls = (queue, ...args) => flush(queue, fn => fn(...args));\n\nlet createStringInterpolator$1;\nlet to;\nlet colors$1 = null;\nlet skipAnimation = false;\nlet willAdvance = noop;\nconst assign = globals => {\n  if (globals.to) to = globals.to;\n  if (globals.now) raf.now = globals.now;\n  if (globals.colors !== undefined) colors$1 = globals.colors;\n  if (globals.skipAnimation != null) skipAnimation = globals.skipAnimation;\n  if (globals.createStringInterpolator) createStringInterpolator$1 = globals.createStringInterpolator;\n  if (globals.requestAnimationFrame) raf.use(globals.requestAnimationFrame);\n  if (globals.batchedUpdates) raf.batchedUpdates = globals.batchedUpdates;\n  if (globals.willAdvance) willAdvance = globals.willAdvance;\n  if (globals.frameLoop) raf.frameLoop = globals.frameLoop;\n};\n\nvar globals = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  get createStringInterpolator () { return createStringInterpolator$1; },\n  get to () { return to; },\n  get colors () { return colors$1; },\n  get skipAnimation () { return skipAnimation; },\n  get willAdvance () { return willAdvance; },\n  assign: assign\n});\n\nconst startQueue = new Set();\nlet currentFrame = [];\nlet prevFrame = [];\nlet priority = 0;\nconst frameLoop = {\n  get idle() {\n    return !startQueue.size && !currentFrame.length;\n  },\n\n  start(animation) {\n    if (priority > animation.priority) {\n      startQueue.add(animation);\n      raf.onStart(flushStartQueue);\n    } else {\n      startSafely(animation);\n      raf(advance);\n    }\n  },\n\n  advance,\n\n  sort(animation) {\n    if (priority) {\n      raf.onFrame(() => frameLoop.sort(animation));\n    } else {\n      const prevIndex = currentFrame.indexOf(animation);\n\n      if (~prevIndex) {\n        currentFrame.splice(prevIndex, 1);\n        startUnsafely(animation);\n      }\n    }\n  },\n\n  clear() {\n    currentFrame = [];\n    startQueue.clear();\n  }\n\n};\n\nfunction flushStartQueue() {\n  startQueue.forEach(startSafely);\n  startQueue.clear();\n  raf(advance);\n}\n\nfunction startSafely(animation) {\n  if (!currentFrame.includes(animation)) startUnsafely(animation);\n}\n\nfunction startUnsafely(animation) {\n  currentFrame.splice(findIndex(currentFrame, other => other.priority > animation.priority), 0, animation);\n}\n\nfunction advance(dt) {\n  const nextFrame = prevFrame;\n\n  for (let i = 0; i < currentFrame.length; i++) {\n    const animation = currentFrame[i];\n    priority = animation.priority;\n\n    if (!animation.idle) {\n      willAdvance(animation);\n      animation.advance(dt);\n\n      if (!animation.idle) {\n        nextFrame.push(animation);\n      }\n    }\n  }\n\n  priority = 0;\n  prevFrame = currentFrame;\n  prevFrame.length = 0;\n  currentFrame = nextFrame;\n  return currentFrame.length > 0;\n}\n\nfunction findIndex(arr, test) {\n  const index = arr.findIndex(test);\n  return index < 0 ? arr.length : index;\n}\n\nconst colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff\n};\n\nconst NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nconst PERCENTAGE = NUMBER + '%';\n\nfunction call(...parts) {\n  return '\\\\(\\\\s*(' + parts.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nconst rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER));\nconst rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER));\nconst hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE));\nconst hsla = new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nconst hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex6 = /^#([0-9a-fA-F]{6})$/;\nconst hex8 = /^#([0-9a-fA-F]{8})$/;\n\nfunction normalizeColor(color) {\n  let match;\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff ? color : null;\n  }\n\n  if (match = hex6.exec(color)) return parseInt(match[1] + 'ff', 16) >>> 0;\n\n  if (colors$1 && colors$1[color] !== undefined) {\n    return colors$1[color];\n  }\n\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | 0x000000ff) >>> 0;\n  }\n\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | parse1(match[4])) >>> 0;\n  }\n\n  if (match = hex3.exec(color)) {\n    return parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + 'ff', 16) >>> 0;\n  }\n\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n\n  if (match = hex4.exec(color)) {\n    return parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + match[4] + match[4], 16) >>> 0;\n  }\n\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | 0x000000ff) >>> 0;\n  }\n\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | parse1(match[4])) >>> 0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\n\nfunction parse255(str) {\n  const int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\n\nfunction parse360(str) {\n  const int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\n\nfunction parse1(str) {\n  const num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  const int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\nfunction colorToRgba(input) {\n  let int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  let r = (int32Color & 0xff000000) >>> 24;\n  let g = (int32Color & 0x00ff0000) >>> 16;\n  let b = (int32Color & 0x0000ff00) >>> 8;\n  let a = (int32Color & 0x000000ff) / 255;\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\nconst createInterpolator = (range, output, extrapolate) => {\n  if (is.fun(range)) {\n    return range;\n  }\n\n  if (is.arr(range)) {\n    return createInterpolator({\n      range,\n      output: output,\n      extrapolate\n    });\n  }\n\n  if (is.str(range.output[0])) {\n    return createStringInterpolator$1(range);\n  }\n\n  const config = range;\n  const outputRange = config.output;\n  const inputRange = config.range || [0, 1];\n  const extrapolateLeft = config.extrapolateLeft || config.extrapolate || 'extend';\n  const extrapolateRight = config.extrapolateRight || config.extrapolate || 'extend';\n\n  const easing = config.easing || (t => t);\n\n  return input => {\n    const range = findRange(input, inputRange);\n    return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight, config.map);\n  };\n};\n\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  let result = map ? map(input) : input;\n\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result;else if (extrapolateLeft === 'clamp') result = inputMin;\n  }\n\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result;else if (extrapolateRight === 'clamp') result = inputMax;\n  }\n\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax;\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin);\n  result = easing(result);\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\n\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) if (inputRange[i] >= input) break;\n\n  return i - 1;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nconst $get = Symbol.for('FluidValue.get');\nconst $observers = Symbol.for('FluidValue.observers');\n\nconst hasFluidValue = arg => Boolean(arg && arg[$get]);\n\nconst getFluidValue = arg => arg && arg[$get] ? arg[$get]() : arg;\n\nconst getFluidObservers = target => target[$observers] || null;\n\nfunction callFluidObserver(observer, event) {\n  if (observer.eventObserved) {\n    observer.eventObserved(event);\n  } else {\n    observer(event);\n  }\n}\n\nfunction callFluidObservers(target, event) {\n  let observers = target[$observers];\n\n  if (observers) {\n    observers.forEach(observer => {\n      callFluidObserver(observer, event);\n    });\n  }\n}\n\nclass FluidValue {\n  constructor(get) {\n    this[$get] = void 0;\n    this[$observers] = void 0;\n\n    if (!get && !(get = this.get)) {\n      throw Error('Unknown getter');\n    }\n\n    setFluidGetter(this, get);\n  }\n\n}\n\nconst setFluidGetter = (target, get) => setHidden(target, $get, get);\n\nfunction addFluidObserver(target, observer) {\n  if (target[$get]) {\n    let observers = target[$observers];\n\n    if (!observers) {\n      setHidden(target, $observers, observers = new Set());\n    }\n\n    if (!observers.has(observer)) {\n      observers.add(observer);\n\n      if (target.observerAdded) {\n        target.observerAdded(observers.size, observer);\n      }\n    }\n  }\n\n  return observer;\n}\n\nfunction removeFluidObserver(target, observer) {\n  let observers = target[$observers];\n\n  if (observers && observers.has(observer)) {\n    const count = observers.size - 1;\n\n    if (count) {\n      observers.delete(observer);\n    } else {\n      target[$observers] = null;\n    }\n\n    if (target.observerRemoved) {\n      target.observerRemoved(count, observer);\n    }\n  }\n}\n\nconst setHidden = (target, key, value) => Object.defineProperty(target, key, {\n  value,\n  writable: true,\n  configurable: true\n});\n\nconst numberRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nconst colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi;\nlet namedColorRegex;\nconst rgbaRegex = /rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi;\n\nconst rgbaRound = (_, p1, p2, p3, p4) => `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`;\n\nconst createStringInterpolator = config => {\n  if (!namedColorRegex) namedColorRegex = colors$1 ? new RegExp(`(${Object.keys(colors$1).join('|')})(?!\\\\w)`, 'g') : /^\\b$/;\n  const output = config.output.map(value => getFluidValue(value).replace(colorRegex, colorToRgba).replace(namedColorRegex, colorToRgba));\n  const keyframes = output.map(value => value.match(numberRegex).map(Number));\n  const outputRanges = keyframes[0].map((_, i) => keyframes.map(values => {\n    if (!(i in values)) {\n      throw Error('The arity of each \"output\" value must be equal');\n    }\n\n    return values[i];\n  }));\n  const interpolators = outputRanges.map(output => createInterpolator(_extends({}, config, {\n    output\n  })));\n  return input => {\n    let i = 0;\n    return output[0].replace(numberRegex, () => String(interpolators[i++](input))).replace(rgbaRegex, rgbaRound);\n  };\n};\n\nconst prefix = 'react-spring: ';\n\nconst once = fn => {\n  const func = fn;\n  let called = false;\n\n  if (typeof func != 'function') {\n    throw new TypeError(`${prefix}once requires a function parameter`);\n  }\n\n  return (...args) => {\n    if (!called) {\n      func(...args);\n      called = true;\n    }\n  };\n};\n\nconst warnInterpolate = once(console.warn);\nfunction deprecateInterpolate() {\n  warnInterpolate(`${prefix}The \"interpolate\" function is deprecated in v9 (use \"to\" instead)`);\n}\nconst warnDirectCall = once(console.warn);\nfunction deprecateDirectCall() {\n  warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use \".start\" instead), this will be removed in later 0.X.0 versions`);\n}\n\nfunction isAnimatedString(value) {\n  return is.str(value) && (value[0] == '#' || /\\d/.test(value) || value in (colors$1 || {}));\n}\n\nconst useOnce = effect => useEffect(effect, emptyDeps);\nconst emptyDeps = [];\n\nfunction useForceUpdate() {\n  const update = useState()[1];\n  const mounted = useState(makeMountedRef)[0];\n  useOnce(mounted.unmount);\n  return () => {\n    if (mounted.current) {\n      update({});\n    }\n  };\n}\n\nfunction makeMountedRef() {\n  const mounted = {\n    current: true,\n    unmount: () => () => {\n      mounted.current = false;\n    }\n  };\n  return mounted;\n}\n\nfunction useMemoOne(getResult, inputs) {\n  const [initial] = useState(() => ({\n    inputs,\n    result: getResult()\n  }));\n  const committed = useRef();\n  const prevCache = committed.current;\n  let cache = prevCache;\n\n  if (cache) {\n    const useCache = Boolean(inputs && cache.inputs && areInputsEqual(inputs, cache.inputs));\n\n    if (!useCache) {\n      cache = {\n        inputs,\n        result: getResult()\n      };\n    }\n  } else {\n    cache = initial;\n  }\n\n  useEffect(() => {\n    committed.current = cache;\n\n    if (prevCache == initial) {\n      initial.inputs = initial.result = undefined;\n    }\n  }, [cache]);\n  return cache.result;\n}\n\nfunction areInputsEqual(next, prev) {\n  if (next.length !== prev.length) {\n    return false;\n  }\n\n  for (let i = 0; i < next.length; i++) {\n    if (next[i] !== prev[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction usePrev(value) {\n  const prevRef = useRef();\n  useEffect(() => {\n    prevRef.current = value;\n  });\n  return prevRef.current;\n}\n\nconst useLayoutEffect = typeof window !== 'undefined' && window.document && window.document.createElement ? React.useLayoutEffect : React.useEffect;\n\nexport { FluidValue, globals as Globals, addFluidObserver, callFluidObserver, callFluidObservers, colorToRgba, colors, createInterpolator, createStringInterpolator, defineHidden, deprecateDirectCall, deprecateInterpolate, each, eachProp, flush, flushCalls, frameLoop, getFluidObservers, getFluidValue, hasFluidValue, hex3, hex4, hex6, hex8, hsl, hsla, is, isAnimatedString, isEqual, noop, removeFluidObserver, rgb, rgba, setFluidGetter, toArray, useForceUpdate, useLayoutEffect, useMemoOne, useOnce, usePrev };\n","import { Globals } from '@react-spring/core';\nexport * from '@react-spring/core';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport { eachProp, is, toArray, FluidValue, each, getFluidValue, hasFluidValue, addFluidObserver, removeFluidObserver, callFluidObservers, createStringInterpolator, colors } from '@react-spring/shared';\nimport { AnimatedObject, createHost } from '@react-spring/animated';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst _excluded$2 = [\"style\", \"children\", \"scrollTop\", \"scrollLeft\"];\nconst isCustomPropRE = /^--/;\n\nfunction dangerousStyleValue(name, value) {\n  if (value == null || typeof value === 'boolean' || value === '') return '';\n  if (typeof value === 'number' && value !== 0 && !isCustomPropRE.test(name) && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px';\n  return ('' + value).trim();\n}\n\nconst attributeCache = {};\nfunction applyAnimatedValues(instance, props) {\n  if (!instance.nodeType || !instance.setAttribute) {\n    return false;\n  }\n\n  const isFilterElement = instance.nodeName === 'filter' || instance.parentNode && instance.parentNode.nodeName === 'filter';\n\n  const _ref = props,\n        {\n    style,\n    children,\n    scrollTop,\n    scrollLeft\n  } = _ref,\n        attributes = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n  const values = Object.values(attributes);\n  const names = Object.keys(attributes).map(name => isFilterElement || instance.hasAttribute(name) ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, n => '-' + n.toLowerCase())));\n\n  if (children !== void 0) {\n    instance.textContent = children;\n  }\n\n  for (let name in style) {\n    if (style.hasOwnProperty(name)) {\n      const value = dangerousStyleValue(name, style[name]);\n\n      if (isCustomPropRE.test(name)) {\n        instance.style.setProperty(name, value);\n      } else {\n        instance.style[name] = value;\n      }\n    }\n  }\n\n  names.forEach((name, i) => {\n    instance.setAttribute(name, values[i]);\n  });\n\n  if (scrollTop !== void 0) {\n    instance.scrollTop = scrollTop;\n  }\n\n  if (scrollLeft !== void 0) {\n    instance.scrollLeft = scrollLeft;\n  }\n}\nlet isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nconst prefixKey = (prefix, key) => prefix + key.charAt(0).toUpperCase() + key.substring(1);\n\nconst prefixes = ['Webkit', 'Ms', 'Moz', 'O'];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce((acc, prop) => {\n  prefixes.forEach(prefix => acc[prefixKey(prefix, prop)] = acc[prop]);\n  return acc;\n}, isUnitlessNumber);\n\nconst _excluded$1 = [\"x\", \"y\", \"z\"];\nconst domTransforms = /^(matrix|translate|scale|rotate|skew)/;\nconst pxTransforms = /^(translate)/;\nconst degTransforms = /^(rotate|skew)/;\n\nconst addUnit = (value, unit) => is.num(value) && value !== 0 ? value + unit : value;\n\nconst isValueIdentity = (value, id) => is.arr(value) ? value.every(v => isValueIdentity(v, id)) : is.num(value) ? value === id : parseFloat(value) === id;\n\nclass AnimatedStyle extends AnimatedObject {\n  constructor(_ref) {\n    let {\n      x,\n      y,\n      z\n    } = _ref,\n        style = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n    const inputs = [];\n    const transforms = [];\n\n    if (x || y || z) {\n      inputs.push([x || 0, y || 0, z || 0]);\n      transforms.push(xyz => [`translate3d(${xyz.map(v => addUnit(v, 'px')).join(',')})`, isValueIdentity(xyz, 0)]);\n    }\n\n    eachProp(style, (value, key) => {\n      if (key === 'transform') {\n        inputs.push([value || '']);\n        transforms.push(transform => [transform, transform === '']);\n      } else if (domTransforms.test(key)) {\n        delete style[key];\n        if (is.und(value)) return;\n        const unit = pxTransforms.test(key) ? 'px' : degTransforms.test(key) ? 'deg' : '';\n        inputs.push(toArray(value));\n        transforms.push(key === 'rotate3d' ? ([x, y, z, deg]) => [`rotate3d(${x},${y},${z},${addUnit(deg, unit)})`, isValueIdentity(deg, 0)] : input => [`${key}(${input.map(v => addUnit(v, unit)).join(',')})`, isValueIdentity(input, key.startsWith('scale') ? 1 : 0)]);\n      }\n    });\n\n    if (inputs.length) {\n      style.transform = new FluidTransform(inputs, transforms);\n    }\n\n    super(style);\n  }\n\n}\n\nclass FluidTransform extends FluidValue {\n  constructor(inputs, transforms) {\n    super();\n    this._value = null;\n    this.inputs = inputs;\n    this.transforms = transforms;\n  }\n\n  get() {\n    return this._value || (this._value = this._get());\n  }\n\n  _get() {\n    let transform = '';\n    let identity = true;\n    each(this.inputs, (input, i) => {\n      const arg1 = getFluidValue(input[0]);\n      const [t, id] = this.transforms[i](is.arr(arg1) ? arg1 : input.map(getFluidValue));\n      transform += ' ' + t;\n      identity = identity && id;\n    });\n    return identity ? 'none' : transform;\n  }\n\n  observerAdded(count) {\n    if (count == 1) each(this.inputs, input => each(input, value => hasFluidValue(value) && addFluidObserver(value, this)));\n  }\n\n  observerRemoved(count) {\n    if (count == 0) each(this.inputs, input => each(input, value => hasFluidValue(value) && removeFluidObserver(value, this)));\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      this._value = null;\n    }\n\n    callFluidObservers(this, event);\n  }\n\n}\n\nconst primitives = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', 'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\n\nconst _excluded = [\"scrollTop\", \"scrollLeft\"];\nGlobals.assign({\n  batchedUpdates: unstable_batchedUpdates,\n  createStringInterpolator,\n  colors\n});\nconst host = createHost(primitives, {\n  applyAnimatedValues,\n  createAnimatedStyle: style => new AnimatedStyle(style),\n  getComponentProps: _ref => {\n    let props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n    return props;\n  }\n});\nconst animated = host.animated;\n\nexport { animated as a, animated };\n","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gatan Renaudeau 2014 - 2015  MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\nfunction B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\nfunction C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\nfunction binarySubdivide (aX, aA, aB, mX1, mX2) {\n  var currentX, currentT, i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n   var currentSlope = getSlope(aGuessT, mX1, mX2);\n   if (currentSlope === 0.0) {\n     return aGuessT;\n   }\n   var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n   aGuessT -= currentX / currentSlope;\n }\n return aGuessT;\n}\n\nfunction LinearEasing (x) {\n  return x;\n}\n\nmodule.exports = function bezier (mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX (aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing (x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","var e=g(require(\"tiny-invariant\")),t=require(\"react\"),n=t.Children,r=t.cloneElement,o=t.Component,i=t.createElement,l=t.createRef,a=g(require(\"classnames\")),c=require(\"sortablejs\"),s=g(c);exports.Sortable=s;var u=c.Direction;exports.Direction=u;var f=c.DOMRect;exports.DOMRect=f;var p=c.GroupOptions;exports.GroupOptions=p;var d=c.MoveEvent;exports.MoveEvent=d;var b=c.Options;exports.Options=b;var y=c.PullResult;exports.PullResult=y;var v=c.PutResult;exports.PutResult=v;var h=c.SortableEvent;exports.SortableEvent=h;var m=c.SortableOptions;exports.SortableOptions=m;var O=c.Utils;function g(e){return e&&e.__esModule?e.default:e}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function k(e){e.forEach((function(e){return E(e.element)}))}function C(e){e.forEach((function(e){var t,n,r,o;t=e.parentElement,n=e.element,r=e.oldIndex,o=t.children[r]||null,t.insertBefore(n,o)}))}function D(e,t){var n=M(e),r={parentElement:e.from},o=[];switch(n){case\"normal\":o=[{element:e.item,newIndex:e.newIndex,oldIndex:e.oldIndex,parentElement:e.from}];break;case\"swap\":o=[I({element:e.item,oldIndex:e.oldIndex,newIndex:e.newIndex},r),I({element:e.swapItem,oldIndex:e.newIndex,newIndex:e.oldIndex},r)];break;case\"multidrag\":o=e.oldIndicies.map((function(t,n){return I({element:t.multiDragElement,oldIndex:t.index,newIndex:e.newIndicies[n].index},r)}))}return function(e,t){return e.map((function(e){return I(I({},e),{},{item:t[e.oldIndex]})})).sort((function(e,t){return e.oldIndex-t.oldIndex}))}(o,t)}function A(e,t){var n=S(t);return e.concat().reverse().forEach((function(e){return n.splice(e.oldIndex,1)})),n}function R(e,t,n,r){var o=S(t);return e.forEach((function(e){var t=r&&n&&r(e.item,n);o.splice(e.newIndex,0,t||e.item)})),o}function M(e){return e.oldIndicies&&e.oldIndicies.length>0?\"multidrag\":e.swapItem?\"swap\":\"normal\"}function U(e){return(U=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function L(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){return!t||\"object\"!==U(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}exports.Utils=O;var J={dragging:null},z=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(d,o);var c,u,f,p=F(d);function d(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,d),(n=p.call(this,t)).ref=l();var r=t.list.map((function(e){return N(N({},e),{},{chosen:!1,selected:!1})}));return t.setList(r,n.sortable,J),e(!t.plugins,'\\nPlugins prop is no longer supported.\\nInstead, mount it with \"Sortable.mount(new MultiDrag())\"\\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\\n      '),n}return c=d,(u=[{key:\"componentDidMount\",value:function(){if(null!==this.ref.current){var e=this.makeOptions();s.create(this.ref.current,e)}}},{key:\"render\",value:function(){var e=this.props,t=e.tag,n={style:e.style,className:e.className,id:e.id};return i(t&&null!==t?t:\"div\",N({ref:this.ref},n),this.getChildren())}},{key:\"getChildren\",value:function(){var e=this.props,t=e.children,o=e.dataIdAttr,i=e.selectedClass,l=void 0===i?\"sortable-selected\":i,c=e.chosenClass,s=void 0===c?\"sortable-chosen\":c,u=(e.dragClass,e.fallbackClass,e.ghostClass,e.swapClass,e.filter),f=void 0===u?\"sortable-filter\":u,p=e.list;if(!t||null==t)return null;var d=o||\"data-id\";return n.map(t,(function(e,t){var n,o,i=p[t],c=e.props.className,u=\"string\"==typeof f&&B({},f.replace(\".\",\"\"),!!i.filtered),b=a(c,N((B(n={},l,i.selected),B(n,s,i.chosen),n),u));return r(e,(B(o={},d,e.key),B(o,\"className\",b),o))}))}},{key:\"makeOptions\",value:function(){var e,t=this,n=((e=this.props).list,e.setList,e.children,e.tag,e.style,e.className,e.clone,e.onAdd,e.onChange,e.onChoose,e.onClone,e.onEnd,e.onFilter,e.onRemove,e.onSort,e.onStart,e.onUnchoose,e.onUpdate,e.onMove,e.onSpill,e.onSelect,e.onDeselect,w(e,[\"list\",\"setList\",\"children\",\"tag\",\"style\",\"className\",\"clone\",\"onAdd\",\"onChange\",\"onChoose\",\"onClone\",\"onEnd\",\"onFilter\",\"onRemove\",\"onSort\",\"onStart\",\"onUnchoose\",\"onUpdate\",\"onMove\",\"onSpill\",\"onSelect\",\"onDeselect\"]));return[\"onAdd\",\"onChoose\",\"onDeselect\",\"onEnd\",\"onRemove\",\"onSelect\",\"onSpill\",\"onStart\",\"onUnchoose\",\"onUpdate\"].forEach((function(e){return n[e]=t.prepareOnHandlerPropAndDOM(e)})),[\"onChange\",\"onClone\",\"onFilter\",\"onSort\"].forEach((function(e){return n[e]=t.prepareOnHandlerProp(e)})),N(N({},n),{},{onMove:function(e,n){var r=t.props.onMove,o=e.willInsertAfter||-1;if(!r)return o;var i=r(e,n,t.sortable,J);return void 0!==i&&i}})}},{key:\"prepareOnHandlerPropAndDOM\",value:function(e){var t=this;return function(n){t.callOnHandlerProp(n,e),t[e](n)}}},{key:\"prepareOnHandlerProp\",value:function(e){var t=this;return function(n){t.callOnHandlerProp(n,e)}}},{key:\"callOnHandlerProp\",value:function(e,t){var n=this.props[t];n&&n(e,this.sortable,J)}},{key:\"onAdd\",value:function(e){var t=this.props,n=t.list,r=t.setList,o=t.clone,i=D(e,L(J.dragging.props.list));k(i),r(R(i,n,e,o).map((function(e){return N(N({},e),{},{selected:!1})})),this.sortable,J)}},{key:\"onRemove\",value:function(t){var n=this,r=this.props,o=r.list,i=r.setList,l=M(t),a=D(t,o);C(a);var c=L(o);if(\"clone\"!==t.pullMode)c=A(a,c);else{var s=a;switch(l){case\"multidrag\":s=a.map((function(e,n){return N(N({},e),{},{element:t.clones[n]})}));break;case\"normal\":s=a.map((function(e){return N(N({},e),{},{element:t.clone})}));break;case\"swap\":default:e(!0,'mode \"'.concat(l,'\" cannot clone. Please remove \"props.clone\" from <ReactSortable/> when using the \"').concat(l,'\" plugin'))}k(s),a.forEach((function(e){var r=e.oldIndex,o=n.props.clone(e.item,t);c.splice(r,1,o)}))}i(c=c.map((function(e){return N(N({},e),{},{selected:!1})})),this.sortable,J)}},{key:\"onUpdate\",value:function(e){var t=this.props,n=t.list,r=t.setList,o=D(e,n);return k(o),C(o),r(function(e,t){return R(e,A(e,t))}(o,n),this.sortable,J)}},{key:\"onStart\",value:function(){J.dragging=this}},{key:\"onEnd\",value:function(){J.dragging=null}},{key:\"onChoose\",value:function(e){var t=this.props,n=t.list;(0,t.setList)(n.map((function(t,n){return n===e.oldIndex?N(N({},t),{},{chosen:!0}):t})),this.sortable,J)}},{key:\"onUnchoose\",value:function(e){var t=this.props,n=t.list;(0,t.setList)(n.map((function(t,n){return n===e.oldIndex?N(N({},t),{},{chosen:!1}):t})),this.sortable,J)}},{key:\"onSpill\",value:function(e){var t=this.props,n=t.removeOnSpill,r=t.revertOnSpill;n&&!r&&E(e.item)}},{key:\"onSelect\",value:function(e){var t=this.props,n=t.list,r=t.setList,o=n.map((function(e){return N(N({},e),{},{selected:!1})}));e.newIndicies.forEach((function(t){var n=t.index;if(-1===n)return console.log('\"'.concat(e.type,'\" had indice of \"').concat(t.index,\"\\\", which is probably -1 and doesn't usually happen here.\")),void console.log(e);o[n].selected=!0})),r(o,this.sortable,J)}},{key:\"onDeselect\",value:function(e){var t=this.props,n=t.list,r=t.setList,o=n.map((function(e){return N(N({},e),{},{selected:!1})}));e.newIndicies.forEach((function(e){var t=e.index;-1!==t&&(o[t].selected=!0)})),r(o,this.sortable,J)}},{key:\"sortable\",get:function(){var e=this.ref.current;if(null===e)return null;var t=Object.keys(e).find((function(e){return e.includes(\"Sortable\")}));return t?e[t]:null}}])&&q(c.prototype,u),f&&q(c,f),d}();exports.ReactSortable=z,B(z,\"defaultProps\",{clone:function(e){return e}});\n//# sourceMappingURL=index.js.map\n","import { createElement, PureComponent } from 'react';\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1)Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2)Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\nfunction createDetectElementResize(nonce) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window;\n  if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = global;\n  }\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n\n  if (!attachEvent) {\n    var requestFrame = function () {\n      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n      return function (fn) {\n        return raf(fn);\n      };\n    }();\n\n    var cancelFrame = function () {\n      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n      return function (id) {\n        return cancel(id);\n      };\n    }();\n\n    var resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    var checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n    };\n\n    var scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function () {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function (fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false,\n        keyframeprefix = '',\n        animationstartevent = 'animationstart',\n        domPrefixes = 'Webkit Moz O ms'.split(' '),\n        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n        pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    var animationName = 'resizeanim';\n    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = _window.getComputedStyle(element);\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        var expandTrigger = doc.createElement('div');\n        expandTrigger.className = 'expand-trigger';\n        expandTrigger.appendChild(doc.createElement('div'));\n        var contractTrigger = doc.createElement('div');\n        contractTrigger.className = 'contract-trigger';\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar AutoSizer = function (_React$PureComponent) {\n  inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      // Avoid rendering children before the initial measurements have been collected.\n      // At best this would just be wasting cycles.\n      var bailoutOnChildren = false;\n\n      if (!disableHeight) {\n        if (height === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        if (width === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      return createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: _extends({}, outerStyle, style) },\n        !bailoutOnChildren && children(childParams)\n      );\n    }\n  }]);\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\n\nexport default AutoSizer;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport memoizeOne from 'memoize-one';\nimport { createElement, PureComponent } from 'react';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount =\n    /*#__PURE__*/\n    new WeakSet();\n    devWarningsOverscanRowsColumnsCount =\n    /*#__PURE__*/\n    new WeakSet();\n    devWarningsTagName =\n    /*#__PURE__*/\n    new WeakSet();\n  }\n}\n\nfunction createGridComponent(_ref2) {\n  var _class, _temp;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_PureComponent) {\n    _inheritsLoose(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_assertThisInitialized(_this)));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: _assertThisInitialized(_assertThisInitialized(_this)),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _offset = getColumnOffset(_this.props, columnIndex, _this._instanceProps);\n\n          var isRtl = direction === 'rtl';\n          itemStyleCache[key] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : _offset,\n            right: isRtl ? _offset : undefined,\n            top: getRowOffset(_this.props, rowIndex, _this._instanceProps),\n            height: getRowHeight(_this.props, rowIndex, _this._instanceProps),\n            width: getColumnWidth(_this.props, columnIndex, _this._instanceProps)\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push(createElement(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    }; // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _temp;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn('The overscanCount prop has been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (typeof overscanColumnsCount === 'number' || typeof overscanRowsCount === 'number') {\n      if (devWarningsOverscanRowsColumnsCount && !devWarningsOverscanRowsColumnsCount.has(instance)) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn('The overscanColumnsCount and overscanRowsCount props have been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    if (typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Grids must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    }\n\n    if (typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Grids must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid =\n/*#__PURE__*/\ncreateGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'function') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      } else if (typeof rowHeight !== 'function') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection =\n    /*#__PURE__*/\n    new WeakSet();\n    devWarningsTagName$1 =\n    /*#__PURE__*/\n    new WeakSet();\n  }\n}\n\nfunction createListComponent(_ref) {\n  var _class, _temp;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_PureComponent) {\n    _inheritsLoose(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_assertThisInitialized(_this)));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: _assertThisInitialized(_assertThisInitialized(_this)),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          var isRtl = direction === 'rtl';\n          var offsetHorizontal = isHorizontal ? _offset : 0;\n          itemStyleCache[index] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : offsetHorizontal,\n            right: isRtl ? offsetHorizontal : undefined,\n            top: !isHorizontal ? _offset : 0,\n            height: !isHorizontal ? size : '100%',\n            width: isHorizontal ? size : '100%'\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollLeft ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var itemCount = this.props.itemCount;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1));\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props2 = this.props,\n          direction = _this$props2.direction,\n          initialScrollOffset = _this$props2.initialScrollOffset,\n          layout = _this$props2.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          layout = _this$props3.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemCount = _this$props4.itemCount,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey$1 : _this$props4$itemKey,\n          layout = _this$props4.layout,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push(createElement(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    }; // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props5 = this.props,\n          itemCount = _this$props5.itemCount,\n          overscanCount = _this$props5.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _temp;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName$1 && !devWarningsTagName$1.has(instance)) {\n        devWarningsTagName$1.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    } // TODO Deprecate direction \"horizontal\"\n\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn('The direction prop should be either \"ltr\" (default) or \"rtl\". ' + 'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.');\n        }\n\n        break;\n\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"layout\" prop has been specified. ' + 'Value should be either \"horizontal\" or \"vertical\". ' + (\"\\\"\" + layout + \"\\\" was specified.\"));\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Horizontal lists must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Vertical lists must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList =\n/*#__PURE__*/\ncreateListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeGrid =\n/*#__PURE__*/\ncreateGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'number') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeList =\n/*#__PURE__*/\ncreateListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'number') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = _objectWithoutPropertiesLoose(prevProps, [\"style\"]);\n\n  var nextStyle = nextProps.style,\n      nextRest = _objectWithoutPropertiesLoose(nextProps, [\"style\"]);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\nexport { VariableSizeGrid, VariableSizeList, FixedSizeGrid, FixedSizeList, areEqual, shouldComponentUpdate };\n//# sourceMappingURL=index.esm.js.map\n","/**!\n * Sortable 1.13.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.13.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !!\n    /*@__PURE__*/\n    navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    throw new Error(prefix + \": \" + (message || ''));\n}\n\nexport default invariant;\n","/* Web Font Loader v1.6.28 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.o=b||a;this.c=this.o.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&(\"style\"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(\" \").replace(/\\s+/g,\" \").replace(/^\\s+|\\s+$/,\"\")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction ea(a){return a.o.location.hostname||a.a.location.hostname}function z(a,b,c){function d(){m&&e&&f&&(m(g),m=null)}b=t(a,\"link\",{rel:\"stylesheet\",href:b,media:\"all\"});var e=!1,f=!0,g=null,m=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error(\"Stylesheet failed to load\");d()}):setTimeout(function(){e=!0;d()},0);u(a,\"head\",b)}\nfunction A(a,b,c,d){var e=a.c.getElementsByTagName(\"head\")[0];if(e){var f=t(a,\"script\",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&\"loaded\"!=this.readyState&&\"complete\"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,\"HEAD\"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error(\"Script load timeout\")))},d||5E3);return f}return null};function B(){this.a=0;this.c=null}function C(a){a.a++;return function(){a.a--;D(a)}}function E(a,b){a.c=b;D(a)}function D(a){0==a.a&&a.c&&(a.c(),a.c=null)};function F(a){this.a=a||\"-\"}F.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,\"\").toLowerCase());return b.join(this.a)};function G(a,b){this.c=a;this.f=4;this.a=\"n\";var c=(b||\"n4\").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return H(a)+\" \"+(a.f+\"00\")+\" 300px \"+I(a.c)}function I(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['\"]/g,\"\");-1!=d.indexOf(\" \")||/^\\d/.test(d)?b.push(\"'\"+d+\"'\"):b.push(d)}return b.join(\",\")}function J(a){return a.a+a.f}function H(a){var b=\"normal\";\"o\"===a.a?b=\"oblique\":\"i\"===a.a&&(b=\"italic\");return b}\nfunction ga(a){var b=4,c=\"n\",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.o.document.documentElement;this.h=b;this.a=new F(\"-\");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c(\"wf\",\"loading\")]);K(a,\"loading\")}function L(a){if(a.g){var b=y(a.f,a.a.c(\"wf\",\"active\")),c=[],d=[a.a.c(\"wf\",\"loading\")];b||c.push(a.a.c(\"wf\",\"inactive\"));w(a.f,c,d)}K(a,\"inactive\")}function K(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,J(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function M(a,b){this.c=a;this.f=b;this.a=t(this.c,\"span\",{\"aria-hidden\":\"true\"},this.f)}function N(a){u(a.c,\"body\",a.a)}function O(a){return\"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:\"+I(a.c)+\";\"+(\"font-style:\"+H(a)+\";font-weight:\"+(a.f+\"00\")+\";\")};function P(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}P.prototype.start=function(){var a=this.c.o.document,b=this,c=q(),d=new Promise(function(d,e){function f(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(f,25)},function(){e()})}f()}),e=null,f=new Promise(function(a,d){e=setTimeout(d,b.f)});Promise.race([f,d]).then(function(){e&&(clearTimeout(e),e=null);b.g(b.a)},function(){b.j(b.a)})};function Q(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||\"BESbswy\";this.f={};this.w=e||3E3;this.u=f||null;this.m=this.j=this.h=this.g=null;this.g=new M(this.c,this.s);this.h=new M(this.c,this.s);this.j=new M(this.c,this.s);this.m=new M(this.c,this.s);a=new G(this.a.c+\",serif\",J(this.a));a=O(a);this.g.a.style.cssText=a;a=new G(this.a.c+\",sans-serif\",J(this.a));a=O(a);this.h.a.style.cssText=a;a=new G(\"serif\",J(this.a));a=O(a);this.j.a.style.cssText=a;a=new G(\"sans-serif\",J(this.a));a=\nO(a);this.m.a.style.cssText=a;N(this.g);N(this.h);N(this.j);N(this.m)}var R={D:\"serif\",C:\"sans-serif\"},S=null;function T(){if(null===S){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);S=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return S}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f[\"sans-serif\"]=this.m.a.offsetWidth;this.A=q();U(this)};\nfunction la(a,b,c){for(var d in R)if(R.hasOwnProperty(d)&&b===a.f[R[d]]&&c===a.f[R[d]])return!0;return!1}function U(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f[\"sans-serif\"])||(d=T()&&la(a,b,c));d?q()-a.A>=a.w?T()&&la(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):ma(a):V(a,a.v)}function ma(a){setTimeout(p(function(){U(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.m.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.m=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c(\"wf\",a.c,J(a).toString(),\"active\")],[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\"),b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\")]);K(b,\"fontactive\",a);this.m=!0;na(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c(\"wf\",a.c,J(a).toString(),\"active\")),d=[],e=[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\")];c||d.push(b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\"));w(b.f,d,e)}K(b,\"fontinactive\",a);na(this)};function na(a){0==--a.f&&a.j&&(a.m?(a=a.a,a.g&&w(a.f,[a.a.c(\"wf\",\"active\")],[a.a.c(\"wf\",\"loading\"),a.a.c(\"wf\",\"inactive\")]),K(a,\"active\")):L(a.a))};function oa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}oa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;pa(this,new ha(this.c,a),a)};\nfunction qa(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,m=d||null||{};if(0===c.length&&f)L(b.a);else{b.f+=c.length;f&&(b.j=f);var h,l=[];for(h=0;h<c.length;h++){var k=c[h],n=m[k.c],r=b.a,x=k;r.g&&w(r.f,[r.a.c(\"wf\",x.c,J(x).toString(),\"loading\")]);K(r,\"fontloading\",x);r=null;if(null===X)if(window.FontFace){var x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent),xa=/OS X.*Version\\/10\\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);\nX=x?42<parseInt(x[1],10):xa?!1:!0}else X=!1;X?r=new P(p(b.g,b),p(b.h,b),b.c,k,b.s,n):r=new Q(p(b.g,b),p(b.h,b),b.c,k,b.s,a,n);l.push(r)}for(h=0;h<l.length;h++)l[h].start()}},0)}function pa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){qa(a,f,b,d,c)})};function ra(a,b){this.c=a;this.a=b}\nra.prototype.load=function(a){function b(){if(f[\"__mti_fntLst\"+d]){var c=f[\"__mti_fntLst\"+d](),e=[],h;if(c)for(var l=0;l<c.length;l++){var k=c[l].fontfamily;void 0!=c[l].fontStyle&&void 0!=c[l].fontWeight?(h=c[l].fontStyle+c[l].fontWeight,e.push(new G(k,h))):e.push(new G(k))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.o;A(this.c,(c.a.api||\"https://fast.fonts.net/jsapi\")+\"/\"+d+\".js\"+(e?\"?v=\"+e:\"\"),function(e){e?a([]):(f[\"__MonotypeConfiguration__\"+\nd]=function(){return c.a},b())}).id=\"__MonotypeAPIScript__\"+d}else a([])};function sa(a,b){this.c=a;this.a=b}sa.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new B;b=0;for(c=d.length;b<c;b++)z(this.c,d[b],C(g));var m=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(\":\"),d[1])for(var h=d[1].split(\",\"),l=0;l<h.length;l+=1)m.push(new G(d[0],h[l]));else m.push(new G(d[0]));E(g,function(){a(m,f)})};function ta(a,b){a?this.c=a:this.c=ua;this.a=[];this.f=[];this.g=b||\"\"}var ua=\"https://fonts.googleapis.com/css\";function va(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(\":\");3==e.length&&a.f.push(e.pop());var f=\"\";2==e.length&&\"\"!=e[1]&&(f=\":\");a.a.push(e.join(f))}}\nfunction wa(a){if(0==a.a.length)throw Error(\"No fonts to load!\");if(-1!=a.c.indexOf(\"kit=\"))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,\"+\"));b=a.c+\"?family=\"+c.join(\"%7C\");0<a.f.length&&(b+=\"&subset=\"+a.f.join(\",\"));0<a.g.length&&(b+=\"&text=\"+encodeURIComponent(a.g));return b};function ya(a){this.f=a;this.a=[];this.c={}}\nvar za={latin:\"BESbswy\",\"latin-ext\":\"\\u00e7\\u00f6\\u00fc\\u011f\\u015f\",cyrillic:\"\\u0439\\u044f\\u0416\",greek:\"\\u03b1\\u03b2\\u03a3\",khmer:\"\\u1780\\u1781\\u1782\",Hanuman:\"\\u1780\\u1781\\u1782\"},Aa={thin:\"1\",extralight:\"2\",\"extra-light\":\"2\",ultralight:\"2\",\"ultra-light\":\"2\",light:\"3\",regular:\"4\",book:\"4\",medium:\"5\",\"semi-bold\":\"6\",semibold:\"6\",\"demi-bold\":\"6\",demibold:\"6\",bold:\"7\",\"extra-bold\":\"8\",extrabold:\"8\",\"ultra-bold\":\"8\",ultrabold:\"8\",black:\"9\",heavy:\"9\",l:\"3\",r:\"4\",b:\"7\"},Ba={i:\"i\",italic:\"i\",n:\"n\",normal:\"n\"},\nCa=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Da(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(\":\"),e=d[0].replace(/\\+/g,\" \"),f=[\"n4\"];if(2<=d.length){var g;var m=d[1];g=[];if(m)for(var m=m.split(\",\"),h=m.length,l=0;l<h;l++){var k;k=m[l];if(k.match(/^[\\w-]+$/)){var n=Ca.exec(k.toLowerCase());if(null==n)k=\"\";else{k=n[2];k=null==k||\"\"==k?\"n\":Ba[k];n=n[1];if(null==n||\"\"==n)n=\"4\";else var r=Aa[n],n=r?r:isNaN(n)?\"4\":n.substr(0,1);k=[k,n].join(\"\")}}else k=\"\";k&&g.push(k)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(\",\"):\ng,0<d.length&&(d=za[d[0]])&&(a.c[e]=d))}a.c[e]||(d=za[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new G(e,f[d]))}};function Ea(a,b){this.c=a;this.a=b}var Fa={Arimo:!0,Cousine:!0,Tinos:!0};Ea.prototype.load=function(a){var b=new B,c=this.c,d=new ta(this.a.api,this.a.text),e=this.a.families;va(d,e);var f=new ya(e);Da(f);z(c,wa(d),C(b));E(b,function(){a(f.a,f.c,Fa)})};function Ga(a,b){this.c=a;this.a=b}Ga.prototype.load=function(a){var b=this.a.id,c=this.c.o;b?A(this.c,(this.a.api||\"https://use.typekit.net\")+\"/\"+b+\".js\",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],m=b[f+1],h=0;h<m.length;h++)e.push(new G(g,m[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}a(e)}},2E3):a([])};function Ha(a,b){this.c=a;this.f=b;this.a=[]}Ha.prototype.load=function(a){var b=this.f.id,c=this.c.o,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,m=c.fonts.length;g<m;++g){var h=c.fonts[g];d.a.push(new G(h.name,ga(\"font-weight:\"+h.weight+\";font-style:\"+h.style)))}a(d.a)},A(this.c,(this.f.api||\"https://f.fontdeck.com/s/css/js/\")+ea(this.c)+\"/\"+b+\".js\",function(b){b&&a([])})):a([])};var Y=new oa(window);Y.a.c.custom=function(a,b){return new sa(b,a)};Y.a.c.fontdeck=function(a,b){return new Ha(b,a)};Y.a.c.monotype=function(a,b){return new ra(b,a)};Y.a.c.typekit=function(a,b){return new Ga(b,a)};Y.a.c.google=function(a,b){return new Ea(b,a)};var Z={load:p(Y.load,Y)};\"function\"===typeof define&&define.amd?define(function(){return Z}):\"undefined\"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import PropTypes from 'prop-types';\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { Dashicon, Button, Tooltip, ColorIndicator, FocalPointPicker, TabPanel, __experimentalGradientPicker, SelectControl, ColorPalette, ColorPicker, ButtonGroup } from '@wordpress/components';\nimport { MediaUpload } from '@wordpress/media-utils';\nimport classnames from 'classnames'\n\n\nclass KemetColorPickerControl extends Component {\n\n    constructor(props) {\n        super(...arguments);\n        this.onChangeComplete = this.onChangeComplete.bind(this);\n        this.onPaletteChangeComplete = this.onPaletteChangeComplete.bind(this);\n        this.onChangeGradientComplete = this.onChangeGradientComplete.bind(this);\n        this.renderImageSettings = this.renderImageSettings.bind(this);\n        this.onRemoveImage = this.onRemoveImage.bind(this);\n        this.onSelectImage = this.onSelectImage.bind(this);\n        this.open = this.open.bind(this);\n        this.toggleClose = this.toggleClose.bind(this)\n\n        this.state = {\n            isVisible: false,\n            refresh: false,\n            color: this.props.color,\n            text: this.props.text,\n            modalCanClose: true,\n            backgroundType: this.props.backgroundType,\n            supportGradient: (undefined === __experimentalGradientPicker ? false : true),\n        };\n    }\n\n\n    onResetRefresh() {\n        if (this.state.refresh === true) {\n            this.setState({ refresh: false });\n        } else {\n            this.setState({ refresh: true });\n        }\n    }\n\n\n\n    render() {\n\n        const {\n            refresh,\n            isVisible,\n            supportGradient,\n            backgroundType,\n        } = this.state\n\n        const {\n            allowGradient,\n            allowImage\n        } = this.props\n        const allGradients = [\n            'linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)',\n            'linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)',\n            'linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)',\n            'linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)',\n            'linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)',\n            'linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%)',\n            'linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%)',\n            'linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%)',\n            'linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)',\n            'linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%)',\n            'linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)',\n            'linear-gradient(to right, #ffecd2 0%, #fcb69f 100%)',\n            'linear-gradient(to right, #ff8177 0%, #ff867a 0%, #ff8c7f 21%, #f99185 52%, #cf556c 78%, #b12a5b 100%)',\n            'linear-gradient(to right, #fa709a 0%, #fee140 100%)',\n            'linear-gradient(to top, #30cfd0 0%, #330867 100%)',\n            'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n            'linear-gradient(15deg, #13547a 0%, #80d0c7 100%)',\n            'linear-gradient(to top, #ff0844 0%, #ffb199 100%)',\n            'linear-gradient(to top, #3b41c5 0%, #a981bb 49%, #ffc8a9 100%)',\n            'linear-gradient(to top, #cc208e 0%, #6713d2 100%)',\n            'linear-gradient(to right, #0acffe 0%, #495aff 100%)',\n            'linear-gradient(-225deg, #FF057C 0%, #8D0B93 50%, #321575 100%)',\n            'linear-gradient(-225deg, #231557 0%, #44107A 29%, #FF1361 67%, #FFF800 100%)',\n            'radial-gradient(circle 248px at center, #16d9e3 0%, #30c7ec 47%, #46aef7 100%)',\n            'linear-gradient(180deg, #2af598 0%, #009efd 100%)',\n            'linear-gradient(to right, #6a11cb 0%, #2575fc 100%)',\n            'linear-gradient(to right, #f78ca0 0%, #f9748f 19%, #fd868c 60%, #fe9a8b 100%)',\n            'linear-gradient(to top, #3f51b1 0%, #5a55ae 13%, #7b5fac 25%, #8f6aae 38%, #a86aa4 50%, #cc6b8e 62%, #f18271 75%, #f3a469 87%, #f7c978 100%)',\n            'linear-gradient(to top, #7028e4 0%, #e5b2ca 100%)',\n            'linear-gradient(to top, #0c3483 0%, #a2b6df 100%, #6b8cce 100%, #a2b6df 100%)',\n            'linear-gradient(to right, #868f96 0%, #596164 100%)',\n            'linear-gradient(to top, #c79081 0%, #dfa579 100%)',\n            'linear-gradient(to top, #09203f 0%, #537895 100%)', 'linear-gradient(-60deg, #ff5858 0%, #f09819 100%)',\n            'linear-gradient(to top, #0ba360 0%, #3cba92 100%)',\n            'linear-gradient(-225deg, #B7F8DB 0%, #50A7C2 100%)',\n            'linear-gradient(-225deg, #AC32E4 0%, #7918F2 48%, #4801FF 100%)',\n            'linear-gradient(-225deg, #473B7B 0%, #3584A7 51%, #30D2BE 100%)',\n            'linear-gradient(-225deg, #FFE29F 0%, #FFA99F 48%, #FF719A 100%)',\n            'linear-gradient(to top, #e14fad 0%, #f9d423 100%)',\n            'linear-gradient(to right, #d7d2cc 0%, #304352 100%)',\n            'linear-gradient(-20deg, #616161 0%, #9bc5c3 100%)',\n            'linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%)',\n            'linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)',\n            'linear-gradient(to top, #c1dfc4 0%, #deecdd 100%)',\n            'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)',\n            'linear-gradient(135deg, #fdfcfb 0%, #e2d1c3 100%)',\n            'linear-gradient(-20deg, #e9defa 0%, #fbfcdb 100%)',\n            'linear-gradient(60deg, #abecd6 0%, #fbed96 100%)',\n            'linear-gradient(to top, #d5d4d0 0%, #d5d4d0 1%, #eeeeec 31%, #efeeec 75%, #e9e9e7 100%)',\n            'linear-gradient(45deg, #93a5cf 0%, #e4efe9 100%)',\n            'linear-gradient(to top, #d299c2 0%, #fef9d7 100%)',\n            'linear-gradient(to top, #e6e9f0 0%, #eef1f5 100%)',\n            'linear-gradient(to top, #dad4ec 0%, #dad4ec 1%, #f3e7e9 100%)',\n            'linear-gradient(to top, #dfe9f3 0%, white 100%)',\n            'linear-gradient(-225deg, #E3FDF5 0%, #FFE6FA 100%)',\n        ]\n        const toggleVisible = () => {\n            if (refresh === true) {\n                this.setState({ refresh: false });\n            } else {\n                this.setState({ refresh: true });\n            }\n            this.setState({ isVisible: true });\n        };\n\n\n\n        const showingGradient = (allowGradient && supportGradient ? true : false);\n\n        let tabs = [\n            {\n                name: 'color',\n                title: __('Color'),\n                className: 'kemet-color-background',\n            },\n\n        ];\n\n        if (showingGradient) {\n\n            let gradientTab = {\n                name: 'gradient',\n                title: __('Gradient', 'kemet'),\n                className: 'kemet-image-background',\n            };\n\n            tabs.push(gradientTab)\n        }\n\n        if (allowImage) {\n\n            let imageTab = {\n                name: 'image',\n                title: __('Image', 'kemet'),\n                className: 'kemet-image-background',\n            };\n\n            tabs.push(imageTab)\n        }\n\n        const defaultColorPalette = [\n            '#000000',\n            '#ffffff',\n            '#dd3333',\n            '#dd9933',\n            '#eeee22',\n            '#81d742',\n            '#1e73be',\n            \"#e2e7ed\"\n        ];\n\n        const onSelect = (tabName) => {\n            this.props.onSelect(tabName)\n        }\n\n        const RenderTopSection = () => {\n            return (\n                <div className={`kmt-color-picker-top`}>\n                    <ul className=\"kmt-color-picker-skins\">\n                        {defaultColorPalette.map((color, index) => (\n                            <li\n                                key={`color-${index}`}\n                                style={{\n                                    background: color,\n                                }}\n                                className={classnames({\n                                    active:\n                                        this.props.color === color,\n                                })}\n                                onClick={() => this.onPaletteChangeComplete(color)}>\n                                <div className=\"kmt-tooltip-top\">\n                                    {`Color ${index + 1}`}\n                                </div>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            )\n        }\n        return (\n            <>\n                <div className=\"color-button-wrap\">\n                    <Button className={isVisible ? 'kemet-color-icon-indicate open' : 'kemet-color-icon-indicate'} data-background-type={this.props.backgroundType} onClick={() => { isVisible ? this.toggleClose() : toggleVisible() }} style={{\n                        backgroundColor: this.props.color,\n                        '--background-position': this.props.backgroundPosition ? ` ${Math.round(\n                            parseFloat(this.props.backgroundPosition.x) * 100\n                        )}% ${Math.round(\n                            parseFloat(this.props.backgroundPosition.y) * 100\n                        )}%` : null,\n                        '--background-image':\n                            this.props.backgroundType === 'gradient'\n                                ? this.props.gradient\n                                : this.props.backgroundImage\n                                    ? `url(${this.props.backgroundImage})`\n                                    : 'none',\n\n\n                    }}>\n                        <i className=\"kmt-tooltip-top\">\n                            {this.state.text}\n                        </i>\n                    </Button>\n\n                    {isVisible ? (\n                        <div className=\"kemet-color-picker-wrap\">\n                            <>\n\n                                <div className=\"kemet-popover-color\" onClose={this.toggleClose}>\n                                    {\n                                        1 < tabs.length &&\n                                        <>\n\n                                            <TabPanel className=\"kemet-popover-tabs kemet-background-tabs\"\n                                                activeClass=\"active-tab\"\n                                                initialTabName={this.props.backgroundType}\n                                                onSelect={onSelect}\n                                                tabs={tabs}>\n                                                {\n                                                    (tab) => {\n                                                        let tabout;\n\n                                                        if (tab.name) {\n                                                            if ('gradient' === tab.name) {\n                                                                tabout = (\n                                                                    <>\n                                                                        <__experimentalGradientPicker\n                                                                            className=\"kmt-gradient-color-picker\"\n                                                                            value={this.props.gradient && this.props.backgroundType === \"gradient\" ? this.props.gradient : ''}\n                                                                            onChange={(gradient) => this.onChangeGradientComplete(gradient)}\n                                                                        />\n                                                                        <ul className={'kmt-gradient-swatches'}>\n                                                                            {allGradients.map((gradient, slug) => (\n                                                                                <li\n                                                                                    onClick={() => this.onChangeGradientComplete(gradient)}\n                                                                                    style={{\n                                                                                        '--background-image': gradient,\n                                                                                    }}\n                                                                                    key={slug}></li>\n                                                                            ))}\n                                                                        </ul>\n                                                                    </>\n                                                                );\n                                                            } if ('image' === tab.name) {\n                                                                tabout = (\n                                                                    this.renderImageSettings()\n                                                                );\n                                                            } else if ('color' === tab.name) {\n                                                                tabout = (\n                                                                    <>\n                                                                        {refresh && (\n                                                                            <>\n\n                                                                                {RenderTopSection()}\n                                                                                <ColorPicker\n                                                                                    color={this.props.color}\n                                                                                    onChangeComplete={(color) => this.onChangeComplete(color)}\n                                                                                />\n                                                                            </>\n                                                                        )}\n                                                                        {!refresh && (\n                                                                            <>\n                                                                                {RenderTopSection()}\n                                                                                <ColorPicker\n                                                                                    color={this.props.color}\n                                                                                    onChangeComplete={(color) => this.onChangeComplete(color)}\n                                                                                />\n                                                                            </>\n                                                                        )}\n\n                                                                    </>\n                                                                );\n                                                            }\n                                                        }\n                                                        return <div>{tabout}</div>;\n                                                    }\n                                                }\n                                            </TabPanel>\n                                        </>\n                                    }\n                                    {1 === tabs.length &&\n\n                                        <>\n                                            {refresh && (\n                                                <>\n                                                    {RenderTopSection()}\n\n                                                    <ColorPicker\n                                                        color={this.props.color}\n                                                        onChangeComplete={(color) => this.onChangeComplete(color)}\n                                                    />\n\n                                                </>\n                                            )}\n                                            {!refresh && (\n                                                <>\n                                                    {RenderTopSection()}\n                                                    <ColorPicker\n                                                        color={this.props.color}\n                                                        onChangeComplete={(color) => this.onChangeComplete(color)}\n                                                    />\n                                                </>\n                                            )}\n                                        </>\n                                    }\n                                </div>\n\n                            </>\n                        </div>\n                    ) : null}\n                </div>\n\n            </>\n        );\n    }\n\n\n    toggleClose() {\n        if (this.state.modalCanClose) {\n            if (this.state.isVisible === true) {\n                this.setState({ isVisible: false });\n            }\n        }\n    }\n\n    onChangeState(color, palette) {\n        let newColor;\n        if (palette) {\n            newColor = palette;\n        } else if (undefined !== color.rgb && undefined !== color.rgb.a && 1 !== color.rgb.a) {\n            newColor = 'rgba(' + color.rgb.r + ',' + color.rgb.g + ',' + color.rgb.b + ',' + color.rgb.a + ')';\n        } else {\n            newColor = color.hex;\n        }\n        this.setState({ color: newColor, isPalette: (palette ? true : false) });\n        if (undefined !== this.props.onChange) {\n            this.props.onChange(color, palette);\n        }\n    }\n\n\n    onChangeGradientComplete(gradient) {\n\n        this.setState({ color: gradient })\n        this.props.onChangeGradient(gradient)\n    }\n\n    onChangeComplete(color) {\n        let newColor;\n        if (color.rgb && color.rgb.a && 1 !== color.rgb.a) {\n            newColor = 'rgba(' + color.rgb.r + ',' + color.rgb.g + ',' + color.rgb.b + ',' + color.rgb.a + ')';\n        } else {\n            newColor = color.hex;\n        }\n        this.setState({ color: newColor })\n        this.props.onChangeComplete(color);\n    }\n\n    onPaletteChangeComplete(color) {\n        this.setState({ color: color });\n        if (this.state.refresh === true) {\n            this.setState({ refresh: false });\n        } else {\n            this.setState({ refresh: true });\n        }\n        this.props.onChangeComplete(color);\n    }\n\n    onSelectImage(media) {\n\n        this.setState({ modalCanClose: true });\n\n        this.props.onSelectImage(media);\n    }\n\n    onRemoveImage() {\n\n        this.setState({ modalCanClose: true });\n        this.props.onSelectImage('');\n    }\n\n    open(open) {\n        event.preventDefault()\n        this.setState({ modalCanClose: false });\n        open()\n    }\n\n    onChangeImageOptions(tempKey, mainkey, value) {\n\n        this.props.onChangeImageOptions(mainkey, value);\n    }\n\n\n\n    renderImageSettings() {\n        const dimensions = {\n            width: 400,\n            height: 100,\n        };\n        const repeat = {\n            'no-repeat':\n                <svg viewBox=\"0 0 16 16\"><rect x=\"6\" y=\"6\" width=\"4\" height=\"4\" /></svg>,\n            'repeat-x':\n                <svg viewBox=\"0 0 16 16\"><rect y=\"6\" width=\"4\" height=\"4\" /><rect x=\"6\" y=\"6\" width=\"4\" height=\"4\" /><rect x=\"12\" y=\"6\" width=\"4\" height=\"4\" /></svg>,\n            'repeat-y':\n                <svg viewBox=\"0 0 16 16\"><rect x=\"6\" width=\"4\" height=\"4\" /><rect x=\"6\" y=\"6\" width=\"4\" height=\"4\" /><rect x=\"6\" y=\"12\" width=\"4\" height=\"4\" /></svg>,\n\n            repeat:\n                <svg viewBox=\"0 0 16 16\"><path d=\"M0,0h4v4H0V0z M6,0h4v4H6V0z M12,0h4v4h-4V0z M0,6h4v4H0V6z M6,6h4v4H6V6z M12,6h4v4h-4V6z M0,12h4v4H0V12z M6,12h4v4H6V12zM12,12h4v4h-4V12z\" /></svg>,\n        }\n\n\n        return (\n            <>\n\n                <div className=\"kmt-control kmt-image-actions\">\n                    <MediaUpload\n                        title={__(\"Select Background Image\", 'astra')}\n                        onSelect={(media) => this.onSelectImage(media)}\n                        allowedTypes={[\"image\"]}\n                        value={(this.props.media && this.props.media ? this.props.media : '')}\n                        render={({ open }) => (\n                            <>\n                                {!this.props.media &&\n\n                                    < Button className=\"upload-button button-add-media\" isDefault onClick={() => this.open(open)}>\n                                        {__(\"Select Background Image\", 'Kemet')}\n                                    </Button>\n                                }\n                                {(this.props.media && this.props.backgroundType === \"image\") &&\n                                    <div className=\"actions\">\n                                        <Button type=\"button\" className=\"button remove-image\" onClick={this.onRemoveImage} >\n                                        </Button>\n                                        <Button type=\"button\" className=\"button edit-image\" onClick={() => this.open(open)}>\n                                        </Button>\n                                    </div>}\n\n                            </>\n                        )}\n                    />\n                </div>\n\n                {(this.props.media && this.props.backgroundType === \"image\") &&\n                    <>\n                        <div className='kmt-control'>\n                            <div className={`thumbnail thumbnail-image`}>\n                                <FocalPointPicker\n                                    url={(this.props.media.url) ? this.props.media.url : this.props.backgroundImage}\n                                    dimensions={dimensions}\n                                    value={(undefined !== this.props.backgroundPosition ? this.props.backgroundPosition : { x: 0.5, y: 0.5 })}\n                                    onChange={(focalPoint) => this.onChangeImageOptions('backgroundPosition', 'background-position', focalPoint)}\n                                />\n\n                            </div>\n\n                        </div>\n\n                    </>\n                }\n                <div className='kmt-control'>\n                    <header><label>{__('Background Repeat')}</label></header>\n                    <section>\n                        <ul className=\"kmt-radio-option kmt-buttons-group\">\n                            {Object.keys(repeat).map((item) => {\n                                let classActive = '';\n                                if (item === this.props.backgroundRepeat) {\n                                    classActive = \"active\"\n                                }\n                                return (\n                                    <li\n                                        isTertiary\n                                        className={`${classActive}`}\n                                        onClick={() => this.onChangeImageOptions('backgroundRepeat', 'background-repeat', item)}\n                                    >\n                                        {repeat[item] &&\n                                            repeat[item]\n                                        }\n\n                                    </li>\n                                );\n                            })}\n                        </ul>\n                    </section>\n                </div>\n                <div className='kmt-control'>\n                    <header><label>{__('Background Size')}</label></header>\n                    <section>\n                        <ul className=\"kmt-radio-option kmt-buttons-group\">\n                            {[\"auto\", \"cover\", \"contain\"].map((item) => {\n                                let classActive = '';\n                                if (item === this.props.backgroundSize) {\n                                    classActive = \"active\"\n                                }\n                                return (\n                                    <li\n                                        isTertiary\n                                        className={`${classActive}`}\n                                        onClick={() => this.onChangeImageOptions('backgroundSize', 'background-size', item)}\n                                    >\n                                        {item}\n                                    </li>\n                                );\n                            })}\n                        </ul>\n                    </section>\n                </div>\n                <div className='kmt-control'>\n                    <header><label>{__('Background Attachment')}</label></header>\n                    <section>\n                        <ul className=\"kmt-radio-option kmt-buttons-group\">\n                            {[\"fixed\", \"scroll\", \"inherit\"].map((item) => {\n                                let classActive = '';\n                                if (item === this.props.backgroundAttachment) {\n                                    classActive = \"active\"\n                                }\n                                return (\n                                    <li\n                                        isTertiary\n                                        className={`${classActive}`}\n                                        onClick={() => this.onChangeImageOptions('backgroundAttachment', 'background-attachment', item)}\n                                    >\n                                        {item}\n                                    </li>\n                                );\n                            })}\n                        </ul>\n                    </section>\n                </div>\n\n\n\n            </>\n\n        )\n    }\n}\n\nKemetColorPickerControl.propTypes = {\n    color: PropTypes.string,\n    usePalette: PropTypes.bool,\n    palette: PropTypes.string,\n    presetColors: PropTypes.object,\n    onChangeComplete: PropTypes.func,\n    onPaletteChangeComplete: PropTypes.func,\n    onChange: PropTypes.func,\n    customizer: PropTypes.object\n};\n\nexport default KemetColorPickerControl;","import {\n    createElement,\n    Component,\n    Fragment,\n    createRef,\n} from '@wordpress/element'\nimport cls from 'classnames'\n\nconst DISPLAY = {\n    BLOCK: 'block',\n    FLEX: 'flex',\n    INLINE_BLOCK: 'inline-block',\n}\n\nconst defaultProps = {\n    disabled: false,\n\n    // `useCapture` is set to true by default so that a `stopPropagation` in the\n    // children will not prevent all outside click handlers from firing - maja\n    useCapture: true,\n    display: DISPLAY.BLOCK,\n}\n\nconst updateRef = (ref, instance) => {\n    if (typeof ref === 'function') {\n        ref(instance)\n    } else {\n        ref.current = instance\n    }\n}\n\nexport default class OutsideComponent extends Component {\n    componentDidMount() {\n        const { disabled, useCapture } = this.props\n\n        if (!disabled) this.addMouseDownEventListener(useCapture)\n    }\n\n    childNode = createRef()\n\n    checkIsInside = (event) => {\n        const result = [\n            this.childNode,\n            ...(this.props.additionalRefs || []),\n        ].reduce((isInside, currentRef) => {\n            if (isInside) {\n                return isInside\n            }\n\n            if (!currentRef || !currentRef.current) {\n                return isInside\n            }\n\n            return currentRef.current.contains(event.target)\n        }, false)\n\n        return result\n    }\n\n    UNSAFE_componentWillReceiveProps({ disabled, useCapture }) {\n        const { disabled: prevDisabled } = this.props\n\n        if (prevDisabled !== disabled) {\n            if (disabled) {\n                this.removeEventListeners()\n            } else {\n                this.addMouseDownEventListener(useCapture)\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        this.removeEventListeners()\n    }\n\n    // Use mousedown/mouseup to enforce that clicks remain outside the root's\n    // descendant tree, even when dragged. This should also get triggered on\n    // touch devices.\n    onMouseDown = (e) => {\n        const { useCapture } = this.props\n\n        if (!this.checkIsInside(e)) {\n            if (this.removeMouseUp) {\n                this.removeMouseUp()\n                this.removeMouseUp = null\n            }\n\n            document.addEventListener('mouseup', this.onMouseUp, useCapture)\n\n            this.removeMouseUp = () => {\n                document.removeEventListener(\n                    'mouseup',\n                    this.onMouseUp,\n                    useCapture\n                )\n            }\n        }\n    }\n\n    // Use mousedown/mouseup to enforce that clicks remain outside the root's\n    // descendant tree, even when dragged. This should also get triggered on\n    // touch devices.\n    onMouseUp = (e) => {\n        const { onOutsideClick } = this.props\n\n        if (this.removeMouseUp) {\n            this.removeMouseUp()\n            this.removeMouseUp = null\n        }\n\n        if (!this.checkIsInside(e)) {\n            onOutsideClick(e)\n        }\n    }\n\n    setChildNodeRef = (ref) => {\n        if (this.props.wrapperProps && this.props.wrapperProps.ref) {\n            updateRef(this.props.wrapperProps.ref, ref)\n        }\n\n        updateRef(this.childNode, ref)\n    }\n\n    addMouseDownEventListener(useCapture) {\n        document.addEventListener('mousedown', this.onMouseDown, useCapture)\n\n        this.removeMouseDown = () => {\n            document.removeEventListener(\n                'mousedown',\n                this.onMouseDown,\n                useCapture\n            )\n        }\n    }\n\n    removeEventListeners() {\n        if (this.removeMouseDown) this.removeMouseDown()\n        if (this.removeMouseUp) this.removeMouseUp()\n    }\n\n    render() {\n        const { children, display, className, wrapperProps } = this.props\n\n        return (\n            <div\n                className={cls(className)}\n                {...(wrapperProps || {})}\n                ref={this.setChildNodeRef}>\n                {children}\n            </div>\n        )\n    }\n}\n\nOutsideComponent.defaultProps = defaultProps\n","import { useMemo, useRef, useState, useEffect } from '@wordpress/element'\nimport classnames from 'classnames'\nimport { __ } from '@wordpress/i18n';\n\nexport function nullifyTransforms(el) {\n    const parseTransform = (el) =>\n        window\n            .getComputedStyle(el)\n            .transform.split(/\\(|,|\\)/)\n            .slice(1, -1)\n            .map((v) => parseFloat(v))\n\n    // 1\n    let { top, left, width, height } = el.getBoundingClientRect()\n    let transformArr = parseTransform(el)\n\n    if (transformArr.length == 6) {\n        // 2D matrix\n        const t = transformArr\n\n        // 2\n        let det = t[0] * t[3] - t[1] * t[2]\n\n        // 3\n        return {\n            width: width / t[0],\n            height: height / t[3],\n            left: (left * t[3] - top * t[2] + t[2] * t[5] - t[4] * t[3]) / det,\n            top: (-left * t[1] + top * t[0] + t[4] * t[1] - t[0] * t[5]) / det,\n        }\n    } else {\n        // This case is not handled because it's very rarely needed anyway.\n        // We just return the tranformed metrics, as they are, for consistency.\n        return { top, left, width, height }\n    }\n}\n\nconst usePopoverMaker = ({\n    contentRef: contentRefProp,\n    shouldCalculate = true,\n    ref,\n    defaultHeight = 0,\n} = {}) => {\n    const contentRef = useRef()\n    const [s, setState] = useState(null)\n\n    const refresh = () => {\n        if (!shouldCalculate) {\n            return\n        }\n\n        setState(Math.random())\n    }\n\n    const refreshOnScroll = (e) => {\n        let modalRef = contentRefProp || contentRef\n\n        if (\n            modalRef &&\n            modalRef.current &&\n            !modalRef.current.contains(e.target)\n        ) {\n            refresh()\n        }\n    }\n\n    useEffect(() => {\n        setTimeout(() => {\n            refresh()\n        }, 500)\n\n        window.addEventListener('resize', refresh)\n        window.addEventListener('scroll', refreshOnScroll, true)\n\n        let observer\n\n        if (ref.current) {\n            observer = new window.ResizeObserver(refresh)\n\n            observer.observe(ref.current, {\n                attributes: true,\n            })\n\n            if (ref.current.closest('.kmt-tabs-scroll')) {\n                observer.observe(ref.current.closest('.kmt-tabs-scroll'), {\n                    attributes: true,\n                })\n            }\n\n            if (ref.current.closest('.customize-pane-child')) {\n                observer.observe(ref.current.closest('.customize-pane-child'), {\n                    attributes: true,\n                })\n            }\n        }\n\n        if (contentRefProp ? contentRefProp.current : contentRef.current) {\n            if (!observer) {\n                observer = new window.ResizeObserver(refresh)\n            }\n\n            observer.observe(\n                contentRefProp ? contentRefProp.current : contentRef.current,\n                {\n                    attributes: true,\n                }\n            )\n        }\n\n        return () => {\n            window.removeEventListener('resize', refresh)\n            window.removeEventListener('scroll', refreshOnScroll, true)\n\n            if (observer) {\n                observer.disconnect()\n            }\n        }\n    }, [shouldCalculate, contentRef.current, contentRefProp, ref.current])\n\n    let { right, yOffset, position, otherStyles } = useMemo(() => {\n        let right = 0\n        let yOffset = 0\n        let position = 'bottom'\n        let otherStyles = {}\n\n        if (!shouldCalculate) {\n            return { yOffset, right, position }\n        }\n\n        if (ref.current) {\n            let rect = ref.current.getBoundingClientRect()\n\n            let el = ref.current.closest('.kmt-selekmt-input')\n                ? ref.current.closest('.kmt-selekmt-input')\n                : ref.current\n\n            let maybeWidthFlag = getComputedStyle(el, ':before').content\n\n            yOffset = rect.top + rect.height\n            right = window.innerWidth - rect.right\n\n            if (document.body.classList.contains('rtl')) {\n                right = rect.left\n            }\n\n            if (maybeWidthFlag.indexOf('ref-width') > -1) {\n                let width = rect.width\n\n                if (\n                    maybeWidthFlag.indexOf('left') > -1 &&\n                    el.previousElementSibling\n                ) {\n                    if (document.body.classList.contains('rtl')) {\n                        width =\n                            el.previousElementSibling.getBoundingClientRect()\n                                .right - rect.left\n                    } else {\n                        width =\n                            rect.right -\n                            el.previousElementSibling.getBoundingClientRect()\n                                .left\n                    }\n                }\n\n                if (maybeWidthFlag.indexOf('right') > -1) {\n                    let nextRect = el.parentNode // el.nextElementSibling || el.parentNode\n                        .getBoundingClientRect()\n\n                    if (document.body.classList.contains('rtl')) {\n                        right = nextRect.left\n                        width = rect.right - nextRect.left\n                    } else {\n                        right = window.innerWidth - nextRect.right\n                        width = nextRect.right - rect.left\n                    }\n                }\n\n                otherStyles['--x-selekmt-dropdown-width'] = `${width}px`\n            }\n\n            let popoverRect =\n                (contentRefProp && contentRefProp.current) || contentRef.current\n                    ? nullifyTransforms(\n                        contentRefProp\n                            ? contentRefProp.current\n                            : contentRef.current\n                    )\n                    : { height: defaultHeight }\n\n            if (\n                yOffset + popoverRect.height > window.innerHeight &&\n                rect.top - 15 > popoverRect.height\n            ) {\n                position = 'top'\n                yOffset = window.innerHeight - rect.bottom + rect.height\n            }\n\n            if (\n                yOffset + popoverRect.height > window.innerHeight &&\n                position === 'bottom'\n            ) {\n                position = 'top'\n                yOffset = 0\n            }\n        }\n\n        return { yOffset, right, position, otherStyles }\n    }, [\n        s,\n        shouldCalculate,\n        ref,\n        ref.current,\n        contentRefProp,\n        contentRef.current,\n        defaultHeight,\n    ])\n\n    return {\n        refreshPopover: refresh,\n        styles: {\n            '--modal-y-offset': `${yOffset}px`,\n            '--modal-x-offset': `${right}px`,\n            ...otherStyles,\n            // [position === 'bottom' ? 'top' : 'bottom']: `${yOffset}px`,\n            // right: `${right}px`,\n        },\n\n        position,\n\n        popoverProps: {\n            ref: contentRefProp || contentRef,\n            ...(position\n                ? {\n                    'data-position': position,\n                }\n                : {}),\n        },\n    }\n}\n\nexport default usePopoverMaker\n","export function kemetGetResponsiveJs(control) {\n  'use strict';\n\n  let device = jQuery('.wp-full-overlay-footer .devices button.active').attr('data-device')\n\n  jQuery('.wrapper .input-field-wrapper').removeClass('active');\n\n  jQuery('.wrapper .input-field-wrapper.' + device).addClass('active');\n\n  jQuery('.wrapper .kmt-responsive-control-btns li').removeClass('active');\n\n  jQuery('.wrapper .kmt-responsive-control-btns li.' + device).addClass('active');\n\n  jQuery('.wp-full-overlay-footer .devices button').on('click', function () {\n\n    let device = jQuery(this).attr('data-device');\n    jQuery('.customize-control-kmt-responsive-slider .input-field-wrapper, .customize-control .kmt-responsive-slider-btns > li').removeClass('active');\n    jQuery('.customize-control-kmt-responsive-slider .input-field-wrapper.' + device + ', .customize-control .kmt-responsive-slider-btns > li.' + device).addClass('active');\n  });\n\n  control.container.find('.kmt-responsive-control-btns button i').on('click', function (event) {\n    event.preventDefault();\n    let device = jQuery(this).parent('button').attr('data-device');\n    if ('desktop' == device) {\n      device = 'tablet';\n    } else if ('tablet' == device) {\n      device = 'mobile';\n    } else {\n      device = 'desktop';\n    }\n\n    jQuery('.wp-full-overlay-footer .devices button[data-device=\"' + device + '\"]').trigger('click');\n  });\n}\n\nexport function kemetGetResponsiveIconJs(control) {\n  'use strict';\n\n  let device = jQuery('.wp-full-overlay-footer .devices button.active').attr('data-device')\n\n  jQuery('.customize-control-kmt-responsive-icon-select .responsive-icon-select').removeClass('active');\n\n  jQuery('.customize-control-kmt-responsive-icon-select .responsive-icon-select.' + device).addClass('active');\n\n  jQuery('.customize-control .kmt-responsive-icon-select-btns li').removeClass('active');\n\n  jQuery('.customize-control .kmt-responsive-icon-select-btns li.' + device).addClass('active');\n\n  jQuery('.wp-full-overlay-footer .devices button').on('click', function () {\n\n    let device = jQuery(this).attr('data-device');\n\n    jQuery('.customize-control-kmt-responsive-icon-select .responsive-icon-select, .customize-control .kmt-spacing-responsive-btns > li').removeClass('active');\n    jQuery('.customize-control-kmt-responsive-icon-select .responsive-icon-select.' + device + ', .customize-control .kmt-spacing-responsive-btns > li.' + device).addClass('active');\n  });\n\n  control.container.find('.kmt-responsive-icon-select-btns li button').on('click', function (event) {\n    event.preventDefault();\n    let device = jQuery(this).attr('data-device');\n    if ('desktop' == device) {\n      device = 'tablet';\n    } else if ('tablet' == device) {\n      device = 'mobile';\n    } else {\n      device = 'desktop';\n    }\n\n    jQuery('.wp-full-overlay-footer .devices button[data-device=\"' + device + '\"]').trigger('click');\n  });\n}\nexport function kemetGetResponsiveColorJs(control, child_control_name) {\n  'use strict';\n\n  jQuery('html').addClass('responsive-background-color-ready');\n\n  let device = jQuery('.wp-full-overlay-footer .devices button.active').attr('data-device')\n\n  jQuery('.customize-control-kmt-responsive-color .customize-control-content .kmt-color-picker-alpha').removeClass('active');\n\n  jQuery('.customize-control-kmt-responsive-color .customize-control-content .kmt-color-picker-alpha.' + device).addClass('active');\n\n  jQuery('.customize-control-kmt-responsive-color .kmt-color-responsive-btns li').removeClass('active');\n\n  jQuery('.customize-control-kmt-responsive-color .kmt-color-responsive-btns li.' + device).addClass('active');\n\n  jQuery('.wp-full-overlay-footer .devices button').on('click', function () {\n\n    let device = jQuery(this).attr('data-device');\n\n    jQuery('.customize-control-kmt-responsive-color .customize-control-content .kmt-color-picker-alpha').removeClass('active');\n    jQuery('.customize-control-kmt-responsive-color .customize-control-content .kmt-responsive-color.' + device).addClass('active');\n    jQuery('.customize-control-kmt-responsive-color .kmt-color-responsive-btns li').removeClass('active');\n    jQuery('.customize-control-kmt-responsive-color .kmt-color-responsive-btns li.' + device).addClass('active');\n  });\n\n  control.container.find('.kmt-color-responsive-btns button').on('click', function (event) {\n    event.preventDefault();\n    let device = jQuery(this).attr('data-device');\n    if ('desktop' == device) {\n      device = 'tablet';\n    } else if ('tablet' == device) {\n      device = 'mobile';\n    } else {\n      device = 'desktop';\n    }\n\n    jQuery('.wp-full-overlay-footer .devices button[data-device=\"' + device + '\"]').trigger('click');\n  });\n  if (child_control_name) {\n    jQuery(document).mouseup(function (e) {\n      var container = jQuery(child_control_name);\n      var resColorWrap = container.find('.customize-control-content');\n      // If the target of the click isn't the container nor a descendant of the container.\n      if (!resColorWrap.is(e.target) && resColorWrap.has(e.target).length === 0) {\n        container.find('.components-button.kemet-color-icon-indicate.open').click();\n      }\n    });\n  }\n}\nexport function kemetGetResponsiveBgJs(control, child_control_name) {\n  'use strict';\n\n  jQuery('html').addClass('responsive-background-img-ready');\n\n  let device = jQuery('.wp-full-overlay-footer .devices button.active').attr('data-device')\n\n  jQuery('.customize-control-kmt-responsive-background .customize-control-content .background-container').removeClass('active');\n\n  jQuery('.customize-control-kmt-responsive-background .customize-control-content .background-container.' + device).addClass('active');\n\n  jQuery('.customize-control-kmt-responsive-background .kmt-responsive-btns li').removeClass('active');\n\n  jQuery('.customize-control-kmt-responsive-background .kmt-responsive-btns li.' + device).addClass('active');\n\n  jQuery('.wp-full-overlay-footer .devices button').on('click', function () {\n\n    let device = jQuery(this).attr('data-device');\n\n    jQuery('.customize-control-kmt-responsive-background .customize-control-content .background-container').removeClass('active');\n    jQuery('.customize-control-kmt-responsive-background .customize-control-content .background-container.' + device).addClass('active');\n    jQuery('.customize-control-kmt-responsive-background .kmt-responsive-btns li').removeClass('active');\n    jQuery('.customize-control-kmt-responsive-background .kmt-responsive-btns li.' + device).addClass('active');\n  });\n\n  control.container.find('.kmt-responsive-btns button').on('click', function (event) {\n    event.preventDefault();\n    let device = jQuery(this).attr('data-device');\n    if ('desktop' == device) {\n      device = 'tablet';\n    } else if ('tablet' == device) {\n      device = 'mobile';\n    } else {\n      device = 'desktop';\n    }\n\n    jQuery('.wp-full-overlay-footer .devices button[data-device=\"' + device + '\"]').trigger('click');\n  });\n  if (child_control_name) {\n    jQuery(document).mouseup(function (e) {\n      var container = jQuery(child_control_name);\n      var bgWrap = container.find('.background-wrapper');\n      // If the target of the click isn't the container nor a descendant of the container.\n      if (!bgWrap.is(e.target) && bgWrap.has(e.target).length === 0) {\n        container.find('.components-button.kemet-color-icon-indicate.open').click();\n      }\n    });\n  }\n}\nexport function KemetGetResponsiveColorGroupJs(control, child_control_name) {\n  'use strict';\n\n  let device = jQuery('.wp-full-overlay-footer .devices button.active').attr('data-device')\n\n  jQuery('.customize-control-kmt-color-group .kmt-field-color-group-wrap .kmt-color-group-responsive-wrap').removeClass('active');\n\n  jQuery('.customize-control-kmt-color-group .kmt-field-color-group-wrap .kmt-color-group-responsive-wrap.' + device).addClass('active');\n\n  jQuery('.customize-control-kmt-color-group .kmt-responsive-btns li').removeClass('active');\n\n  jQuery('.customize-control-kmt-color-group .kmt-responsive-btns li.' + device).addClass('active');\n\n  jQuery('.wp-full-overlay-footer .devices button').on('click', function () {\n\n    let device = jQuery(this).attr('data-device');\n\n    jQuery('.customize-control-kmt-color-group .kmt-field-color-group-wrap .kmt-color-group-responsive-wrap').removeClass('active');\n    jQuery('.customize-control-kmt-color-group .kmt-field-color-group-wrap .kmt-color-group-responsive-wrap.' + device).addClass('active');\n    jQuery('.customize-control-kmt-color-group .kmt-responsive-btns li').removeClass('active');\n    jQuery('.customize-control-kmt-color-group .kmt-responsive-btns li.' + device).addClass('active');\n  });\n\n  control.container.find('.kmt-responsive-btns button').on('click', function (event) {\n    event.preventDefault();\n    let device = jQuery(this).attr('data-device');\n    if ('desktop' == device) {\n      device = 'tablet';\n    } else if ('tablet' == device) {\n      device = 'mobile';\n    } else {\n      device = 'desktop';\n    }\n\n    jQuery('.wp-full-overlay-footer .devices button[data-device=\"' + device + '\"]').trigger('click');\n  });\n  if (child_control_name) {\n    jQuery(document).mouseup(function (e) {\n      var container = jQuery(child_control_name);\n      var bgWrap = container.find('.background-wrapper');\n      // If the target of the click isn't the container nor a descendant of the container.\n      if (!bgWrap.is(e.target) && bgWrap.has(e.target).length === 0) {\n        container.find('.components-button.kemet-color-icon-indicate.open').click();\n      }\n    });\n  }\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nconst { __ } = wp.i18n;\n\n\nclass Responsive extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            view: 'desktop'\n        };\n        this.linkResponsiveButtons();\n    }\n\n    render() {\n        const { label } = this.props;\n        return (\n            <>\n                { label ? <span className=\"customize-control-title\">{label}</span> : null}\n                <ul className=\"kmt-responsive-control-btns kmt-responsive-slider-btns\">\n                    <li className=\"desktop active\">\n                        <button type=\"button\" className=\"preview-desktop active\" data-device=\"desktop\">\n                            < i class=\"dashicons dashicons-desktop\" onClick={() => {\n                                let event = new CustomEvent(\n                                    'KemetChangedRepsonsivePreview', {\n                                    'detail': 'tablet'\n                                });\n                                document.dispatchEvent(event);\n                            }} ></i>\n                        </button>\n                    </li>\n                    <li class=\"tablet \">\n                        <button type=\"button\" className=\"preview-tablet \" data-device=\"tablet\" >\n                            <i class=\"dashicons dashicons-tablet\" onClick={() => {\n                                let event = new CustomEvent(\n                                    'KemetChangedRepsonsivePreview', {\n                                    'detail': 'mobile'\n                                });\n                                document.dispatchEvent(event);\n                            }} ></i>\n                        </button>\n                    </li>\n                    <li class=\"mobile\">\n                        <button type=\"button\" className=\"preview-mobile\" data-device=\"mobile\" >\n                            <i className=\"dashicons dashicons-smartphone\" onClick={() => {\n                                let event = new CustomEvent(\n                                    'KemetChangedRepsonsivePreview', {\n                                    'detail': 'desktop'\n                                });\n                                document.dispatchEvent(event);\n                            }} ></i>\n                        </button>\n                    </li>\n                </ul>\n                {this.props.children}\n            </>\n        )\n    }\n    changeViewType(device) {\n        this.setState({ view: device });\n        wp.customize.previewedDevice(device);\n        this.props.onChange(device);\n    }\n\n    linkResponsiveButtons() {\n        let self = this;\n        document.addEventListener('KemetChangedRepsonsivePreview', function (e) {\n            self.changeViewType(e.detail);\n        });\n    }\n}\n\nResponsive.propTypes = {\n    onChange: PropTypes.func,\n    controlLabel: PropTypes.string\n};\nResponsive.defaultProps = {\n    tooltip: true,\n};\n\nexport default Responsive;","export const fontFamilyToCSSFamily = (family) => {\n    if (family === 'System Default') {\n        return \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'\"\n    }\n\n    return family.replace('ct_typekit_', '')\n}\n\nconst findSourceTypeSettingsFor = (font_family, fonts_list) =>\n    Object.values(fonts_list).find(\n        (single_font_source) =>\n            single_font_source.families\n                .map(({ family }) => family)\n                .indexOf(font_family) > -1\n    )\n\nexport const findSourceTypeFor = (font_family, fonts_list) => {\n    let source = findSourceTypeSettingsFor(font_family, fonts_list)\n    if (!source) return false\n    return source.type\n}\n\nexport const findSelectedFontFamily = (font_family, fonts_list) => {\n    let source = findSourceTypeSettingsFor(font_family, fonts_list)\n\n    if (!source) {\n        return null\n    }\n\n    return source.families.find(({ family }) => family === font_family)\n}\n\nexport const decideVariationToSelect = (newValue, oldValue) => {\n    if (newValue.all_variations.indexOf(oldValue.variation) > -1) {\n        return oldValue.variation\n    }\n\n    if (newValue.all_variations.indexOf('n4') > -1) {\n        return 'n4'\n    }\n\n    return newValue.all_variations[0]\n}\n\nexport const humanizeVariationsShort = (variation) => {\n    var all = {\n        n1: '100',\n        i1: '100',\n        n2: '200',\n        i2: '200',\n        n3: '300',\n        i3: '300',\n        n4: '400',\n        i4: '400',\n        n5: '500',\n        i5: '500',\n        n6: '600',\n        i6: '600',\n        n7: '700',\n        i7: '700',\n        n8: '800',\n        i8: '800',\n        n9: '900',\n        i9: '900',\n        Default: 'Default',\n    }\n\n    return all[variation]\n}\n\nexport const humanizeVariations = (variation) => {\n    var all = {\n        n1: 'Thin 100',\n        i1: 'Thin 100 Italic',\n        n2: 'Extra-Light 200',\n        i2: 'Extra-Light 200 Italic',\n        n3: 'Light 300',\n        i3: 'Light 300 Italic',\n        n4: 'Regular',\n        i4: 'Regular 400 Italic',\n        n5: 'Medium 500',\n        i5: 'Medium 500 Italic',\n        n6: 'Semi-Bold 600',\n        i6: 'Semi-Bold 600 Italic',\n        n7: 'Bold 700',\n        i7: 'Bold 700 Italic',\n        n8: 'Extra-Bold 800',\n        i8: 'Extra-Bold 800 Italic',\n        n9: 'Ultra-Bold 900',\n        i9: 'Ultra-Bold 900 Italic',\n        Default: 'Default Weight',\n    }\n\n    return all[variation]\n}\n\nexport const familyForDisplay = (fontValue) => {\n    // Bail if fontVAlue does not contain a comma.\n    if (!fontValue.includes(\",\")) return fontValue;\n\n    var splitFont = fontValue.split(\",\");\n    var pattern = new RegExp(\"'\", \"gi\");\n\n    // Check if the cleaned font exists in the Google fonts array.\n    var googleFontValue = splitFont[0].replace(pattern, \"\");\n    if (\"undefined\" != typeof KmtFontFamilies.google[googleFontValue]) {\n        fontValue = googleFontValue;\n    }\n\n    return fontValue;\n\n\n}\n","import { isDisplay, getSetting, getSettingId } from './options/options-component'\n(function ($, api) {\n  var $window = $(window),\n    $body = $(\"body\");\n  var expandedPanel = \"\";\n  api.bind(\"ready\", function () {\n    // Set handler when custom responsive toggle is clicked.\n    $(\"#customize-theme-controls\").on(\n      \"click\",\n      \".kmt-build-tabs-button\",\n      function (e) {\n        e.preventDefault();\n        var device = $(this).data(\"device\");\n        api.previewedDevice.set(device);\n        jQuery('.wp-full-overlay-footer .devices button[data-device=\"' + device + '\"]').trigger('click');\n      }\n    );\n\n    // Set all custom responsive toggles and fieldsets.\n    var setBuilderResponsiveDisplay = function () {\n      var device = api.previewedDevice.get(),\n        $tabs = $(\".kmt-build-tabs-button.nav-tab\");\n      $tabs\n        .removeClass(\"nav-tab-active\")\n        .filter(\".preview-\" + device)\n        .addClass(\"nav-tab-active\");\n    };\n    // Refresh all responsive elements when previewedDevice is changed.\n    api.previewedDevice.bind(setBuilderResponsiveDisplay);\n\n    // Refresh all responsive elements when any section is expanded.\n    // This is required to set responsive elements on newly added controls inside the section.\n    api.section.each(function (section) {\n      section.expanded.bind(setBuilderResponsiveDisplay);\n    });\n\n    /**\n     * Resize Preview Frame when show / hide Builder.\n     */\n    const resizePreviewer = function () {\n      var section = $(\".control-section.kmt-header-builder-active\");\n      var footer = $(\".control-section.kmt-footer-builder-active\");\n\n      if (\n        $body.hasClass(\"kmt-header-builder-is-active\") ||\n        $body.hasClass(\"kmt-footer-builder-is-active\")\n      ) {\n        if (\n          $body.hasClass(\"kmt-footer-builder-is-active\") &&\n          0 < footer.length &&\n          !footer.hasClass(\"kmt-builder-hide\")\n        ) {\n          api.previewer.container.css(\"bottom\", footer.outerHeight() + \"px\");\n        } else if (\n          $body.hasClass(\"kmt-header-builder-is-active\") &&\n          0 < section.length &&\n          !section.hasClass(\"kmt-builder-hide\")\n        ) {\n          api.previewer.container.css({\n            bottom: section.outerHeight() + \"px\",\n          });\n        } else {\n          api.previewer.container.css(\"bottom\", \"\");\n        }\n      } else {\n        api.previewer.container.css(\"bottom\", \"\");\n      }\n    };\n\n    $window.on(\"resize\", resizePreviewer);\n\n    api.previewedDevice.bind(function (device) {\n      api.previewer.container.css({ bottom: \"0px\" });\n      resizePreviewer();\n    });\n\n    /**\n     * Init Kemet Header & Footer Builder\n     */\n    const initKmtBuilderPanel = function (panel) {\n      let builderType = panel.id.includes(\"-header-\") ? \"header\" : \"footer\";\n      let section = api.section(\"section-\" + builderType + \"-builder\");\n\n      if (undefined !== section) {\n        var $section = section.contentContainer,\n          section_layout = api.section(\n            \"section-\" + builderType + \"-builder-layout\"\n          );\n\n        panel.expanded.bind(function (isExpanded) {\n          let options = $.merge(section.controls(), section_layout.controls());\n          if (isExpanded) {\n            _.each(options, function (control) {\n              document.dispatchEvent(new CustomEvent(\"kmtExpandedBuilder\", {\n                detail: { control, isExpanded: true }\n              }));\n            })\n          } else {\n            _.each(options, function (control) {\n              document.dispatchEvent(new CustomEvent(\"kmtExpandedBuilder\", {\n                detail: { control, isExpanded: false }\n              }));\n            })\n          }\n          Promise.all([\n            _.each(section.controls(), function (control) {\n              if (\"resolved\" === control.deferred.embedded.state()) {\n                return;\n              }\n              if (isExpanded) {\n                $body.addClass(\"kmt-\" + builderType + \"-builder-is-active\");\n                $section.addClass(\"kmt-\" + builderType + \"-builder-active\");\n                $section.css(\"display\", \"none\").height();\n                $section.css(\"display\", \"block\");\n              } else {\n                $body.removeClass(\"kmt-\" + builderType + \"-builder-is-active\");\n                $section.removeClass(\"kmt-\" + builderType + \"-builder-active\");\n              }\n\n              control.renderContent();\n              control.deferred.embedded.resolve(); // This triggers control.ready().\n\n              // Fire event after control is initialized.\n              control.container.trigger(\"init\");\n            }),\n            _.each(section_layout.controls(), function (control) {\n              if (\"resolved\" === control.deferred.embedded.state()) {\n                return;\n              }\n              control.renderContent();\n              control.deferred.embedded.resolve(); // This triggers control.ready().\n\n              // Fire event after control is initialized.\n              control.container.trigger(\"init\");\n            }),\n          ]).then(function () {\n            resizePreviewer();\n          });\n\n          if (isExpanded) {\n            expandedPanel = panel.id;\n            $body.addClass(\"kmt-\" + builderType + \"-builder-is-active\");\n            $section.addClass(\"kmt-\" + builderType + \"-builder-active\");\n            $(\n              \"#sub-accordion-panel-\" + expandedPanel + \" li.control-section\"\n            ).hide();\n          } else {\n            $body.removeClass(\"kmt-\" + builderType + \"-builder-is-active\");\n            $section.removeClass(\"kmt-\" + builderType + \"-builder-active\");\n          }\n        });\n      }\n      $section.on(\"click\", \".kmt-builder-tab-toggle\", function (e) {\n        e.preventDefault();\n        api.previewer.container.css({ bottom: \"0\" });\n        setTimeout(function () {\n          $section.toggleClass(\"kmt-builder-hide\");\n          resizePreviewer();\n        }, 120);\n      });\n    };\n    api.panel(\"panel-header-builder-group\", initKmtBuilderPanel);\n    api.panel(\"panel-footer-builder-group\", initKmtBuilderPanel);\n  });\n\n  // Default contexts\n  if (KemetCustomizerData && KemetCustomizerData.contexts) {\n    const context = KemetCustomizerData.contexts;\n    let mobileLogo = getSettingId('kmt-header-mobile-logo');\n    const setupControl = (element) => {\n      const rules = context[element.id];\n      var setActiveState = function () {\n        if (isDisplay(rules)) {\n          element.container.show();\n        } else {\n          element.container.hide();\n        }\n      };\n\n      _.each(rules, function (rule, ruleKey) {\n        let setting = getSetting(rule.setting);\n        if (undefined != setting) {\n          setting.bind(setActiveState);\n        }\n      });\n\n      element.active.validate = isDisplay(rules);\n      setActiveState();\n    }\n    api.control(mobileLogo, setupControl);\n  }\n\n})(jQuery, wp.customize);\n","import { Base } from \"./customizer\";\n\nimport \"./options/control\";\n\nwindow.addEventListener('load', () => {\n  let deviceButtons = document.querySelector('#customize-footer-actions .devices');\n  deviceButtons.addEventListener('click', function (e) {\n    let event = new CustomEvent('KemetChangedRepsonsivePreview', {\n      'detail': e.target.dataset.device\n    });\n    document.dispatchEvent(event);\n  });\n});","import PropTypes from \"prop-types\";\nimport { Fragment, useState } from \"react\";\nimport { ReactSortable, Sortable } from \"react-sortablejs\";\nconst { __ } = wp.i18n;\nconst { Dashicon, Button } = wp.components;\nconst AvailableComponent = (props) => {\n  let defaultParams = {};\n\n  let controlParams = props.params.input_attrs\n    ? {\n      ...defaultParams,\n      ...props.params.input_attrs,\n    }\n    : defaultParams;\n  const builderControlId = \"kemet-settings[\" + controlParams.group + \"]\";\n  let choices =\n    KemetCustomizerData &&\n      KemetCustomizerData.choices &&\n      KemetCustomizerData.choices[builderControlId]\n      ? KemetCustomizerData.choices[builderControlId]\n      : [];\n  let usedItems = wp.customize(builderControlId).get();\n  const [items, setItems] = useState(usedItems);\n  const onDrogStart = () => {\n    let dragZones = document.querySelectorAll(\".kmt-builder-area\");\n\n    for (let i = 0; i < dragZones.length; i++) {\n      dragZones[i].classList.add(\"kmt-dragging-dropzones\");\n    }\n  };\n  const onDragEnd = () => {\n    let dragZones = document.querySelectorAll(\".kmt-builder-area\");\n\n    for (let i = 0; i < dragZones.length; i++) {\n      dragZones[i].classList.remove(\"kmt-dragging-dropzones\");\n    }\n  };\n  const onUpdate = () => {\n    const newItems = wp.customize(builderControlId).get();\n    setItems(newItems);\n  };\n  const onDragStop = (items) => {\n    if (items.length != null && items.length === 0) {\n      onUpdate();\n    }\n  };\n\n  const linkRemovingItem = () => {\n    document.addEventListener(\"KemetBuilderRemovedBuilderItem\", function (e) {\n      if (e.detail === controlParams.group) {\n        onUpdate();\n      }\n    });\n  };\n\n  linkRemovingItem();\n  const focusSection = (section) => {\n    if (undefined !== wp.customize.section(section)) {\n      wp.customize.section(section).focus();\n    }\n  };\n  const renderItems = (item, type) => {\n    let available = true;\n\n    controlParams.zones.map((zone) => {\n      Object.keys(items[zone]).map((row) => {\n        if (items[zone][row].includes(item)) {\n          available = false;\n        }\n      });\n    });\n    let list = [{ id: item }];\n    return (\n      <Fragment>\n        {!available && type == \"used\" && (\n          <div className={\"kmt-builder-item-start\"}>\n            <Button\n              className=\"kmt-builder-item\"\n              data-id={item}\n              onClick={() => focusSection(choices[item].section)}\n              data-section={\n                choices[item] && choices[item].section\n                  ? choices[item].section\n                  : \"\"\n              }\n              key={item}\n            >\n              {choices[item] && choices[item].name ? choices[item].name : \"\"}\n              <span className=\"kmt-builder-item-icon\">\n                <Dashicon icon=\"arrow-right-alt2\" />\n              </span>\n            </Button>\n          </div>\n        )}\n        {available && type == \"available\" && (\n          <ReactSortable\n            animation={100}\n            className={\"kmt-builder-item-start kmt-move-item\"}\n            onStart={() => onDrogStart()}\n            setList={(newItems) => onDragStop(newItems)}\n            onEnd={() => onDragEnd()}\n            group={{ name: controlParams.group, put: false }}\n            list={list}\n          >\n            <div className=\"kmt-builder-item\" key={item}>\n              <span className=\"kmt-builder-item-icon kmt-move-icon\">\n                <Dashicon icon=\"move\" />\n              </span>\n              <span className=\"kmt-builder-item-text\">\n                {undefined !== choices[item] && undefined !== choices[item].name\n                  ? choices[item].name\n                  : \"\"}\n              </span>\n            </div>\n          </ReactSortable>\n        )}\n      </Fragment>\n    );\n  };\n  return (\n    <div className=\"kmt-control-field kmt-available-items\">\n      <div className=\"kmt-used-items-container\">\n        {Object.keys(choices).map((item) => {\n          return renderItems(item, \"used\");\n        })}\n      </div>\n      <div className=\"kmt-available-items-title\">\n        <span className=\"customize-control-title\">\n          {__(\"Available Items\", \"kemet\")}\n        </span>\n      </div>\n      <div className=\"kmt-available-items-container\">\n        {Object.keys(choices).map((item) => {\n          return renderItems(item, \"available\");\n        })}\n      </div>\n    </div>\n  );\n};\n\nAvailableComponent.propTypes = {\n  control: PropTypes.object.isRequired,\n  customizer: PropTypes.func.isRequired,\n};\n\nexport default React.memo(AvailableComponent);\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport { Dashicon } from '@wordpress/components';\nimport KemetColorPickerControl from '../common/color';\nimport { __ } from '@wordpress/i18n';\nimport Responsive from '../common/responsive'\n\n\nconst BackgroundComponent = props => {\n    let value = props.value;\n\n    let responsive = props.params.responsive;\n    let defaultValue = {\n        \"background-attachment\": '',\n        \"background-color\": '',\n        \"background-image\": '',\n        \"background-media\": '',\n        \"background-position\": '',\n        \"background-repeat\": '',\n        \"background-size\": '',\n        \"background-type\": \"color\",\n        \"background-gradient\": '',\n    }\n\n    let ResDefaultParam = {\n        desktop: {\n            \"background-attachment\": '',\n            \"background-color\": '',\n            \"background-image\": '',\n            \"background-media\": '',\n            \"background-position\": '',\n            \"background-repeat\": '',\n            \"background-size\": '',\n            \"background-type\": \"color\",\n            \"background-gradient\": ''\n\n        },\n        tablet: {\n            \"background-attachment\": '',\n            \"background-color\": '',\n            \"background-image\": '',\n            \"background-media\": '',\n            \"background-position\": '',\n            \"background-repeat\": '',\n            \"background-size\": '',\n            \"background-type\": \"\",\n            \"background-gradient\": ''\n\n        },\n        mobile: {\n            \"background-attachment\": '',\n            \"background-color\": '',\n            \"background-image\": '',\n            \"background-media\": '',\n            \"background-position\": '',\n            \"background-repeat\": '',\n            \"background-size\": '',\n            \"background-type\": \"color\",\n            \"background-gradient\": ''\n\n        },\n    }\n\n    let defaultValues = responsive ? ResDefaultParam : defaultValue;\n\n    let defaultVals = props.params.default\n        ? props.params.default\n        : defaultValues;\n\n    value = value ? value : defaultVals;\n    const [props_value, setPropsValue] = useState(value);\n    const [device, setDevice] = useState('desktop');\n\n\n    const updateValue = (obj) => {\n        setPropsValue(obj);\n        props.onChange({ ...obj, flag: !value.flag });\n    }\n\n    const updateBackgroundType = (device) => {\n        let value = props.value;\n        let obj = {\n            ...value\n        };\n\n        if (!props_value[device]['background-type']) {\n            let deviceObj = {\n                ...obj[device]\n            };\n\n            if (props_value[device]['background-color']) {\n                deviceObj['background-type'] = 'color';\n                obj[device] = deviceObj;\n                updateValue(obj);\n\n\n            }\n            if (props_value[device]['background-gradient']) {\n                deviceObj['background-type'] = 'gradient';\n                obj[device] = deviceObj;\n                updateValue(obj);\n            }\n\n            if (props_value[device]['background-image']) {\n                deviceObj['background-type'] = 'image';\n                obj[device] = deviceObj;\n                updateValue(obj);\n            }\n        }\n    };\n\n    let responsiveHtml;\n\n    if (responsive) {\n        responsiveHtml = <Responsive\n            onChange={(device) => setDevice(device)}\n        />\n    }\n\n\n\n    const renderReset = () => {\n        return <span className=\"customize-control-title\">\n\n            <div className=\"kmt-color-btn-reset-wrap\">\n                <button\n                    className=\"kmt-reset-btn components-button components-circular-option-picker__clear  is-small\"\n                    disabled={(JSON.stringify(props_value) === JSON.stringify(defaultVals))} onClick={e => {\n                        e.preventDefault();\n                        updateValue(defaultVals)\n                    }}>\n                    <Dashicon icon='image-rotate' />\n                </button>\n            </div>\n            <label>\n                {labelHtml}\n                {descriptionHtml}\n            </label>\n            {responsiveHtml}\n        </span >;\n    };\n\n    const onSelectImage = (media) => {\n        let obj = {\n            ...props_value\n        };\n        if (responsive) {\n            obj[device]['background-media'] = media.id;\n            obj[device]['background-image'] = media.url;\n\n        } else {\n            obj['background-media'] = media.id;\n            obj['background-image'] = media.url;\n\n        }\n        updateValue(obj)\n\n    };\n\n    const onChangeImageOptions = (mainKey, value) => {\n        let obj = {\n            ...props_value\n        };\n        if (responsive) {\n            obj[device][mainKey] = value;\n\n        } else {\n            obj[mainKey] = value;\n\n        }\n        updateValue(obj)\n\n    };\n    const onSelectType = (type) => {\n        let obj = {\n            ...props_value\n        };\n        if (responsive) {\n            obj[device]['background-type'] = type;\n\n        } else {\n            obj['background-type'] = type;\n\n        }\n        updateValue(obj)\n    }\n\n\n    const renderSettings = () => {\n        let renderBackground = responsive ? props_value[device] : props_value;\n\n        return <>\n            <KemetColorPickerControl\n                text={__('Background', 'Kemet')}\n                onSelect={(type) => onSelectType(type)}\n                color={undefined !== renderBackground['background-color'] && renderBackground['background-color'] ? renderBackground['background-color'] : ''}\n                gradient={undefined !== renderBackground['background-gradient'] && renderBackground['background-gradient'] ? renderBackground['background-gradient'] : ''}\n                onChangeComplete={(color) => handleChangeComplete(color)}\n                onChangeGradient={(gradient) => handleChangeGradient(gradient)}\n                media={undefined !== renderBackground['background-media'] && renderBackground['background-media'] ? renderBackground['background-media'] : ''}\n                backgroundImage={undefined !== renderBackground['background-image'] && renderBackground['background-image'] ? renderBackground['background-image'] : ''}\n                backgroundAttachment={undefined !== renderBackground['background-attachment'] && renderBackground['background-attachment'] ? renderBackground['background-attachment'] : ''}\n                backgroundPosition={undefined !== renderBackground['background-position'] && renderBackground['background-position'] ? renderBackground['background-position'] : ''}\n                backgroundRepeat={undefined !== renderBackground['background-repeat'] && renderBackground['background-repeat'] ? renderBackground['background-repeat'] : ''}\n                backgroundSize={undefined !== renderBackground['background-size'] && renderBackground['background-size'] ? renderBackground['background-size'] : ''}\n                onSelectImage={(media) => onSelectImage(media)}\n                onChangeImageOptions={(mainKey, value) => onChangeImageOptions(mainKey, value)}\n                backgroundType={undefined !== renderBackground['background-type'] && renderBackground['background-type'] ? renderBackground['background-type'] : 'color'}\n                allowGradient={true}\n                allowImage={true}\n            />\n        </>;\n\n\n    };\n    const handleChangeGradient = (gradient) => {\n\n\n        let obj = {\n            ...props_value\n        };\n        if (responsive) {\n            obj[device]['background-gradient'] = gradient;\n        } else {\n            obj['background-gradient'] = gradient;\n        }\n        updateValue(obj)\n    }\n\n    const handleChangeComplete = (color) => {\n        let value = '';\n\n        if (color) {\n            if (typeof color === 'string' || color instanceof String) {\n                value = color;\n            } else if (undefined !== color.rgb && undefined !== color.rgb.a && 1 !== color.rgb.a) {\n                value = `rgba(${color.rgb.r},${color.rgb.g},${color.rgb.b},${color.rgb.a})`;\n            } else {\n                value = color.hex;\n            }\n        }\n\n        let obj = {\n            ...props_value\n        };\n        if (responsive) {\n            obj[device]['background-color'] = value;\n        } else {\n            obj['background-color'] = value;\n        }\n        updateValue(obj)\n    };\n\n    const {\n        label,\n        description\n    } = props.params;\n\n    let labelHtml = <span className=\"customize-control-title\">{label ? label : __('Background')}</span>;\n    let descriptionHtml = description ?\n        <span className=\"description customize-control-description\">{description}</span> : null;\n    let inputHtml = null;\n    inputHtml =\n        <div className=\"background-container\">\n            {renderReset()}\n            {renderSettings()}\n        </div>\n        ;\n\n    return <>\n        {inputHtml}\n    </>;\n\n};\n\nBackgroundComponent.propTypes = {\n    control: PropTypes.object.isRequired\n};\n\nexport default React.memo(BackgroundComponent);","import PropTypes from \"prop-types\";\nimport { Fragment } from \"react\";\nconst { Dashicon } = wp.components;\nconst { __ } = wp.i18n;\n\nconst BuilderTabs = ({ control, params }) => {\n  const responsive = params.responsive;\n  return (\n    <Fragment>\n      {(\n        <div\n          className=\"kmt-control-tabs kmt-control-tabs-responsive\"\n        >\n          {responsive && (\n            <div className=\"kmt-build-tabs\">\n              <a\n                href=\"#\"\n                className=\"nav-tab preview-desktop kmt-build-tabs-button nav-tab-active\"\n                data-device=\"desktop\"\n              >\n                <span className=\"dashicons dashicons-desktop\"></span>\n                <span>{__(\"Desktop\", \"kemet\")}</span>\n              </a>\n              <a\n                href=\"#\"\n                className=\"nav-tab preview-tablet preview-mobile kmt-build-tabs-button\"\n                data-device=\"tablet\"\n              >\n                <span className=\"dashicons dashicons-smartphone\"></span>\n                <span>{__(\"Tablet / Mobile\", \"kemet\")}</span>\n              </a>\n            </div>\n          )}\n          <span className=\"button button-secondary kmt-builder-hide-button kmt-builder-tab-toggle\">\n            <Dashicon icon=\"no\" />\n            {__(\"Hide\", \"kemet\")}\n          </span>\n          <span className=\"button button-secondary kmt-builder-show-button kmt-builder-tab-toggle\">\n            <Dashicon icon=\"edit\" />\n            {__(\"Show Builder\", \"kemet\")}\n          </span>\n        </div>\n      )}\n    </Fragment>\n  );\n};\n\nexport default React.memo(BuilderTabs);\n","import PropTypes from 'prop-types';\nimport KemetColorPickerControl from '../common/color';\nimport { useEffect, useState } from 'react';\nimport Responsive from '../common/responsive'\nconst { __ } = wp.i18n;\n\nconst ColorComponent = props => {\n    let value = props.value;\n\n    let responsiveBaseDefault = {\n        'desktop': {},\n        'tablet': {},\n        'mobile': {}\n    }\n    let { pickers, responsive } = props.params;\n    let baseDefault = responsive ? responsiveBaseDefault : {};\n    pickers.map(({ id }) => {\n        if (responsive) {\n            baseDefault['desktop'][id] = '';\n            baseDefault['tablet'][id] = '';\n            baseDefault['mobile'][id] = '';\n        } else {\n            baseDefault[id] = '';\n        }\n    })\n    baseDefault = props.params.default ? props.params.default : baseDefault;\n\n    let defaultValue = props.params.default ? props.params.default : baseDefault;\n    value = value ? value : defaultValue;\n    const [state, setState] = useState(value);\n    const [device, setDevice] = useState('desktop');\n    let responsiveHtml = null;\n    let optionsHtml = null;\n    let innerOptionsHtml = null;\n\n    useEffect(() => {\n        // If settings are changed externally.\n        if (state.value !== value) {\n            setState(value);\n        }\n    }, []);\n\n    const updateValues = (value) => {\n        let UpdatedState = { ...state };\n        if (responsive) {\n            UpdatedState[device] = value\n        }\n        else {\n\n            UpdatedState = value\n        }\n\n        props.onChange({ ...UpdatedState, flag: !value.flag });\n        setState(UpdatedState)\n    };\n\n    const renderOperationButtons = () => {\n        return <>\n            <div className=\"kmt-color-btn-reset-wrap\">\n                <button\n                    className=\"kmt-reset-btn components-button components-circular-option-picker__clear is-small\"\n                    disabled={(JSON.stringify(state) === JSON.stringify(defaultValue))}\n                    onClick={e => {\n                        e.preventDefault();\n                        let value = responsive ? JSON.parse(JSON.stringify(defaultValue[device])) : JSON.parse(JSON.stringify(defaultValue));\n\n                        if (undefined === value || '' === value) {\n                            value = 'unset';\n                        }\n\n                        updateValues(value);\n                    }}>\n                    <span className=\"dashicons dashicons-image-rotate\"></span>\n                </button>\n            </div>\n        </>;\n    };\n\n    const handleChangeComplete = (color, id) => {\n\n        let value = responsive ? state[device] : state;\n\n        if (typeof color === 'string') {\n            value[`${id}`] = color;\n        } else if (undefined !== color.rgb && undefined !== color.rgb.a && 1 !== color.rgb.a) {\n            value[`${id}`] = `rgba(${color.rgb.r},${color.rgb.g},${color.rgb.b},${color.rgb.a})`;\n        } else {\n            value[`${id}`] = color.hex;\n        }\n\n        updateValues(value);\n    };\n\n\n    if (responsive) {\n        responsiveHtml = <Responsive\n            onChange={(currentDevice) => setDevice(currentDevice)}\n        />\n    }\n\n    const renderInputHtml = (device) => {\n        innerOptionsHtml = Object.entries(pickers).map(([key, value]) => {\n            if (responsive) {\n                return (\n                    <KemetColorPickerControl\n                        text={value[`title`]}\n                        color={state[device][value[`id`]]}\n                        onChangeComplete={(color, backgroundType) => handleChangeComplete(color, value[`id`])}\n                        backgroundType={'color'}\n                        allowGradient={false}\n                        allowImage={false}\n                    />\n                )\n            } else {\n                return (\n                    <KemetColorPickerControl\n                        text={value[`title`]}\n                        color={state[value[`id`]]}\n                        onChangeComplete={(color, backgroundType) => handleChangeComplete(color, value[`id`])}\n                        backgroundType={'color'}\n                        allowGradient={false}\n                        allowImage={false}\n                    />\n                )\n            }\n\n        })\n        return innerOptionsHtml\n\n    }\n\n\n    if (responsive) {\n        optionsHtml = <>\n            {renderInputHtml(device, 'active')}\n        </>;\n    } else {\n        optionsHtml = <>\n            {renderInputHtml('')}\n        </>;\n    }\n\n    const {\n        label,\n        description\n    } = props.params;\n\n    let labelHtml = label ? <span className=\"customize-control-title\">{label}</span> : null;\n    let descriptionHtml = (description !== '' && description) ? <span className=\"description customize-control-description\" > {description}</span> : null;\n\n    return <div className=\"kmt-control-wrap kmt-color-control-wrap\">\n        {renderOperationButtons()}\n        <div className={`kmt-color-container`}>\n            <label>\n                {labelHtml}\n                {descriptionHtml}\n                {responsiveHtml}\n            </label>\n\n            <div className={`kmt-color-picker-container`}>\n                {optionsHtml}\n            </div>\n        </div>\n    </div>;\n\n}\n\n\nColorComponent.propTypes = {\n    control: PropTypes.object.isRequired\n};\n\nexport default ColorComponent;","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\n\n\nconst EditorComponent = props => {\n    const editorId = props.id + 'editor';\n    const [state, setState] = useState({\n        value: props.value,\n        restoreTextMode: false,\n    });\n\n    const HandleChange = (value) => {\n        setState((prevState) => ({\n            ...prevState,\n            value: value\n        }));\n        props.onChange(value);\n    };\n\n    useEffect(() => {\n        if (window.tinymce.get(editorId)) {\n            setState({ restoreTextMode: window.tinymce.get(editorId).isHidden() });\n            window.wp.oldEditor.remove(editorId);\n        }\n        window.wp.oldEditor.initialize(editorId, {\n            tinymce: {\n                wpautop: true,\n                toolbar1: 'bold,italic,bullist,numlist,link',\n                toolbar2: '',\n            },\n            quicktags: true,\n            mediaButtons: true,\n        });\n        const editor = window.tinymce.get(editorId);\n        if (editor.initialized) {\n            onInit();\n        } else {\n            editor.on('init', onInit);\n        }\n    }, [])\n\n    const onInit = () => {\n        const editor = window.tinymce.get(editorId);\n        if (state.restoreTextMode) {\n            window.switchEditors.go(editorId, 'html');\n        }\n        editor.on('NodeChange', debounce(() => {\n            HandleChange(window.wp.oldEditor.getContent(editorId));\n        }, 250));\n\n        setState({ editor: editor });\n    }\n\n    const debounce = (fn, delay) => {\n        var timer = null;\n        return function () {\n            var context = this,\n                args = arguments;\n            clearTimeout(timer);\n            timer = setTimeout(function () {\n                fn.apply(context, args);\n            }, delay);\n        };\n    }\n\n    const {\n        label,\n    } = props.params;\n\n    let labelContent = label ? <span className=\"customize-control-title\">{label}</span> : null;\n\n    return <>\n        {labelContent}\n        <div className=\"customize-control-content\">\n            <textarea\n                className=\"kmt-control-tinymce-editor wp-editor-area\"\n                id={editorId}\n                value={state.value}\n                onChange={({ target: { value } }) => {\n                    HandleChange(value);\n                }}\n            />\n        </div>\n    </>;\n\n};\n\nEditorComponent.propTypes = {\n    control: PropTypes.object.isRequired\n};\n\nexport default React.memo(EditorComponent);","import PropTypes from \"prop-types\";\nconst { __ } = wp.i18n;\nconst { Dashicon, Button } = wp.components;\nconst FocusComponent = (props) => {\n  let controlParams = props.params.button_params\n    ? props.params.button_params\n    : {};\n  const focusSection = (section) => {\n    if (undefined !== wp.customize.section(section)) {\n      wp.customize.section(section).focus();\n    }\n  };\n  return (\n    <div className=\"kmt-control-field kmt-focus-button\">\n      <div className={\"kmt-builder-item-start\"}>\n        <Button\n          className=\"kmt-builder-item\"\n          onClick={() => focusSection(controlParams.section)}\n          data-section={controlParams.section ? controlParams.section : \"\"}\n        >\n          {controlParams.title ? controlParams.title : \"\"}\n          <span className=\"kmt-builder-item-icon\">\n            <Dashicon icon=\"arrow-right-alt2\" />\n          </span>\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nFocusComponent.propTypes = {\n  control: PropTypes.object.isRequired,\n  customizer: PropTypes.func.isRequired,\n};\n\nexport default React.memo(FocusComponent);\n","import classnames from \"classnames\";\nimport { __ } from \"@wordpress/i18n\";\nimport { useState } from \"react\";\n\nconst { ButtonGroup, Dashicon, Popover, Button } = wp.components;\nconst { Fragment } = wp.element;\n\nconst AddComponent = (props) => {\n  const [visible, setVisible] = useState(false);\n\n  const addItem = (item, row, column) => {\n    const { setList, list } = props;\n\n    setVisible(false);\n\n    let updateItems = list;\n    updateItems.push({\n      id: item,\n    });\n    setList(updateItems);\n  };\n\n  const { controlParams, location, choices, row, column, id } = props;\n\n  const renderItems = (item, row, column) => {\n    let available = true;\n    controlParams.rows.map((zone) => {\n      Object.keys(props.settings[zone]).map((area) => {\n        if (props.settings[zone][area].includes(item)) {\n          available = false;\n        }\n      });\n    });\n\n    let itemIncludesMenu = item.includes(\"menu\");\n    let itemIncludesToggle = item.includes(\"toggle\");\n    if (\n      \"popup\" === row &&\n      ((itemIncludesMenu && \"offcanvas-menu\" !== item) || itemIncludesToggle)\n    ) {\n      available = false;\n    }\n\n    if (\"popup\" !== row && \"offcanvas-menu\" === item) {\n      available = false;\n    }\n\n    return (\n      <Fragment key={item}>\n        {available && (\n          <Button\n            isTertiary\n            className={\"builder-add-btn\"}\n            onClick={() => {\n              addItem(item, props.row, props.column);\n            }}\n          >\n            <span className=\"add-btn-icon\">\n              {\" \"}\n              <Dashicon\n                icon={\n                  undefined !== choices[item] &&\n                    undefined !== choices[item].icon\n                    ? choices[item].icon\n                    : \"\"\n                }\n              />{\" \"}\n            </span>\n            <span className=\"add-btn-title\">\n              {undefined !== choices[item] && undefined !== choices[item].name\n                ? choices[item].name\n                : \"\"}\n            </span>\n          </Button>\n        )}\n      </Fragment>\n    );\n  };\n\n  const toggleClose = () => {\n    if (visible === true) {\n      setVisible(false);\n    }\n  };\n\n  return (\n    <div\n      className={classnames(\n        \"kmt-builder-add-item\",\n        (\"header-desktop-items\" === controlParams.group ||\n          \"kemet-settings[footer-desktop-items]\" === controlParams.group) &&\n          \"right\" === location\n          ? \"center-on-left\"\n          : null,\n        (\"header-desktop-items\" === controlParams.group ||\n          \"kemet-settings[footer-desktop-items]\" === controlParams.group) &&\n          \"left\" === location\n          ? \"center-on-right\"\n          : null,\n        (\"header-desktop-items\" === controlParams.group ||\n          \"kemet-settings[footer-desktop-items]\" === controlParams.group) &&\n          \"left_center\" === location\n          ? \"right-center-on-right\"\n          : null,\n        (\"header-desktop-items\" === controlParams.group ||\n          \"kemet-settings[footer-desktop-items]\" === controlParams.group) &&\n          \"right_center\" === location\n          ? \"left-center-on-left\"\n          : null\n      )}\n      key={id}\n    >\n      {visible && (\n        <Popover\n          position=\"top\"\n          className=\"kmt-popover-add-builder\"\n          onClose={toggleClose}\n        >\n          <div className=\"kmt-popover-builder-list\">\n            <ButtonGroup className=\"kmt-radio-container-control\">\n              {Object.keys(choices)\n                .sort()\n                .map((item) => {\n                  return renderItems(item, row, column);\n                })}\n            </ButtonGroup>\n          </div>\n        </Popover>\n      )}\n      <Button\n        className=\"kmt-builder-item-add-icon\"\n        onClick={() => {\n          setVisible(true);\n        }}\n      ></Button>\n    </div>\n  );\n};\n\nexport default React.memo(AddComponent);\n","import PropTypes from \"prop-types\";\nimport RowComponent from \"./row-component\";\nimport { Fragment, useState, useEffect } from \"react\";\nimport { getSettingId } from '../../options/options-component'\n\nconst BuilderComponent = (props) => {\n  let value = props.value;\n  let staleValue = {};\n  let baseDefault = {};\n  let defaultValue = props.params.default\n    ? {\n      ...baseDefault,\n      ...props.params.default,\n    }\n    : baseDefault;\n\n  value = value\n    ? {\n      ...defaultValue,\n      ...value,\n    }\n    : defaultValue;\n\n  let defaultParams = {};\n\n  let controlParams = props.params.input_attrs\n    ? {\n      ...defaultParams,\n      ...props.params.input_attrs,\n    }\n    : defaultParams;\n\n  let choices = props.params.choices\n    ? props.params.choices\n    : [];\n\n  let columns = controlParams.columns ? controlParams.columns : [];\n  let layouts = controlParams.layouts ? controlParams.layouts : [];\n\n  const prevItems = [];\n\n  const [state, setState] = useState({\n    value: value,\n    columns: columns,\n    isPopup: false,\n    revertDrag: false,\n    prevItems: prevItems,\n    layout: layouts\n  });\n  let enablePopup = false;\n\n  if (\n    \"header-desktop-items\" === controlParams.group ||\n    \"header-mobile-items\" === controlParams.group\n  ) {\n    staleValue = JSON.parse(JSON.stringify(state.value));\n  }\n  const updateValues = (value, row) => {\n    let setting = props.control;\n    if (\"popup\" === row) {\n      let header =\n        \"header-desktop-items\" === controlParams.group ? \"desktop\" : \"mobile\",\n        rowSetting = KemetCustomizerData.setting.replace(\n          \"setting_name\",\n          \"header-\" + header + \"-popup-items\"\n        ),\n        popup_control = props.customizer(rowSetting);\n      popup_control.set(!popup_control.get());\n    }\n    props.onChange({ ...setting.get(), ...value, flag: !setting.get().flag });\n  };\n  const onDragStart = () => {\n    let dragZones = document.querySelectorAll(\".kmt-builder-area\");\n\n    for (let i = 0; i < dragZones.length; i++) {\n      dragZones[i].classList.add(\"kmt-dragging-dropzones\");\n    }\n  };\n  const onDragStop = () => {\n    if (state.revertDrag) {\n      let controlValue = state.value;\n      let prevValue = state.prevItems.value;\n      let prevRestrictValue = state.prevItems.restrictValue;\n      controlValue[state.prevItems.row][state.prevItems.zone] = prevValue;\n      controlValue[state.prevItems.restrictRow][\n        state.prevItems.restrictZone\n      ] = prevRestrictValue;\n\n      setState((prevState) => ({\n        ...prevState,\n        value: controlValue,\n        revertDrag: false,\n      }));\n      checkPopupVisibilty(true);\n      updateValues(controlValue, state.prevItems.row);\n    }\n    let dragZones = document.querySelectorAll(\".kmt-builder-area\");\n\n    for (let i = 0; i < dragZones.length; i++) {\n      dragZones[i].classList.remove(\"kmt-dragging-dropzones\");\n    }\n\n    checkPopupVisibilty(true);\n  };\n\n  const setPreviousItems = (item, restrictRow, restrictZone) => {\n    let prevITems = [];\n    for (const [rowKey, value] of Object.entries(staleValue)) {\n      for (const [zoneKey, zoneValue] of Object.entries(value)) {\n        for (let zoneItem of zoneValue) {\n          if (zoneItem === item.id) {\n            prevITems[\"zone\"] = zoneKey;\n            prevITems[\"row\"] = rowKey;\n            prevITems[\"value\"] = staleValue[rowKey][zoneKey];\n            prevITems[\"restrictRow\"] = restrictRow;\n            prevITems[\"restrictZone\"] = restrictZone;\n            prevITems[\"restrictValue\"] = staleValue[restrictRow][restrictZone];\n            setState((prevState) => ({\n              ...prevState,\n              revertDrag: true,\n              prevItems: prevITems,\n            }));\n          }\n        }\n      }\n    }\n  };\n  const draggedItem = (item) => {\n    let dragged = false;\n    if (\n      \"header-desktop-items\" === controlParams.group ||\n      \"header-mobile-items\" === controlParams.group\n    ) {\n      controlParams.rows.map((row) => {\n        if (inObject(staleValue[row], item)) {\n          dragged = true;\n        }\n      });\n    }\n\n    return dragged;\n  };\n  const onDragEnd = (row, zone, items) => {\n    let controlValue = state.value;\n    let rowValue = controlValue[row];\n    let updateItems = [];\n    let dragged = true;\n    let revertDrag = false;\n    {\n      items.length > 0 &&\n        items.map((item) => {\n          const itemIncludesMenu = item.id.includes(\"menu\");\n          const itemIncludesToggle = item.id.includes(\"toggle\");\n\n          if (\n            (\"popup\" === row &&\n              itemIncludesMenu &&\n              \"offcanvas-menu\" !== item.id) ||\n            (\"popup\" === row && itemIncludesToggle) ||\n            (\"popup\" !== row && \"offcanvas-menu\" === item.id)\n          ) {\n            if (!draggedItem(item.id)) {\n              dragged = false;\n              revertDrag = true;\n            } else {\n              setPreviousItems(item, row, zone);\n            }\n          }\n\n          updateItems.push(item.id);\n        });\n    }\n    if (!dragged && revertDrag) {\n      updateItems = rowValue[zone];\n    }\n    if (!arraysEqual(rowValue[zone], updateItems)) {\n      rowValue[zone] = updateItems;\n      controlValue[row][zone] = updateItems;\n\n      if (\n        \"header-desktop-items\" === controlParams.group &&\n        row + \"_center\" === zone &&\n        updateItems.length === 0\n      ) {\n        if (rowValue[row + \"_left_center\"].length > 0) {\n          rowValue[row + \"_left_center\"].map((move) => {\n            controlValue[row][row + \"_left\"].push(move);\n          });\n          controlValue[row][row + \"_left_center\"] = [];\n        }\n\n        if (rowValue[row + \"_right_center\"].length > 0) {\n          rowValue[row + \"_right_center\"].map((move) => {\n            controlValue[row][row + \"_right\"].push(move);\n          });\n          controlValue[row][row + \"_right_center\"] = [];\n        }\n      }\n      checkPopupVisibilty(true);\n      setState((prevState) => ({\n        ...prevState,\n        value: controlValue,\n      }));\n\n      updateValues(controlValue, row);\n    }\n  };\n\n  const onAddItem = (row, zone, items) => {\n    onDragEnd(row, zone, items);\n    let event = new CustomEvent(\"KemetBuilderRemovedBuilderItem\", {\n      detail: controlParams.group,\n    });\n    document.dispatchEvent(event);\n  };\n  const arraysEqual = (a, b) => {\n    if (a === b) return true;\n    if (a == null || b == null) return false;\n    if (a.length != b.length) return false;\n    for (var i = 0; i < a.length; ++i) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  };\n  const removeItem = (item, row, zone) => {\n    let updateState = state.value;\n    let update = updateState[row];\n    let updateItems = [];\n    {\n      update[zone].length > 0 &&\n        update[zone].map((old) => {\n          if (item !== old) {\n            updateItems.push(old);\n          }\n        });\n    }\n\n    if (\n      \"header-desktop-items\" === controlParams.group &&\n      row + \"_center\" === zone &&\n      updateItems.length === 0\n    ) {\n      if (update[row + \"_left_center\"].length > 0) {\n        update[row + \"_left_center\"].map((move) => {\n          updateState[row][row + \"_left\"].push(move);\n        });\n        updateState[row][row + \"_left_center\"] = [];\n      }\n\n      if (update[row + \"_right_center\"].length > 0) {\n        update[row + \"_right_center\"].map((move) => {\n          updateState[row][row + \"_right\"].push(move);\n        });\n        updateState[row][row + \"_right_center\"] = [];\n      }\n    }\n\n    update[zone] = updateItems;\n    updateState[row][zone] = updateItems;\n\n    checkPopupVisibilty(true);\n\n    setState((prevState) => ({\n      ...prevState,\n      value: updateState,\n    }));\n\n    updateValues(updateState, row);\n    let event = new CustomEvent(\"KemetBuilderRemovedBuilderItem\", {\n      detail: controlParams.group,\n    });\n    document.dispatchEvent(event);\n  };\n\n  const focusSection = (item) => {\n    if (undefined !== wp.customize.section(item)) {\n      wp.customize.section(item).focus();\n    }\n  };\n  const checkPopupVisibilty = (refresh) => {\n    let hasPopup = false;\n    if (\"header-mobile-items\" === controlParams.group) {\n      controlParams.rows.map((row) => {\n        if (inObject(state.value[row], \"mobile-toggle\")) {\n          hasPopup = true;\n        }\n      });\n    }\n    if (\"header-desktop-items\" === controlParams.group) {\n      controlParams.rows.map((row) => {\n        if (inObject(state.value[row], \"desktop-toggle\")) {\n          hasPopup = true;\n        }\n      });\n    }\n    if (refresh) {\n      setState((prevState) => ({\n        ...prevState,\n        isPopup: hasPopup,\n      }));\n    }\n\n    enablePopup = hasPopup;\n  };\n  const inObject = (object, search) => {\n    if (\"object\" === typeof object && null !== object) {\n      for (const [key, value] of Object.entries(object)) {\n        if (value.includes(search)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  const updateRowLayout = () => {\n    document.addEventListener('KemetUpdateFooterColumns', function (e) {\n\n      if (\"footer-items\" !== controlParams.group) {\n        return;\n      }\n\n      if ('' === e.detail) {\n        return;\n      }\n\n      let newParams = controlParams;\n\n      if (newParams.layouts[e.detail] !== undefined) {\n        newParams.layouts[e.detail] = wp.customize(getSettingId(e.detail + '-footer-layout')).get()\n        newParams.columns[e.detail] = wp.customize(getSettingId(e.detail + '-footer-columns')).get()\n\n        setState(prevState => ({\n          ...prevState,\n          layout: newParams.layouts,\n          columns: newParams.columns\n        }));\n\n        updateValues(newParams);\n      }\n    });\n  };\n  useEffect(() => {\n    updateRowLayout();\n  }, [])\n  checkPopupVisibilty(false);\n\n  return (\n    <Fragment>\n      <div className=\"kmt-control-field kmt-builder-items\">\n        {(true === state.isPopup || true === enablePopup) && (\n          <RowComponent\n            key={\"popup\"}\n            row={\"popup\"}\n            items={state.value[\"popup\"]}\n            removeItem={(remove, row, zone) => removeItem(remove, row, zone)}\n            showDrop={() => onDragStart()}\n            onUpdate={(updateRow, updateZone, updateItems) =>\n              onDragEnd(updateRow, updateZone, updateItems)\n            }\n            onAddItem={(updateRow, updateZone, updateItems) =>\n              onAddItem(updateRow, updateZone, updateItems)\n            }\n            focusSection={(item) => focusSection(item)}\n            hideDrop={() => onDragStop()}\n            controlParams={controlParams}\n            choices={choices}\n            settings={state.value}\n            columns={state.columns[\"popup\"]}\n            layout={state.layout[\"popup\"]}\n            customizer={props.customizer}\n          />\n        )}\n        <div className=\"kmt-builder-row-items\">\n          {controlParams.rows.map((row) => {\n            if (\"popup\" === row) {\n              return;\n            }\n            return (\n              <RowComponent\n                removeItem={(remove, row, zone) =>\n                  removeItem(remove, row, zone)\n                }\n                key={row}\n                row={row}\n                showDrop={() => onDragStart()}\n                onUpdate={(updateRow, updateZone, updateItems) =>\n                  onDragEnd(updateRow, updateZone, updateItems)\n                }\n                onAddItem={(updateRow, updateZone, updateItems) =>\n                  onAddItem(updateRow, updateZone, updateItems)\n                }\n                focusSection={(item) => focusSection(item)}\n                hideDrop={() => onDragStop()}\n                items={state.value[row]}\n                controlParams={controlParams}\n                choices={choices}\n                settings={state.value}\n                columns={state.columns[row]}\n                customizer={props.customizer}\n                layout={state.layout[row]}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default React.memo(BuilderComponent);\n","import { ReactSortable } from \"react-sortablejs\";\nimport ItemComponent from \"./item-component\";\nimport AddComponent from \"./add-component\";\nconst { Fragment } = wp.element;\n\nconst DropComponent = (props) => {\n  const location = props.zone.replace(props.row + \"_\", \"\");\n  let currentList =\n    typeof props.items != \"undefined\" &&\n    props.items != null &&\n    props.items.length != null &&\n    props.items.length > 0\n      ? props.items\n      : [];\n  let choices = props.choices,\n    filterChoices = Object.keys(choices),\n    theItems = [];\n  {\n    const sortList = [...currentList];\n    currentList.length > 0 &&\n      currentList.map((item, key) => {\n        if (filterChoices.includes(item)) {\n          theItems.push({\n            id: item,\n          });\n        } else {\n          sortList.splice(sortList.indexOf(item), 1);\n        }\n      });\n    currentList = sortList;\n  }\n  let currentCenterList =\n    typeof props.centerItems != \"undefined\" &&\n    props.centerItems != null &&\n    props.centerItems.length != null &&\n    props.centerItems.length > 0\n      ? props.centerItems\n      : [];\n  let theCenterItems = [];\n  {\n    let sortCurrentCenterList = [...currentCenterList];\n    currentCenterList.length > 0 &&\n      currentCenterList.map((item, key) => {\n        if (filterChoices.includes(item)) {\n          theCenterItems.push({\n            id: item,\n          });\n        } else {\n          sortCurrentCenterList.splice(sortCurrentCenterList.indexOf(item), 1);\n        }\n      });\n    currentCenterList = sortCurrentCenterList;\n  }\n  const addSortable = (items, list, listLocation) => {\n    let id = listLocation.replace(\"_\", \"-\");\n    return (\n      <Fragment>\n        <ReactSortable\n          animation={100}\n          onStart={() => props.showDrop()}\n          group={props.controlParams.group}\n          className={`kmt-builder-drop kmt-builder-sortable-panel kmt-builder-drop-${\n            location + id\n          }`}\n          list={items}\n          setList={(newState) =>\n            props.onUpdate(props.row, props.zone + listLocation, newState)\n          }\n          onEnd={() => props.hideDrop()}\n        >\n          {list.length > 0 &&\n            list.map((item, index) => {\n              return (\n                <ItemComponent\n                  removeItem={(remove) =>\n                    props.removeItem(\n                      remove,\n                      props.row,\n                      props.zone + listLocation\n                    )\n                  }\n                  focusSection={(focus) => props.focusSection(focus)}\n                  key={item}\n                  index={index}\n                  item={item}\n                  controlParams={props.controlParams}\n                  choices={props.choices}\n                />\n              );\n            })}\n        </ReactSortable>\n        <AddComponent\n          row={props.row}\n          list={items}\n          settings={props.settings}\n          column={props.zone + listLocation}\n          setList={(newState) =>\n            props.onAddItem(props.row, props.zone + listLocation, newState)\n          }\n          key={location}\n          location={location + listLocation}\n          id={\"add\" + id + \"-\" + location}\n          controlParams={props.controlParams}\n          choices={props.choices}\n        />\n      </Fragment>\n    );\n  };\n\n  return (\n    <div\n      className={`kmt-builder-area kmt-builder-area-${location}`}\n      data-location={props.zone}\n    >\n      {\"header-desktop-items\" === props.controlParams.group &&\n        location == \"right\" &&\n        addSortable(theCenterItems, currentCenterList, \"_center\")}\n      {addSortable(theItems, currentList, \"\")}\n      {\"header-desktop-items\" === props.controlParams.group &&\n        location == \"left\" &&\n        addSortable(theCenterItems, currentCenterList, \"_center\")}\n    </div>\n  );\n};\n\nexport default React.memo(DropComponent);\n","const { Dashicon, Button } = wp.components;\nconst { __ } = wp.i18n;\n\nconst ItemComponent = ({ item, choices, removeItem, focusSection }) => {\n  return (\n    <div\n      className=\"kmt-builder-item\"\n      data-id={item}\n      data-section={\n        undefined !== choices[item] && undefined !== choices[item].section\n          ? choices[item].section\n          : \"\"\n      }\n      key={item}\n    >\n      <div\n        className=\"kmt-builder-item-actions\"\n        onClick={() => {\n          focusSection(\n            undefined !== choices[item] && undefined !== choices[item].section\n              ? choices[item].section\n              : \"\"\n          );\n        }}\n      >\n        <span className=\"kmt-builder-item-icon kmt-move-icon\">\n          <Dashicon icon=\"move\" />\n        </span>\n        <span className=\"kmt-builder-item-text\">\n          {undefined !== choices[item] && undefined !== choices[item].name\n            ? choices[item].name\n            : \"\"}\n        </span>\n        <Button\n          className=\"kmt-builder-item-focus-icon kmt-builder-item-icon\"\n          aria-label={\n            __(\"Settings for\", \"kemet\") +\n            \" \" +\n            (undefined !== choices[item] && undefined !== choices[item].name\n              ? choices[item].name\n              : \"\")\n          }\n        >\n          <Dashicon icon=\"admin-generic\" />\n        </Button>\n      </div>\n      {KemetCustomizerData.has_widget_editor && item.includes('widget') && <Button\n        className=\"kmt-builder-item-focus-icon kmt-builder-item-icon\"\n        aria-label={\n          __(\"Design for\", \"kemet\") +\n          \" \" +\n          (undefined !== choices[item] && undefined !== choices[item].name\n            ? choices[item].name\n            : \"\")\n        }\n        onClick={() => {\n          focusSection(\n            undefined !== choices[item] && undefined !== choices[item].section\n              ? 'kemet-' + choices[item].section\n              : \"\"\n          );\n        }}\n      >\n        <Dashicon icon=\"admin-appearance\" />\n      </Button>}\n      <Button\n        className=\"kmt-builder-item-icon\"\n        aria-label={\n          __(\"Remove\", \"kemet\") +\n          \" \" +\n          (undefined !== choices[item] && undefined !== choices[item].name\n            ? choices[item].name\n            : \"\")\n        }\n        onClick={() => {\n          removeItem(item);\n        }}\n      >\n        <Dashicon icon=\"no-alt\" />\n      </Button>\n    </div>\n  );\n};\nexport default React.memo(ItemComponent);\n","import DropComponent from \"./drop-component\";\n\nconst { __ } = wp.i18n;\nconst { Dashicon, Button } = wp.components;\n\nconst RowComponent = (props) => {\n  let centerClass = \"\";\n  let mode =\n    props.controlParams.group.indexOf(\"header\") !== -1 ? \"header\" : \"footer\";\n  let besideItems = [];\n  let layout = \"\";\n  let zone_count = 0;\n  let enableRow = true;\n  let section = \"section-\" + props.row + \"-\" + mode + \"-builder\";\n  if (\"header\" === mode) {\n    switch (props.row) {\n      case \"popup\":\n        let device =\n          \"header-desktop-items\" === props.controlParams.group\n            ? \"desktop\"\n            : \"mobile\";\n        section = \"section-\" + device + \"-popup-header-builder\";\n        break;\n    }\n  }\n  if (\"footer\" === mode) {\n    layout = `footer-row-columns-${props.columns} footer-row-layout-${props.layout.desktop}`;\n    zone_count = props.columns - 1;\n    Object.keys(props.controlParams.zones[props.row]).map((zone, index) => {\n      if (zone_count < index) {\n        props.items[zone] = [];\n      }\n    });\n  }\n  if (\n    \"header-desktop-items\" === props.controlParams.group &&\n    typeof props.items[props.row + \"_center\"] != \"undefined\" &&\n    props.items[props.row + \"_center\"] != null &&\n    props.items[props.row + \"_center\"].length != null &&\n    props.items[props.row + \"_center\"].length > 0\n  ) {\n    centerClass = \"has-center-items\";\n  } else {\n    if (\"header-desktop-items\" === props.controlParams.group) {\n      centerClass = \"no-center-items\";\n    }\n  }\n\n  if (\"popup\" === props.row) {\n    centerClass = \"popup-vertical-group\";\n  }\n\n  return (\n    <div\n      className={`kmt-builder-areas kmt-builder-mode-${mode} ${centerClass}`}\n      data-row={props.row}\n      data-row-section={\"section-\" + props.row + \"-\" + mode + \"-builder\"}\n    >\n      {props.row === \"popup\" && (\n        <Button\n          className=\"kmt-fixed-row-actions\"\n          title={__(\"Off Canvas\", \"kemet\")}\n          onClick={() => props.focusSection(section)}\n        >\n          <Dashicon icon=\"admin-generic\" />\n          {__(\"Off Canvas\", \"kemet\")}\n        </Button>\n      )}\n      {props.row !== \"popup\" && (\n        <Button\n          className=\"kmt-fixed-row-actions\"\n          title={\n            (props.row + \" \" + mode).charAt(0).toUpperCase() +\n            (props.row + \" \" + mode).slice(1).toLowerCase()\n          }\n          onClick={() => props.focusSection(section)}\n        >\n          <Dashicon icon=\"admin-generic\" />\n          {(props.row + \" \" + mode).charAt(0).toUpperCase() +\n            (props.row + \" \" + mode).slice(1).toLowerCase()}\n        </Button>\n      )}\n\n      <div\n        className={`kmt-builder-group kmt-builder-group-horizontal ${layout}`}\n        data-setting={props.row}\n      >\n        {Object.keys(props.controlParams.zones[props.row]).map(\n          (zone, index) => {\n            if ('footer' === mode && zone_count < index) {\n              return;\n            }\n            if (\n              props.row + \"_left_center\" === zone ||\n              props.row + \"_right_center\" === zone\n            ) {\n              return;\n            }\n            if (\n              \"header-desktop-items\" === props.controlParams.group &&\n              props.row + \"_left\" === zone\n            ) {\n              besideItems = props.items[props.row + \"_left_center\"];\n            }\n            if (\n              \"header-desktop-items\" === props.controlParams.group &&\n              props.row + \"_right\" === zone\n            ) {\n              besideItems = props.items[props.row + \"_right_center\"];\n            }\n            return (\n              <DropComponent\n                removeItem={(remove, removeRow, removeZone) =>\n                  props.removeItem(remove, removeRow, removeZone)\n                }\n                showDrop={() => props.showDrop()}\n                onUpdate={(updateRow, updateZone, updateItems) =>\n                  props.onUpdate(updateRow, updateZone, updateItems)\n                }\n                zone={zone}\n                row={props.row}\n                choices={props.choices}\n                key={zone}\n                mode={mode}\n                items={props.items[zone]}\n                centerItems={besideItems}\n                controlParams={props.controlParams}\n                onAddItem={(updateRow, updateZone, updateItems) =>\n                  props.onAddItem(updateRow, updateZone, updateItems)\n                }\n                hideDrop={() => props.hideDrop()}\n                settings={props.settings}\n                focusSection={(focus) => props.focusSection(focus)}\n              />\n            );\n          }\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(RowComponent);\n","import PropTypes from \"prop-types\";\nimport { Fragment, useState } from \"react\";\nimport Responsive from '../common/responsive'\n\nconst { __ } = wp.i18n;\nconst { ButtonGroup, Dashicon, Tooltip, Button } = wp.components;\n\nconst RadioComponent = (props) => {\n    let value = props.value;\n\n    const [state, setState] = useState({\n        value\n    });\n    const [device, setDevice] = useState('desktop');\n\n    const HandleChange = (value) => {\n\n        props.onChange(value);\n\n        if (props.id.includes('footer-columns')) {\n            let row = props.id.replace('-footer-columns', '');\n            let event = new CustomEvent(\n                'KemetUpdateFooterColumns', {\n                'detail': row,\n            });\n            document.dispatchEvent(event);\n        }\n\n        setState((prevState) => ({\n            ...prevState,\n            value,\n        }));\n    };\n\n    const {\n        label,\n        name,\n        choices,\n        responsive\n    } = props.params;\n\n    const renderButtons = () => {\n        let currentChoices = responsive ? choices[device] : choices\n        return <Fragment>\n            {Object.keys(currentChoices).map((choice) => {\n                const currentValue = responsive ? state.value[device] : state.value\n                return <Button\n                    isTertiary\n                    className={choice === currentValue ? 'active-radio' : ''}\n                    onClick={() => {\n                        let newValue = state.value\n                        if (responsive) {\n                            newValue[device] = choice;\n                        } else {\n                            newValue = choice;\n                        }\n                        HandleChange(newValue)\n                    }}\n                >\n                    {currentChoices[choice]}\n                </Button>\n            })}\n        </Fragment>\n    }\n    return <Fragment>\n        {responsive ? <Responsive\n            onChange={(currentDevice) => setDevice({ currentDevice })}\n            label={label}\n        /> : <span className=\"customize-control-title\">{label}</span>}\n        <ButtonGroup className=\"kmt-radio-container-control\">\n            {renderButtons()}\n        </ButtonGroup>\n    </Fragment>\n}\n\nRadioComponent.propTypes = {\n    control: PropTypes.object.isRequired,\n    customizer: PropTypes.func.isRequired,\n};\n\nexport default React.memo(RadioComponent);","import PropTypes from \"prop-types\";\nimport { Fragment, useState, useEffect } from \"react\";\nimport Responsive from '../common/responsive'\nimport { getSettingId } from '../options/options-component'\n\nconst { __ } = wp.i18n;\nconst { ButtonGroup, Dashicon, Tooltip, Button } = wp.components;\n\nconst RowLayoutComponent = (props) => {\n    let defaultParams = {\n        desktop: {\n            '5': {\n                'equal': {\n                    tooltip: __('Equal Width Columns', 'kemet'),\n                    icon: 'fivecol',\n                },\n                'left-five-forty': {\n                    tooltip: __('Left Heavy 40/15/15/15/15', 'kemet'),\n                    icon: 'lfiveforty',\n                },\n                'center-five-forty': {\n                    tooltip: __('Center Heavy 15/15/40/15/15', 'kemet'),\n                    icon: 'cfiveforty',\n                },\n                'right-five-forty': {\n                    tooltip: __('Right Heavy 15/15/15/15/40', 'kemet'),\n                    icon: 'rfiveforty',\n                },\n            },\n            '4': {\n                'equal': {\n                    tooltip: __('Equal Width Columns', 'kemet'),\n                    icon: 'fourcol',\n                },\n                'left-forty': {\n                    tooltip: __('Left Heavy 40/20/20/20', 'kemet'),\n                    icon: 'lfourforty',\n                },\n                'center-forty': {\n                    tooltip: __('Center Heavy 10/40/40/10', 'kemet'),\n                    icon: 'cfourforty',\n                },\n                'right-forty': {\n                    tooltip: __('Right Heavy 20/20/20/40', 'kemet'),\n                    icon: 'rfourforty',\n                },\n            },\n            '3': {\n                'equal': {\n                    tooltip: __('Equal Width Columns', 'kemet'),\n                    icon: 'threecol',\n                },\n                'left-half': {\n                    tooltip: __('Left Heavy 50/25/25', 'kemet'),\n                    icon: 'lefthalf',\n                },\n                'right-half': {\n                    tooltip: __('Right Heavy 25/25/50', 'kemet'),\n                    icon: 'righthalf',\n                },\n                'center-half': {\n                    tooltip: __('Center Heavy 25/50/25', 'kemet'),\n                    icon: 'centerhalf',\n                },\n                'center-wide': {\n                    tooltip: __('Wide Center 20/60/20', 'kemet'),\n                    icon: 'widecenter',\n                },\n            },\n            '2': {\n                'equal': {\n                    tooltip: __('Equal Width Columns', 'kemet'),\n                    icon: 'twocol',\n                },\n                'left-golden': {\n                    tooltip: __('Left Heavy 66/33', 'kemet'),\n                    icon: 'twoleftgolden',\n                },\n                'right-golden': {\n                    tooltip: __('Right Heavy 33/66', 'kemet'),\n                    icon: 'tworightgolden',\n                },\n            },\n            '1': {\n                'row': {\n                    tooltip: __('Equal Width Columns', 'kemet'),\n                    icon: 'row',\n                },\n            }\n        },\n        mobile: {\n            '5': {\n                'equal': {\n                    tooltip: __('Equal Width Columns', 'kemet'),\n                    icon: 'fivecol',\n                },\n                'row': {\n                    tooltip: __('Collapse to Rows', 'kemet'),\n                    icon: 'collapserowfive',\n                },\n            },\n            '4': {\n                'equal': {\n                    tooltip: __('Equal Width Columns', 'kemet'),\n                    icon: 'fourcol',\n                },\n                'two-grid': {\n                    tooltip: __('Two Column Grid', 'kemet'),\n                    icon: 'grid',\n                },\n                'row': {\n                    tooltip: __('Collapse to Rows', 'kemet'),\n                    icon: 'collapserowfour',\n                },\n            },\n            '3': {\n                'equal': {\n                    tooltip: __('Equal Width Columns', 'kemet'),\n                    icon: 'threecol',\n                },\n                'left-half': {\n                    tooltip: __('Left Heavy 50/25/25', 'kemet'),\n                    icon: 'lefthalf',\n                },\n                'right-half': {\n                    tooltip: __('Right Heavy 25/25/50', 'kemet'),\n                    icon: 'righthalf',\n                },\n                'center-half': {\n                    tooltip: __('Center Heavy 25/50/25', 'kemet'),\n                    icon: 'centerhalf',\n                },\n                'center-wide': {\n                    tooltip: __('Wide Center 20/60/20', 'kemet'),\n                    icon: 'widecenter',\n                },\n                'first-row': {\n                    tooltip: __('First Row, Next Columns 100 - 50/50', 'kemet'),\n                    icon: 'firstrow',\n                },\n                'last-row': {\n                    tooltip: __('Last Row, Previous Columns 50/50 - 100', 'kemet'),\n                    icon: 'lastrow',\n                },\n                'row': {\n                    tooltip: __('Collapse to Rows', 'kemet'),\n                    icon: 'collapserowthree',\n                },\n            },\n            '2': {\n                'equal': {\n                    tooltip: __('Equal Width Columns', 'kemet'),\n                    icon: 'twocol',\n                },\n                'left-golden': {\n                    tooltip: __('Left Heavy 66/33', 'kemet'),\n                    icon: 'twoleftgolden',\n                },\n                'right-golden': {\n                    tooltip: __('Right Heavy 33/66', 'kemet'),\n                    icon: 'tworightgolden',\n                },\n                'row': {\n                    tooltip: __('Collapse to Rows', 'kemet'),\n                    icon: 'collapserow',\n                },\n            },\n            '1': {\n                'row': {\n                    tooltip: __('Single Row', 'kemet'),\n                    icon: 'row',\n                },\n            }\n        },\n    };\n    const {\n        label,\n        row\n    } = props.params;\n    const columns = parseInt(wp.customize(getSettingId(row + '-footer-columns')).get(), 10);\n    const layouts = props.params.layouts ? props.params.layouts : defaultParams;\n    let defaultValue = {\n        'desktop': '',\n        'tablet': '',\n        'mobile': '',\n    }\n    let value = props.value ? props.value : defaultValue;\n\n    const [state, setState] = useState({\n        value,\n        columns\n    });\n    const [device, setDevice] = useState('desktop');\n    const HandleChange = (value) => {\n        props.onChange(value);\n\n        let event = new CustomEvent(\"KemetUpdateFooterColumns\", {\n            detail: row,\n        });\n        document.dispatchEvent(event);\n\n        setState((prevState) => ({\n            ...prevState,\n            value,\n        }));\n    };\n\n    const onFooterUpdate = () => {\n        const newColumns = parseInt(wp.customize(getSettingId(row + '-footer-columns')).get(), 10);\n\n        if (state.columns !== newColumns) {\n            setState((prevState) => ({\n                ...prevState,\n                columns: newColumns\n            }));\n\n            let value = state.value;\n            if (newColumns === 1) {\n                value.desktop = 'row';\n            } else {\n                value.desktop = 'equal';\n            }\n            value.tablet = '';\n            value.mobile = 'row';\n\n            debounce(() => {\n                HandleChange(value);\n            }, 200);\n        }\n    }\n\n    const debounce = (fn, delay) => {\n        var timer = null;\n        return function () {\n            var context = this,\n                args = arguments;\n            clearTimeout(timer);\n            timer = setTimeout(function () {\n                fn.apply(context, args);\n            }, delay);\n        };\n    }\n\n    const linkColumns = () => {\n        document.addEventListener('KemetUpdateFooterColumns', function (e) {\n            if (e.detail === row) {\n                onFooterUpdate();\n            }\n        });\n    }\n\n    linkColumns();\n\n    const controlMap = device === 'mobile' || device === 'tablet' ? layouts['mobile'][columns] : layouts[device][columns];\n\n    return <Fragment>\n        <Responsive\n            onChange={(currentDevice) => setDevice(currentDevice)}\n            label={label}\n        />\n        <ButtonGroup className=\"kmt-radio-container-control\">\n            {Object.keys(controlMap).map((item) => {\n                const currentValue = state.value[device] ? state.value[device] : '';\n\n                return <Tooltip text={controlMap[item].tooltip}>\n                    <Button\n                        isTertiary\n                        className={item === currentValue ? 'active-radio' : ''}\n                        onClick={() => {\n                            let newValue = { ...state.value }\n                            newValue[device] = item;\n                            HandleChange(newValue)\n                        }}\n                    >\n                        {item}\n                    </Button>\n                </Tooltip>\n            })}\n        </ButtonGroup>\n    </Fragment>\n}\n\nRowLayoutComponent.propTypes = {\n    control: PropTypes.object.isRequired,\n    customizer: PropTypes.func.isRequired,\n};\n\nexport default React.memo(RowLayoutComponent);","import PropTypes from 'prop-types';\nimport { useState } from 'react';\n\n\nconst SelectComponent = props => {\n\n    const [props_value, setPropsValue] = useState(props.value);\n\n    const HandleChange = (value) => {\n        setPropsValue(value);\n        props.onChange(value);\n    };\n\n    const {\n        label,\n        name,\n        choices\n    } = props.params;\n\n\n\n\n    let labelContent = label ? <span className=\"customize-control-title\">{label}</span> : null;\n\n\n    let optionsHtml = Object.entries(choices).map(key => {\n        let html = <option key={key[0]} value={key[0]}>{key[1]}</option>;\n        return html;\n    });\n\n    return <>\n        {labelContent}\n        <div className=\"customize-control-content\">\n            <select className=\"kmt-select-input\" data-name={name} data-value={props_value} value={props_value}\n                onChange={() => {\n                    HandleChange(event.target.value);\n                }}>\n                {optionsHtml}\n            </select>\n        </div>\n    </>;\n\n};\n\nSelectComponent.propTypes = {\n    control: PropTypes.object.isRequired\n};\n\nexport default React.memo(SelectComponent);","import PropTypes from 'prop-types';\nimport Responsive from '../common/responsive';\n\nconst { Component, Fragment } = wp.element;\nclass ResponsiveSliderComponent extends Component {\n    constructor() {\n        super(...arguments);\n        this.unit_choices = this.props.params.unit_choices;\n        this.values = this.props.params.value;\n        this.responsive = this.props.params.responsive;\n        let value = this.props.value\n        this.defaultValue = this.props.params.default\n        let ResDefaultParam = {\n            \"desktop\": '',\n            \"desktop-unit\": 'px',\n            'tablet': '',\n            'tablet-unit': 'px',\n            'mobile': '',\n            'mobile-unit': ''\n        }\n        let defaultValue = {\n            value: '',\n            unit: 'px'\n        }\n        let defaultValues;\n        defaultValues = this.responsive ? ResDefaultParam : defaultValue;\n\n        let defaultVals = this.props.params.default\n            ? {\n                ...defaultValues,\n                ...this.props.params.default,\n            }\n            : defaultValues;\n\n        value = value\n            ? {\n                ...defaultVals,\n                ...value,\n            }\n            : defaultVals\n            ;\n\n        this.state = {\n            initialState: value,\n            currentDevice: 'desktop',\n            defaultVal: defaultVals,\n\n\n        }\n\n        this.updateValues = this.updateValues.bind(this)\n\n        this.handleUnitChange = this.handleUnitChange.bind(this)\n    }\n\n\n\n    updateValues(device, value) {\n        let updateState = {\n            ...this.state.initialState\n        };\n        if (this.responsive) {\n            updateState[device] = value;\n        } else {\n            updateState[`value`] = value;\n        }\n\n        this.props.onChange(updateState);\n        this.setState({ initialState: updateState });\n    }\n    handleUnitChange = (device, value) => {\n\n        let updateState = {\n            ...this.state.initialState\n        };\n        if (this.responsive) {\n            updateState[`${device}-unit`] = value;\n\n        } else {\n            updateState[`unit`] = value;\n        }\n        this.props.onChange(updateState);\n        this.setState({ initialState: updateState });\n    }\n    handleReset = (e) => {\n        e.preventDefault();\n        if (this.responsive) {\n            let defUnit = this.state.defaultVal[`${this.state.currentDevice}-unit`],\n                size = this.state.defaultVal[this.state.currentDevice];\n            let updateState = {\n                ...this.state.defaultVal\n            };\n            updateState[`${this.state.currentDevice}-unit`] = defUnit;\n            updateState[this.state.currentDevice] = size;\n            this.props.onChange(updateState);\n            this.setState({ initialState: updateState });\n        } else {\n            let defUnit = this.state.defaultVal[`unit`],\n                size = this.state.defaultVal[`value`];\n            let updateState = {\n                ...this.state.defaultVal\n            };\n            updateState[`unit`] = defUnit;\n            updateState[`value`] = size;\n            this.props.onChange(updateState);\n            this.setState({ initialState: updateState });\n        }\n    }\n\n    render() {\n\n\n        let { label, suffix, description } = this.props.params;\n\n        let suffixContent = suffix ? <span class=\"kmt-range-unit\">{suffix}</span> : null;\n        let descriptionContent = (description || description !== '') ? <span class=\"description customize-control-description\">{description}</span> : null;\n        let dataAttributes = ''\n        let units = [];\n        if (this.unit_choices) {\n            for (const [key, value] of Object.entries(this.unit_choices)) {\n                units.push(key)\n                if (this.responsive) {\n                    if (key == this.state.initialState[`${this.state.currentDevice}-unit`]) {\n                        dataAttributes = { min: value.min, max: value.max, step: value.step };\n                    }\n                } else {\n                    if (key == this.state.initialState[`unit`]) {\n                        dataAttributes = { min: value.min, max: value.max, step: value.step };\n                    }\n                }\n            }\n        }\n        let labelContent = this.responsive ? (\n            <Responsive\n                onChange={(currentDevice) => this.setState({ currentDevice })}\n                label={label}\n            />\n        ) : <span className=\"customize-control-title\">{label}</span>;\n        let unitHTML = units.map((unit) => {\n            let unit_class = '';\n            if (this.responsive) {\n                if (this.state.initialState[`${this.state.currentDevice}-unit`] === unit) {\n                    unit_class = 'active';\n                }\n            } else {\n                if (this.state.initialState[`unit`] === unit) {\n                    unit_class = 'active';\n                }\n            }\n\n            return (<li className={`single-unit ${unit_class}`} data-unit={unit}  >\n                <span className=\"unit-text\" onClick={value => this.handleUnitChange(this.state.currentDevice, unit)} >{`${unit}`}</span>\n            </li>)\n\n        })\n\n        let sliderValue = this.responsive ? this.state.initialState[this.state.currentDevice] : this.state.initialState[`value`]\n\n        return (\n            <label htmlFor=\"\">\n                {labelContent}\n\n                <div className=\"wrapper\">\n                    <div className={`input-field-wrapper ${this.state.currentDevice} active`}>\n                        <input type=\"range\" value={sliderValue} onChange={(event) => this.updateValues(this.state.currentDevice, event.target.value)} min={`${dataAttributes.min}`} max={`${dataAttributes.max}`} step={`${dataAttributes.step}`} />\n                        <div className=\"kemet_range_value\">\n                            <input type=\"number\" className=\"kmt-range-value-input\" value={sliderValue} min={`${dataAttributes.min}`} max={`${dataAttributes.max}`} step={`${dataAttributes.step}`} onChange={(event) => this.updateValues(this.state.currentDevice, event.target.value)} />\n                            {suffixContent}\n                        </div>\n                        <ul className=\"kmt-slider-units\">\n                            {unitHTML}\n                        </ul>\n                    </div>\n\n                    <div className=\"kmt-slider-reset\" onClick={e => this.handleReset(e)}  >\n                        <span className=\"dashicons dashicons-image-rotate\"></span>\n                    </div>\n                </div>\n                {descriptionContent}\n            </label >\n        )\n    }\n\n}\nResponsiveSliderComponent.propTypes = {\n    control: PropTypes.object.isRequired\n};\n\nexport default ResponsiveSliderComponent;\n","import PropTypes from 'prop-types';\nimport { useRef, useEffect } from 'react';\n\nconst SortableComponent = props => {\n\n    let labelHtml = null,\n        descriptionHtml = null;\n\n\n    const {\n        label,\n        description,\n        choices,\n        inputAttrs\n    } = props.params;\n\n    const value = props.value;\n    const list = useRef(null);\n\n    useEffect(() => {\n        const updateValue = () => {\n            let newValue = [];\n\n            jQuery(list.current).find('li').each(function () {\n                if (!jQuery(this).is('.invisible')) {\n                    newValue.push(jQuery(this).data('value'));\n                }\n            });\n            props.onChange(newValue);\n        }\n        jQuery(list.current).sortable({\n            stop: function () {\n                updateValue();\n            }\n        }).disableSelection().find('li').each(function () {\n\n            jQuery(this).find('i.visibility').click(function () {\n                jQuery(this).toggleClass('dashicons-visibility-faint').parents('li:eq(0)').toggleClass('invisible');\n            });\n        }).click(function () {\n            updateValue();\n        });\n    }, [])\n\n    if (label) {\n        labelHtml = <span className=\"customize-control-title\">{label}</span>;\n    }\n\n    if (description) {\n        descriptionHtml = <span className=\"description customize-control-description\">{description}</span>;\n    }\n\n    let visibleMetaHtml = Object.values(value).map(choiceID => {\n        let html = '';\n        if (choices[choiceID]) {\n            html = <li {...inputAttrs} key={choiceID} className='kmt-sortable-item' data-value={choiceID}>\n\n                <i className=\"dashicons dashicons-visibility visibility\"></i>\n                {choices[choiceID]}\n                <i class=\"dashicons dashicons-menu\"></i>\n            </li>;\n        }\n        return html;\n    });\n\n    let invisibleMetaHtml = Object.keys(choices).map(choiceID => {\n        let html = '';\n        if (Array.isArray(value) && -1 === value.indexOf(choiceID)) {\n            html = <li {...inputAttrs} key={choiceID} className='kmt-sortable-item invisible' data-value={choiceID}>\n\n                <i className=\"dashicons dashicons-visibility visibility\"></i>\n                {choices[choiceID]}\n                <i class=\"dashicons dashicons-menu\"></i>\n            </li>;\n        }\n        return html;\n    });\n\n    return <label className='kmt-sortable'>\n        {labelHtml}\n        {descriptionHtml}\n        <ul className=\"sortable\" ref={list}>\n            {visibleMetaHtml}\n            {invisibleMetaHtml}\n        </ul>\n    </label>;\n\n};\n\nSortableComponent.propTypes = {\n    control: PropTypes.object.isRequired\n};\n\nexport default React.memo(SortableComponent);","import PropTypes from 'prop-types';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useState } from 'react';\nimport { Fragment } from 'react';\nimport Responsive from '../common/responsive';\n\nconst SpacingComponent = props => {\n    let value = props.value\n    const [device, setDevice] = useState('desktop');\n    let responsive = props.params.responsive;\n    let ResDefaultParam = {\n        \"desktop\": {\n            'top': '',\n            'right': '',\n            'bottom': '',\n            'left': ''\n        },\n        \"tablet\": {\n            'top': '',\n            'right': '',\n            'bottom': '',\n            'left': ''\n        },\n        \"mobile\": {\n            'top': '',\n            'right': '',\n            'bottom': '',\n            'left': ''\n        },\n        \"desktop-unit\": 'px',\n        'tablet-unit': 'px',\n        'mobile-unit': ''\n    }\n    let defaultValue = {\n        value: {\n            'top': '',\n            'right': '',\n            'bottom': '',\n            'left': ''\n        },\n        unit: 'px'\n    }\n    let defaultValues;\n    defaultValues = responsive ? ResDefaultParam : defaultValue;\n\n    let defaultVals = props.params.default\n        ? {\n            ...defaultValues,\n            ...props.params.default,\n        }\n        : defaultValues;\n\n    value = value\n        ? {\n            ...defaultVals,\n            ...value,\n        }\n        : defaultVals\n        ;\n    const [state, setState] = useState(value);\n\n    useEffect(() => {\n        if (state !== value) {\n            setState(value);\n        }\n    }, [props]);\n\n\n    const onConnectedClick = () => {\n        let parent = event.target.parentElement.parentElement;\n        let inputs = parent.querySelectorAll('.kmt-spacing-input');\n\n        for (let i = 0; i < inputs.length; i++) {\n            inputs[i].classList.remove('connected');\n            inputs[i].setAttribute('data-element-connect', '');\n        }\n\n        event.target.parentElement.classList.remove('disconnected');\n    };\n\n    const onDisconnectedClick = () => {\n        let elements = event.target.dataset.elementConnect;\n        let parent = event.target.parentElement.parentElement;\n        let inputs = parent.querySelectorAll('.kmt-spacing-input');\n\n        for (let i = 0; i < inputs.length; i++) {\n            inputs[i].classList.add('connected');\n            inputs[i].setAttribute('data-element-connect', elements);\n        }\n\n        event.target.parentElement.classList.add('disconnected');\n    };\n\n    const onSpacingChange = (device, choiceID) => {\n        const {\n            choices\n        } = props.params;\n        let updateState = {\n            ...state\n        };\n\n        let deviceUpdateState = responsive ? {\n            ...updateState[device]\n        } : {\n            ...updateState[`value`]\n        };\n\n        if (!event.target.classList.contains('connected')) {\n            deviceUpdateState[choiceID] = event.target.value;\n        } else {\n            for (let choiceID in choices) {\n                deviceUpdateState[choiceID] = event.target.value;\n            }\n        }\n        if (responsive) {\n            updateState[device] = deviceUpdateState;\n\n        } else {\n            updateState[`value`] = deviceUpdateState\n        }\n        props.onChange(updateState);\n        setState(updateState);\n    };\n\n    const onUnitChange = (device, unitKey = '') => {\n        let updateState = {\n            ...state\n        };\n        if (responsive) {\n            updateState[`${device}-unit`] = unitKey;\n        } else {\n            updateState[`unit`] = unitKey;\n        }\n        props.onChange(updateState);\n        setState(updateState);\n    };\n\n    const renderResponsiveInput = (device) => {\n        return <input key={device} type='hidden' onChange={() => onUnitChange(device, '')}\n            className={`kmt-spacing-unit-input kmt-spacing-${device}-unit`} data-device={`${device}`}\n            value={state[`${device}-unit`]}></input>;\n    };\n\n    const renderInputHtml = (device, active = '') => {\n        const {\n            linked_choices,\n            id,\n            title,\n            choices,\n            inputAttrs,\n            unit_choices,\n            connected\n        } = props.params;\n\n        let connectedClass = false === connected ? '' : 'connected';\n        let disconnectedClass = false === connected ? '' : 'disconnected';\n\n\n        let htmlChoices = null;\n\n\n        if (choices) {\n            htmlChoices = Object.keys(choices).map(choiceID => {\n                let inputValue = responsive ? state[device][choiceID] : state[`value`][choiceID];\n\n                let html = <li key={choiceID} {...inputAttrs} className='kmt-spacing-input-item'>\n                    <input type='number' className={`kmt-spacing-input kmt-spacing-${device} ${connectedClass}`} data-id={choiceID}\n                        value={inputValue} onChange={() => onSpacingChange(device, choiceID)}\n                        data-element-connect={id} />\n                    <span className=\"kmt-spacing-title\">{choices[choiceID]}</span>\n                </li>;\n                return html;\n            });\n        }\n\n        let linkHtml = linked_choices ? (\n            <li key={'connect-disconnect' + device} className={`kmt-spacing-input-item-link ${disconnectedClass}`}>\n                <span title={title}\n                    className=\"dashicons  dashicons-editor-unlink  kmt-spacing-disconnected \"\n                    onClick={() => {\n                        onDisconnectedClick();\n                    }} data-element-connect={id} >\n                </span>\n                <span title={title} className=\"dashicons dashicons-admin-links kmt-spacing-connected \"\n                    onClick={() => {\n                        onConnectedClick();\n                    }} data-element-connect={id} > </span>\n            </li>\n        ) : null;\n        return <ul key={device} className={`kmt-spacing-wrapper ${device} ${active}`}>\n            {htmlChoices}\n            {linkHtml}\n\n        </ul>;\n    };\n\n    let responsiveUnit = null;\n    const renderUnit = () => {\n        const { unit_choices } = props.params;\n        if (unit_choices) {\n            responsiveUnit = Object.values(unit_choices).map(unitKey => {\n                let unitClass = '';\n                if (responsive) {\n                    if (state[`${device}-unit`] === unitKey) {\n                        unitClass = 'active';\n                    }\n                } else {\n                    if (state[`unit`] === unitKey) {\n                        unitClass = 'active';\n                    }\n                }\n\n                let html = <li key={unitKey} className={`single-unit ${unitClass}`}\n                    onClick={() => onUnitChange(device, unitKey)} data-unit={unitKey}>\n                    <span className=\"unit-text\">{unitKey}</span>\n                </li>;\n                return html;\n            });\n        }\n        return (<ul key={'responsive-units'}\n            className={`kmt-spacing-responsive-units kmt-spacing-${device}-responsive-units`}>\n            {responsiveUnit}\n        </ul>)\n    }\n\n    const {\n        label,\n        description\n    } = props.params;\n\n    let inputHtml = null;\n    let responsiveHtml = null;\n\n    let descriptionContent = (description || description !== '') ? <span className=\"description customize-control-description\">{description}</span> : null;\n    inputHtml = <Fragment>\n        {renderInputHtml(device, 'active')}\n\n    </Fragment>;\n\n    responsiveHtml = <Fragment>\n        <div className=\"unit-input-wrapper kmt-spacing-unit-wrapper\">\n            {renderResponsiveInput(device)}\n\n        </div>\n\n    </Fragment>;\n\n    return <div key={'kmt-spacing-responsive'} className='kmt-spacing-responsive' >\n\n        {responsive ? <Responsive\n            onChange={(currentDevice) => setDevice(currentDevice)}\n            label={label}\n        /> : <span className=\"customize-control-title\">{label}</span>}\n        {renderUnit()}\n\n        {descriptionContent}\n        <div className=\"kmt-spacing-responsive-outer-wrapper\">\n            <div className=\"input-wrapper kmt-spacing-responsive-wrapper\">\n                {inputHtml}\n            </div>\n            <div className=\"kmt-spacing-responsive-units-screen-wrap\">\n                {responsiveHtml}\n            </div>\n        </div>\n    </div>;\n\n};\n\nSpacingComponent.propTypes = {\n    control: PropTypes.object.isRequired\n};\n\nexport default SpacingComponent;","import PropTypes from \"prop-types\";\nimport { Fragment, useState, useEffect } from \"react\";\nconst { Dashicon } = wp.components;\nconst { __ } = wp.i18n;\nimport { renderOptions } from '../options/options-component'\n\nconst TabsComponent = (props) => {\n    let tabs = props.params.tabs\n        ? props.params.tabs\n        : {};\n    const [state, setState] = useState({\n        currentTab: 0,\n    });\n\n    useEffect(() => {\n        document.dispatchEvent(new CustomEvent(\"kmtSubOptionsReady\"));\n    }, [state]);\n\n    const currentTab = tabs[Object.keys(tabs)[state.currentTab]];\n\n    return (\n        <Fragment>\n            <ul className=\"tabs\">\n                {Object.keys(tabs).map((tab, index) => {\n                    return <li\n                        onClick={() => {\n                            setState({ currentTab: index });\n                        }\n                        }\n                        className={index === state.currentTab && 'active'}>\n                        {tabs[tab].title}\n                    </li>\n                })}\n            </ul>\n            <div className=\"current-tab-options\">\n                {renderOptions(currentTab.options)}\n            </div>\n        </Fragment >\n    );\n};\n\nTabsComponent.propTypes = {\n    control: PropTypes.object.isRequired,\n    customizer: PropTypes.func.isRequired,\n};\n\nexport default React.memo(TabsComponent);\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\n\n\nconst TextComponent = props => {\n\n    const [props_value, setPropsValue] = useState(props.value);\n\n    const HandleChange = (value) => {\n        setPropsValue(value);\n        props.onChange(value);\n    };\n\n    const {\n        label,\n    } = props.params;\n\n    let labelContent = label ? <span className=\"customize-control-title\">{label}</span> : null;\n\n    return <>\n        {labelContent}\n        <div className=\"customize-control-content\">\n            <input type='text' value={props_value} onChange={(event) => {\n                HandleChange(event.target.value)\n            }} />\n        </div>\n    </>;\n\n};\n\nTextComponent.propTypes = {\n    control: PropTypes.object.isRequired\n};\n\nexport default React.memo(TextComponent);","import PropTypes from 'prop-types';\nimport { Fragment } from '@wordpress/element';\n\nconst TitleComponent = props => {\n\n    let captionContent = props.params.caption ? htmlCaption = <span className=\"customize-control-caption\">{props.params.caption}</span> : null;\n    let labelContent = props.params.label ? <span className=\"customize-control-title\">{props.params.label}</span> : null;\n    let descriptionContent = props.params.description ? <span className=\"description customize-control-description\">{props.params.description}</span> : null;\n\n    return <Fragment>\n        {captionContent}\n        {labelContent}\n        {descriptionContent}\n    </Fragment>;\n};\n\nTitleComponent.propTypes = {\n    control: PropTypes.object.isRequired\n};\n\nexport default React.memo(TitleComponent);","import PropTypes from \"prop-types\";\nimport { Fragment } from \"@wordpress/element\";\nimport { useState } from \"react\";\nimport { ToggleControl } from \"@wordpress/components\";\n\nconst ToggleControlComponent = (props) => {\n  const [props_value, setPropsValue] = useState(props.value);\n\n  const { label } = props.params;\n\n  let labelContent = label ? (\n    <span className=\"toggle-control-label\">{label}</span>\n  ) : null;\n\n  const updateValues = () => {\n    setPropsValue(!props_value);\n    props.onChange(!props_value);\n  };\n\n  return (\n    <Fragment>\n      <div className=\"toggleControl-wrapper\">\n        <ToggleControl\n          label={labelContent}\n          checked={props_value}\n          onChange={() => updateValues()}\n        />\n      </div>\n    </Fragment>\n  );\n};\n\nToggleControlComponent.propTypes = {\n  control: PropTypes.object.isRequired,\n};\n\nexport default React.memo(ToggleControlComponent);\n","import { createPortal, useRef, useMemo, useCallback, useState, } from '@wordpress/element';\nimport classnames from 'classnames';\nimport OutsideComponent from '../common/outside-component';\nimport PopoverComponent from '../common/popover-component';\nimport { Transition } from '@react-spring/web'\nimport bezierEasing from 'bezier-easing'\nimport { __ } from '@wordpress/i18n';\nimport { humanizeVariations, familyForDisplay } from '../common/typo-helper'\n\nimport TypographyModal from './typography/typo-modal'\n\nconst getLeftForEl = (modal, el) => {\n    if (!modal) return\n    if (!el) return\n\n    let style = getComputedStyle(modal)\n\n    let wrapperLeft = parseFloat(style.left)\n\n    el = el.getBoundingClientRect()\n\n    return {\n        '--option-modal-arrow-position': `${el.left + el.width / 2 - wrapperLeft - 6\n            }px`,\n    }\n}\n\nconst Typography = (props) => {\n    let value = props.value;\n    let defaultValue = {\n        'family': 'System Default',\n        'variation': 'n4',\n        'size': '16px',\n        'line-height': '1.65',\n        'letter-spacing': '0em',\n        'text-transform': 'none',\n        'text-decoration': 'none',\n    }\n    value = value ? value : defaultValue;\n    const [currentViewCache, setCurrentViewCache] = useState('_:_')\n\n    const typographyWrapper = useRef()\n\n    let [currentView, previousView] = useMemo(\n        () => currentViewCache.split(':'),\n        [currentViewCache]\n    )\n    const [{ isOpen, isTransitioning }, setModalState] = useState({\n        isOpen: false,\n        isTransitioning: false,\n    })\n\n    const { styles, popoverProps } = PopoverComponent({\n        ref: typographyWrapper,\n        defaultHeight: 430,\n        shouldCalculate: isTransitioning || isOpen,\n    })\n    const setCurrentView = useCallback(\n        (newView) => setCurrentViewCache(`${newView}:${currentView}`),\n        [currentView]\n    )\n\n    const setIsOpen = (isOpen) => {\n        setModalState((state) => ({\n            ...state,\n            isOpen,\n            isTransitioning: true,\n        }))\n    }\n\n    const stopTransitioning = () =>\n        setModalState((state) => ({\n            ...state,\n            isTransitioning: false,\n        }))\n\n    const fontFamilyRef = useRef()\n    const fontSizeRef = useRef()\n    const fontWeightRef = useRef()\n    const dotsRef = useRef()\n\n    const arrowLeft = useMemo(() => {\n        const view = currentView\n\n        const futureRef =\n            view === 'options'\n                ? fontSizeRef.current\n                : view === 'fonts'\n                    ? fontFamilyRef.current\n                    : view === 'variations'\n                        ? fontWeightRef.current\n                        : fontSizeRef.current\n\n        return (\n            popoverProps.ref &&\n            popoverProps.ref.current &&\n            getLeftForEl(popoverProps.ref.current, futureRef)\n        )\n    }, [\n        isOpen,\n        currentView,\n        popoverProps.ref,\n        popoverProps.ref && popoverProps.ref.current,\n        fontFamilyRef && fontFamilyRef.current,\n        fontWeightRef && fontWeightRef.current,\n        fontSizeRef && fontSizeRef.current,\n        dotsRef && dotsRef.current,\n    ])\n\n    return (\n        <div className={classnames('kmt-typography', {})}>\n            <OutsideComponent\n                disabled={!isOpen}\n                useCapture={false}\n                className=\"kmt-typohraphy-value\"\n                additionalRefs={[popoverProps.ref]}\n                onOutsideClick={() => {\n                    setIsOpen(false)\n                }}\n                wrapperProps={{\n                    ref: typographyWrapper,\n                    onClick: (e) => {\n                        e.preventDefault()\n\n                        if (isOpen) {\n                            setCurrentView('options')\n                            return\n                        }\n\n                        setCurrentViewCache('options:_')\n                        setIsOpen('options')\n                    },\n                }}>\n                <div>\n                    <span\n                        onClick={(e) => {\n                            e.stopPropagation()\n\n                            if (isOpen) {\n                                setCurrentView('fonts')\n                                return\n                            }\n\n                            setCurrentViewCache('fonts:_')\n                            setIsOpen('fonts')\n                        }}\n                        className=\"kmt-font\"\n                        ref={fontFamilyRef}>\n                        <span>\n                            {value.family === 'Default'\n                                ? 'Default Family'\n                                : 'Default Family'}\n                        </span>\n                    </span>\n                    <i>/</i>\n                    <span\n                        onClick={(e) => {\n                            e.stopPropagation()\n\n                            if (isOpen) {\n                                setCurrentView('options')\n                                return\n                            }\n\n                            setCurrentViewCache('options:_')\n                            setIsOpen('font_size')\n                        }}\n                        ref={fontSizeRef}\n                        className=\"kmt-size\">\n                        <span>\n                            {/* {maybePromoteScalarValueIntoResponsive(\n                                value['size']\n                            )[device] === 'CT_CSS_SKIP_RULE'\n                                ? __('Default Size', 'blocksy')\n                                : maybePromoteScalarValueIntoResponsive(\n                                    value['size']\n                                )[device]} */}\n                                font Size\n                        </span>\n                    </span>\n                    <i>/</i>\n                    <span\n                        ref={fontWeightRef}\n                        onClick={(e) => {\n                            e.stopPropagation()\n\n                            if (isOpen) {\n                                setCurrentView('variations')\n                                return\n                            }\n\n                            setCurrentViewCache('variations:_')\n                            setIsOpen('variations')\n                        }}\n                        className=\"kmt-weight\">\n                        {/* <span>{humanizeVariations(value.variation)}</span> */}\n                        <span>font weight</span>\n                    </span>\n                </div>\n\n                <a ref={dotsRef} />\n\n            </OutsideComponent>\n            {(isTransitioning || isOpen) &&\n                createPortal(\n                    <Transition\n                        items={isOpen}\n                        onRest={(isOpen) => {\n                            stopTransitioning()\n                        }}\n                        config={{\n                            duration: 100,\n                            easing: bezierEasing(0.25, 0.1, 0.25, 1.0),\n                        }}\n                        from={\n                            isOpen\n                                ? {\n                                    transform: 'scale3d(0.95, 0.95, 1)',\n                                    opacity: 0,\n                                }\n                                : { opacity: 1 }\n                        }\n                        enter={\n                            isOpen\n                                ? {\n                                    transform: 'scale3d(1, 1, 1)',\n                                    opacity: 1,\n                                }\n                                : {\n                                    opacity: 1,\n                                }\n                        }\n                        leave={\n                            !isOpen\n                                ? {\n                                    transform: 'scale3d(0.95, 0.95, 1)',\n                                    opacity: 0,\n                                }\n                                : {\n                                    opacity: 1,\n                                }\n                        }>\n                        {(style, item) => {\n                            if (!item) {\n                                return <div>\n                                    Salma2\n                                </div>\n                            }\n\n                            return (\n\n                                <TypographyModal\n                                    wrapperProps={{\n                                        style: {\n                                            ...style,\n                                            ...styles,\n                                            ...arrowLeft,\n                                        },\n                                        ...popoverProps,\n                                    }}\n                                    onChange={props.onChange}\n                                    value={value}\n                                    option={props}\n                                    initialView={item}\n                                    setInititialView={(initialView) =>\n                                        setIsOpen(initialView)\n                                    }\n                                    currentView={currentView}\n                                    previousView={previousView}\n                                    setCurrentView={setCurrentView}\n                                />\n                            )\n\n\n                        }}\n                    </Transition>,\n                    document.body\n                )}\n        </div>)\n}\nexport default Typography\n\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseRef,\n\tuseEffect,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { __ } from '@wordpress/i18n';\n\nimport { animated } from '@react-spring/web'\n\nimport ResponsiveSliderComponent from '../slider'\n\nconst FontOptions = ({ option, value, sizeRef, onChange, props }) => {\n\treturn (\n\t\t<animated.ul\n\t\t\tstyle={props}\n\t\t\tclassName=\"kmt-typography-options\"\n\t\t\tkey=\"options\">\n\t\t\t<li key=\"size\" className={`customize-control-kmt-slider`}>\n\t\t\t\t<ResponsiveSliderComponent\n\t\t\t\t\tvalue={value.size}\n\t\t\t\t\tvalues={value}\n\t\t\t\t\tid=\"size\"\n\t\t\t\t\tparams={{\n\t\t\t\t\t\tid: 'size',\n\t\t\t\t\t\tlabel: __('Font Size', 'blocksy'),\n\t\t\t\t\t\tvalue: 35,\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\tunit_choices: {\n\n\t\t\t\t\t\t\t'px': {\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 200,\n\t\t\t\t\t\t\t\tstep: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'em': {\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 50,\n\t\t\t\t\t\t\t\tstep: 1\n\t\t\t\t\t\t\t},\n\n\n\n\n\n\t\t\t\t\t\t},\n\n\n\n\t\t\t\t\t\tonChange: () => onChange()\n\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</li>\n\n\t\t\t<li key=\"line-height\" className={`customize-control-kmt-slider`}>\n\t\t\t\t<ResponsiveSliderComponent\n\t\t\t\t\tvalue={value.size}\n\t\t\t\t\tvalues={value}\n\t\t\t\t\tid=\"size\"\n\t\t\t\t\tparams={{\n\t\t\t\t\t\tid: 'size',\n\t\t\t\t\t\tlabel: __('Font Size', 'blocksy'),\n\t\t\t\t\t\tvalue: 35,\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\tunit_choices: {\n\n\t\t\t\t\t\t\t'px': {\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 200,\n\t\t\t\t\t\t\t\tstep: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'em': {\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 50,\n\t\t\t\t\t\t\t\tstep: 1\n\t\t\t\t\t\t\t},\n\n\n\n\n\n\t\t\t\t\t\t},\n\n\n\n\t\t\t\t\t\tonChange: () => onChange()\n\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</li>\n\n\t\t\t<li key=\"letter-space\" className={`customize-control-kmt-slider`}>\n\t\t\t\t<ResponsiveSliderComponent\n\t\t\t\t\tvalue={value.size}\n\t\t\t\t\tvalues={value}\n\t\t\t\t\tid=\"size\"\n\t\t\t\t\tparams={{\n\t\t\t\t\t\tid: 'size',\n\t\t\t\t\t\tlabel: __('Font Size', 'blocksy'),\n\t\t\t\t\t\tvalue: 35,\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\tunit_choices: {\n\n\t\t\t\t\t\t\t'px': {\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 200,\n\t\t\t\t\t\t\t\tstep: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'em': {\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 50,\n\t\t\t\t\t\t\t\tstep: 1\n\t\t\t\t\t\t\t},\n\n\n\n\n\n\t\t\t\t\t\t},\n\n\n\n\t\t\t\t\t\tonChange: () => onChange()\n\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</li>\n\n\n\t\t\t<li key=\"variant\" className=\"kmt-typography-variant\">\n\t\t\t\t<ul className={classnames('kmt-text-transform')}>\n\t\t\t\t\t{['capitalize', 'uppercase'].map((variant) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={variant}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t'text-transform':\n\t\t\t\t\t\t\t\t\t\tvalue['text-transform'] === variant\n\t\t\t\t\t\t\t\t\t\t\t? 'none'\n\t\t\t\t\t\t\t\t\t\t\t: variant,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\tactive: variant === value['text-transform'],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tdata-variant={variant}>\n\t\t\t\t\t\t\t<i className=\"kmt-tooltip-top\">\n\t\t\t\t\t\t\t\t{variant}\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\n\t\t\t\t<ul className={classnames('kmt-text-decoration')}>\n\t\t\t\t\t{['line-through', 'underline'].map((variant) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={variant}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t'text-decoration':\n\t\t\t\t\t\t\t\t\t\tvalue['text-decoration'] === variant\n\t\t\t\t\t\t\t\t\t\t\t? 'none'\n\t\t\t\t\t\t\t\t\t\t\t: variant,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\tactive: variant === value['text-decoration'],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tdata-variant={variant}>\n\t\t\t\t\t\t\t<i className=\"kmt-tooltip-top\">\n\t\t\t\t\t\t\t\t{variant}\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</animated.ul>\n\t)\n}\n\nexport default FontOptions\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseEffect,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { getDefaultFonts } from './default-data'\nimport { humanizeVariations, fontFamilyToCSSFamily } from './helpers'\nimport { FixedSizeList as List } from 'react-window'\nimport WebFontLoader from 'webfontloader'\nimport AutoSizer from 'react-virtualized-auto-sizer'\n\nlet loadedFonts = []\n\nconst loadGoogleFonts = (font_families) => {\n\tif (font_families.length === 0) return\n\n\tloadedFonts = [...loadedFonts, ...font_families.map(({ family }) => family)]\n\n\tconst googleFonts = font_families\n\t\t.map(({ family }) => family)\n\t\t.filter((family) => family.indexOf('ct_typekit') === -1)\n\n\tconst typekitFonts = font_families.filter(\n\t\t({ family }) => family.indexOf('ct_typekit') > -1\n\t)\n\n\tif (googleFonts.length > 0 || typekitFonts.length > 0) {\n\t\tWebFontLoader.load({\n\t\t\t...(googleFonts.length > 0\n\t\t\t\t? {\n\t\t\t\t\tgoogle: {\n\t\t\t\t\t\tfamilies: googleFonts,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t\t: {}),\n\t\t\t...(typekitFonts.length > 0\n\t\t\t\t? {\n\t\t\t\t\ttypekit: {\n\t\t\t\t\t\tid: typekitFonts[0].kit,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t\t: {}),\n\t\t\tclasses: false,\n\t\t\ttext: 'abcdefghijklmnopqrstuvwxyz',\n\t\t})\n\t}\n}\n\nconst SingleFont = ({\n\tdata: { linearFontsList, onPickFamily, value },\n\tindex,\n\tstyle,\n}) => {\n\tconst family = linearFontsList[index]\n\n\treturn (\n\t\t<div\n\t\t\tstyle={style}\n\t\t\tonClick={() => onPickFamily(family)}\n\t\t\tclassName={classnames(\n\t\t\t\t'kmt-typography-single-font',\n\t\t\t\t`kmt-${family.source}`,\n\t\t\t\t{\n\t\t\t\t\tactive: family.family === value.family,\n\t\t\t\t}\n\t\t\t)}\n\t\t\tkey={family.family}>\n\t\t\t<span className=\"kmt-font-name\">\n\t\t\t\t{family.display || family.family}\n\t\t\t</span>\n\t\t\t<span\n\t\t\t\tstyle={{\n\t\t\t\t\tfontFamily: fontFamilyToCSSFamily(family.family),\n\t\t\t\t}}\n\t\t\t\tclassName=\"kmt-font-preview\">\n\t\t\t\tSimply dummy text\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n\nconst FontsList = ({\n\toption,\n\tvalue,\n\tonPickFamily,\n\ttypographyList,\n\tlinearFontsList,\n\tcurrentView,\n\tsearchTerm,\n}) => {\n\tconst listRef = useRef(null)\n\tconst timerRef = useRef(null)\n\tconst [scrollTimer, setScrollTimer] = useState(null)\n\n\tuseEffect(() => {\n\t\tif (value.family) {\n\t\t\tlistRef.current.scrollToItem(\n\t\t\t\tlinearFontsList\n\t\t\t\t\t.map(({ family }) => family)\n\t\t\t\t\t.indexOf(value.family),\n\t\t\t\t'start'\n\t\t\t)\n\t\t}\n\t}, [])\n\n\tconst onScroll = () => {\n\t\tscrollTimer && clearTimeout(scrollTimer)\n\n\t\tsetScrollTimer(\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!listRef.current) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tconst [overscanStartIndex] = listRef.current._getRangeToRender()\n\n\t\t\t\tconst perPage = 25\n\n\t\t\t\tconst totalPages = Math.ceil(linearFontsList.length / perPage)\n\t\t\t\tconst startingPage = Math.ceil(\n\t\t\t\t\t(overscanStartIndex + 1) / perPage\n\t\t\t\t)\n\t\t\t\t// const stopPage = Math.ceil((overscanStopIndex + 1) / perPage)\n\n\t\t\t\tconst pageItems = [...Array(perPage)]\n\t\t\t\t\t.map((_, i) => (startingPage - 1) * perPage + i)\n\t\t\t\t\t.map((index) => linearFontsList[index])\n\t\t\t\t\t.filter((s) => !!s)\n\t\t\t\t\t.filter(\n\t\t\t\t\t\t({ source, family }) =>\n\t\t\t\t\t\t\tloadedFonts.indexOf(family) === -1 &&\n\t\t\t\t\t\t\t(source === 'google' || source === 'typekit')\n\t\t\t\t\t)\n\n\t\t\t\tloadGoogleFonts(pageItems)\n\t\t\t}, 100)\n\t\t)\n\t}\n\n\tuseEffect(() => {\n\t\tonScroll()\n\t}, [linearFontsList])\n\n\treturn (\n\t\t<List\n\t\t\theight={360}\n\t\t\titemCount={linearFontsList.length}\n\t\t\titemSize={85}\n\t\t\tref={listRef}\n\t\t\tonScroll={(e) => {\n\t\t\t\tonScroll()\n\t\t\t}}\n\t\t\titemData={{\n\t\t\t\tlinearFontsList,\n\t\t\t\tonPickFamily,\n\t\t\t\tvalue,\n\t\t\t}}\n\t\t\tonItemsRendered={({ overscanStartIndex, overscanStopIndex }) => { }}\n\t\t\tclassName=\"kmt-typography-fonts\">\n\t\t\t{SingleFont}\n\t\t</List>\n\t)\n}\n\nexport default FontsList\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseRef,\n\tuseEffect,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { getDefaultFonts } from './default-data'\nimport { humanizeVariations, findSelectedFontFamily } from './helpers'\nimport { animated } from '@react-spring/web'\n\nconst VariationsList = ({ option, value, onChange, typographyList, props }) => {\n\tconst selectedFontFamily = findSelectedFontFamily(\n\t\tvalue.family,\n\t\ttypographyList\n\t)\n\n\tconst parentEl = useRef(null)\n\n\tuseEffect(() => {\n\t\tif (!selectedFontFamily) {\n\t\t\treturn\n\t\t}\n\n\t\tparentEl.current.scrollTop =\n\t\t\t(\n\t\t\t\tparentEl.current.children[\n\t\t\t\tselectedFontFamily.all_variations.indexOf(value.variation)\n\t\t\t\t] || parentEl.current.children[0]\n\t\t\t).offsetTop - parentEl.current.offsetTop\n\t}, [selectedFontFamily])\n\n\treturn (\n\t\t<animated.ul\n\t\t\tstyle={props}\n\t\t\tclassName=\"kmt-typography-variations\"\n\t\t\tref={parentEl}>\n\t\t\t{selectedFontFamily &&\n\t\t\t\tselectedFontFamily.all_variations.map((variation) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\tvariation,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\tactive: variation === value.variation,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tkey={variation}>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"kmt-variation-name\"\n\t\t\t\t\t\t\tdata-variation={variation}>\n\t\t\t\t\t\t\t{humanizeVariations(variation)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t</animated.ul>\n\t)\n}\n\nexport default VariationsList\n","export const getDefaultFonts = ({ isDefault }) => ({\n\tsystem: {\n\t\ttype: 'system',\n\t\tfamilies: [\n\t\t\t...(!isDefault ? ['Default'] : []),\n\t\t\t'System Default',\n\t\t\t'Arial',\n\t\t\t'Verdana',\n\t\t\t'Trebuchet',\n\t\t\t'Georgia',\n\t\t\t'Times New Roman',\n\t\t\t'Palatino',\n\t\t\t'Helvetica',\n\t\t\t'Myriad Pro',\n\t\t\t'Lucida',\n\t\t\t'Gill Sans',\n\t\t\t'Impact',\n\t\t\t'Serif',\n\t\t\t'monospace'\n\t\t].map(family => ({\n\t\t\tsource: 'system',\n\t\t\tfamily,\n\t\t\tvariations: [],\n\t\t\tall_variations: [\n\t\t\t\t...(family === 'Default' ? ['Default'] : []),\n\t\t\t\t'n1',\n\t\t\t\t'i1',\n\t\t\t\t'n2',\n\t\t\t\t'i2',\n\t\t\t\t'n3',\n\t\t\t\t'i3',\n\t\t\t\t'n4',\n\t\t\t\t'i4',\n\t\t\t\t'n5',\n\t\t\t\t'i5',\n\t\t\t\t'n6',\n\t\t\t\t'i6',\n\t\t\t\t'n7',\n\t\t\t\t'i7',\n\t\t\t\t'n8',\n\t\t\t\t'i8',\n\t\t\t\t'n9',\n\t\t\t\t'i9'\n\t\t\t]\n\t\t}))\n\t}\n})\n","export const fontFamilyToCSSFamily = (family) => {\n\tif (family === 'System Default') {\n\t\treturn \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'\"\n\t}\n\n\treturn family.replace('ct_typekit_', '')\n}\n\nconst findSourceTypeSettingsFor = (font_family, fonts_list) =>\n\tObject.values(fonts_list).find(\n\t\t(single_font_source) =>\n\t\t\tsingle_font_source.families\n\t\t\t\t.map(({ family }) => family)\n\t\t\t\t.indexOf(font_family) > -1\n\t)\n\nexport const findSourceTypeFor = (font_family, fonts_list) => {\n\tlet source = findSourceTypeSettingsFor(font_family, fonts_list)\n\tif (!source) return false\n\treturn source.type\n}\n\nexport const findSelectedFontFamily = (font_family, fonts_list) => {\n\tlet source = findSourceTypeSettingsFor(font_family, fonts_list)\n\n\tif (!source) {\n\t\treturn null\n\t}\n\n\treturn source.families.find(({ family }) => family === font_family)\n}\n\nexport const decideVariationToSelect = (newValue, oldValue) => {\n\tif (newValue.all_variations.indexOf(oldValue.variation) > -1) {\n\t\treturn oldValue.variation\n\t}\n\n\tif (newValue.all_variations.indexOf('n4') > -1) {\n\t\treturn 'n4'\n\t}\n\n\treturn newValue.all_variations[0]\n}\n\nexport const humanizeVariationsShort = (variation) => {\n\tvar all = {\n\t\tn1: '100',\n\t\ti1: '100',\n\t\tn2: '200',\n\t\ti2: '200',\n\t\tn3: '300',\n\t\ti3: '300',\n\t\tn4: '400',\n\t\ti4: '400',\n\t\tn5: '500',\n\t\ti5: '500',\n\t\tn6: '600',\n\t\ti6: '600',\n\t\tn7: '700',\n\t\ti7: '700',\n\t\tn8: '800',\n\t\ti8: '800',\n\t\tn9: '900',\n\t\ti9: '900',\n\t\tDefault: 'Default',\n\t}\n\n\treturn all[variation]\n}\n\nexport const humanizeVariations = (variation) => {\n\tvar all = {\n\t\tn1: 'Thin 100',\n\t\ti1: 'Thin 100 Italic',\n\t\tn2: 'Extra-Light 200',\n\t\ti2: 'Extra-Light 200 Italic',\n\t\tn3: 'Light 300',\n\t\ti3: 'Light 300 Italic',\n\t\tn4: 'Regular',\n\t\ti4: 'Regular 400 Italic',\n\t\tn5: 'Medium 500',\n\t\ti5: 'Medium 500 Italic',\n\t\tn6: 'Semi-Bold 600',\n\t\ti6: 'Semi-Bold 600 Italic',\n\t\tn7: 'Bold 700',\n\t\ti7: 'Bold 700 Italic',\n\t\tn8: 'Extra-Bold 800',\n\t\ti8: 'Extra-Bold 800 Italic',\n\t\tn9: 'Ultra-Bold 900',\n\t\ti9: 'Ultra-Bold 900 Italic',\n\t\tDefault: 'Default Weight',\n\t}\n\n\treturn all[variation]\n}\n\nexport const familyForDisplay = (family) => {\n\tif (family.indexOf('ct_font') === 0) {\n\t\treturn family\n\t\t\t.replace('ct_font_', '')\n\t\t\t.replace(/([-_][a-z])/gi, ($1) =>\n\t\t\t\t$1.toUpperCase().replace('-', '').replace('_', '')\n\t\t\t)\n\t}\n\n\tif (family.indexOf('ct_typekit') === 0) {\n\t\treturn family\n\t\t\t.replace('ct_typekit_', '')\n\t\t\t.replace(/([-_][a-z])/gi, ($1) =>\n\t\t\t\t$1.toUpperCase().replace('-', ' ').replace('_', ' ')\n\t\t\t)\n\t}\n\n\treturn family\n}\n","import {\n    Fragment,\n    createElement,\n    Component,\n    useRef,\n    useEffect,\n    useMemo,\n    useCallback,\n    useState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { getDefaultFonts } from './default-data'\nimport {\n    humanizeVariationsShort,\n    decideVariationToSelect,\n    familyForDisplay,\n} from './helpers'\nimport { __ } from '@wordpress/i18n';\n\nimport bezierEasing from 'bezier-easing'\n\nimport { Transition, animated } from '@react-spring/web'\n\nimport FontsList from './FontsList'\nimport VariationsList from './VariationsList'\nimport FontOptions from './FontOptions'\n\n\nconst combineRefs = (...refs) => (el) => {\n    refs.map((ref) => {\n        if (typeof ref === 'function') {\n            ref(el)\n        } else if (\n            typeof ref === 'object' &&\n            ref !== null &&\n            ref.hasOwnProperty('current')\n        ) {\n            ref.current = el\n        } else if (ref === null) {\n\n        }\n    })\n}\n\nfunction fuzzysearch(needle, haystack) {\n    var hlen = haystack.length\n    var nlen = needle.length\n    if (nlen > hlen) {\n        return false\n    }\n    if (nlen === hlen) {\n        return needle === haystack\n    }\n    outer: for (var i = 0, j = 0; i < nlen; i++) {\n        var nch = needle.charCodeAt(i)\n        while (j < hlen) {\n            if (haystack.charCodeAt(j++) === nch) {\n                continue outer\n            }\n        }\n        return false\n    }\n\n    return true\n}\n\nconst TypographyModal = ({\n    option,\n    value,\n    initialView,\n    currentView,\n    previousView,\n    setCurrentView,\n    setInititialView,\n    onChange,\n    wrapperProps = {},\n}) => {\n    const [typographyList, setTypographyList] = useState(\n        getDefaultFonts(option)\n    )\n    const [isSearch, setIsSearch] = useState(false)\n    const [searchTerm, setSearchTerm] = useState('')\n\n    const direction = useMemo(() => {\n        if (previousView === '_') {\n            return 'static'\n        }\n\n        if (\n            (currentView === 'search' && previousView === 'fonts') ||\n            (previousView === 'search' && currentView === 'fonts')\n        ) {\n            return 'static'\n        }\n\n        if (previousView === 'options') {\n            return 'right'\n        }\n\n        if (previousView === 'fonts' && currentView === 'variations') {\n            return 'right'\n        }\n\n        return 'left'\n    }, [currentView, previousView])\n\n    const inputEl = useRef(null)\n    const sizeEl = useRef(null)\n\n    const linearFontsList = Object.keys(typographyList).reduce(\n        (currentList, currentSource) => [\n            ...currentList,\n            ...(\n                typographyList[currentSource].families || []\n            ).filter(({ family }) =>\n                fuzzysearch(searchTerm.toLowerCase(), family.toLowerCase())\n            ),\n        ],\n        []\n    )\n\n    const fetchFontsList = async () => {\n        const body = new FormData()\n\n        body.append('action', 'kemet_get_fonts_list')\n\n        try {\n            const response = await fetch(ajaxurl, {\n                method: 'POST',\n                body,\n            })\n\n\n            if (response.status === 200) {\n                const { success, data } = await response.json()\n\n                if (success) {\n                    setTypographyList({\n                        ...data.fonts,\n                        system: {\n                            ...data.fonts.system,\n                            families: [\n                                ...([\n                                    {\n                                        source: 'system',\n                                        family: 'Default',\n                                        variations: [],\n                                        all_variations: [\n                                            'Default',\n                                            'n1',\n                                            'i1',\n                                            'n2',\n                                            'i2',\n                                            'n3',\n                                            'i3',\n                                            'n4',\n                                            'i4',\n                                            'n5',\n                                            'i5',\n                                            'n6',\n                                            'i6',\n                                            'n7',\n                                            'i7',\n                                            'n8',\n                                            'i8',\n                                            'n9',\n                                            'i9',\n                                        ],\n                                    },\n                                ]),\n\n                                ...data.fonts.system.families,\n                            ],\n                        },\n                    })\n                }\n            }\n        } catch (e) {\n            console.log(e)\n        }\n    }\n\n    useEffect(() => {\n        if (initialView && initialView !== 'done') {\n            setSearchTerm('')\n            setTimeout(() => {\n                // setInititialView('done')\n            })\n        }\n\n        if (initialView === 'font_size') {\n            setTimeout(() => sizeEl.current && sizeEl.current.focus(), 100)\n        }\n    }, [initialView])\n\n    useEffect(() => {\n        fetchFontsList()\n    }, [])\n\n    useEffect(() => {\n        if (currentView === 'search') {\n            inputEl.current.focus()\n        }\n    }, [currentView])\n\n    const pickFontFamily = (family) => {\n        onChange({\n            ...value,\n            family: family.family,\n            variation: decideVariationToSelect(family, value),\n        })\n    }\n\n    return (\n        <animated.div\n            className=\"kmt-option-modal kmt-typography-modal\"\n            {...wrapperProps}>\n            <div className=\"kmt-typography-container\">\n                <ul\n                    className={classnames('kmt-typography-top', {\n                        'kmt-switch-panel': currentView !== 'options',\n                        'kmt-static': previousView === '_',\n                    })}>\n                    <li\n                        className=\"kmt-back\"\n                        onClick={() => setCurrentView('options')}>\n                        <svg width=\"10\" height=\"10\" viewBox=\"0 0 15 15\">\n                            <path d=\"M14.2,6.8H2.6l4-4c0.3-0.3,0.3-0.8,0-1.1c-0.3-0.3-0.8-0.3-1.1,0L0.2,7l0,0c0,0-0.1,0.1-0.1,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0,0,0.1c0,0,0,0.1,0,0.1l0,0c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0.1C0.2,8,0.2,8,0.2,8l5.3,5.3c0.3,0.3,0.8,0.3,1.1,0c0.3-0.3,0.3-0.8,0-1.1l-4-4h11.7c0.4,0,0.8-0.3,0.8-0.8S14.7,6.8,14.2,6.8z\" />\n                        </svg>\n                    </li>\n\n                    <li\n                        className={classnames('kmt-font', {\n                            active:\n                                currentView === 'search' ||\n                                currentView === 'fonts',\n                        })}\n                        onClick={() => {\n                            setCurrentView(\n                                currentView === 'fonts' ? 'search' : 'fonts'\n                            )\n                            setSearchTerm('')\n                        }}>\n                        {currentView !== 'search' && (\n                            <span>{familyForDisplay(value.family)}</span>\n                        )}\n\n                        {currentView === 'search' && (\n                            <input\n                                onClick={(e) => e.stopPropagation()}\n                                ref={inputEl}\n                                autoFocus\n                                value={searchTerm}\n                                onKeyUp={(e) => {\n                                    if (e.keyCode == 13) {\n                                        if (linearFontsList.length > 0) {\n                                            pickFontFamily(linearFontsList[0])\n                                            setCurrentView('options')\n                                            setSearchTerm('')\n                                        }\n                                    }\n                                }}\n                                onChange={({ target: { value } }) =>\n                                    setSearchTerm(value)\n                                }\n                            />\n                        )}\n\n                        <svg width=\"8\" height=\"8\" viewBox=\"0 0 15 15\">\n                            {currentView === 'search' && (\n                                <path d=\"M8.9,7.5l4.6-4.6c0.4-0.4,0.4-1,0-1.4c-0.4-0.4-1-0.4-1.4,0L7.5,6.1L2.9,1.5c-0.4-0.4-1-0.4-1.4,0c-0.4,0.4-0.4,1,0,1.4l4.6,4.6l-4.6,4.6c-0.4,0.4-0.4,1,0,1.4c0.4,0.4,1,0.4,1.4,0l4.6-4.6l4.6,4.6c0.4,0.4,1,0.4,1.4,0c0.4-0.4,0.4-1,0-1.4L8.9,7.5z\" />\n                            )}\n\n                            {currentView !== 'search' && (\n                                <path d=\"M14.6,14.6c-0.6,0.6-1.4,0.6-2,0l-2.5-2.5c-1,0.7-2.2,1-3.5,1C2.9,13.1,0,10.2,0,6.6S2.9,0,6.6,0c3.6,0,6.6,2.9,6.6,6.6c0,1.3-0.4,2.5-1,3.5l2.5,2.5C15.1,13.1,15.1,14,14.6,14.6z M6.6,1.9C4,1.9,1.9,4,1.9,6.6s2.1,4.7,4.7,4.7c2.6,0,4.7-2.1,4.7-4.7C11.3,4,9.2,1.9,6.6,1.9z\" />\n                            )}\n                        </svg>\n                    </li>\n\n                    <li\n                        className={classnames('kmt-weight', {\n                            active: currentView === 'variations',\n                        })}\n                        onClick={() => setCurrentView('variations')}>\n                        <span data-variation={value.variation}>\n                            {humanizeVariationsShort(value.variation)}\n                        </span>\n                    </li>\n                </ul>\n\n                <Transition\n                    items={currentView}\n                    immediate={direction === 'static'}\n                    config={(item, type) => ({\n                        duration: 210,\n                        easing: bezierEasing(0.455, 0.03, 0.515, 0.955),\n                    })}\n                    from={{\n                        transform:\n                            direction === 'left'\n                                ? 'translateX(100%)'\n                                : 'translateX(-100%)',\n\n                        position: 'absolute',\n                    }}\n                    enter={{\n                        transform: 'translateX(0%)',\n                        position: 'absolute',\n                    }}\n                    leave={{\n                        position: 'absolute',\n                        transform:\n                            direction === 'left'\n                                ? 'translateX(-100%)'\n                                : 'translateX(100%)',\n                    }}>\n                    {(props, currentView, transition, key) => {\n                        if (currentView === 'options') {\n                            return (\n                                <FontOptions\n                                    sizeRef={sizeEl}\n                                    value={value}\n                                    option={option}\n                                    onChange={onChange}\n                                    props={props}\n                                    currentView={currentView}\n                                />\n                            )\n                        }\n\n                        if (\n                            currentView === 'fonts' ||\n                            currentView === 'search'\n                        ) {\n                            return (\n                                <animated.div style={props} key={currentView}>\n                                    <FontsList\n                                        typographyList={typographyList}\n                                        searchTerm={searchTerm}\n                                        linearFontsList={linearFontsList}\n                                        currentView={`${currentView}:${previousView}`}\n                                        onPickFamily={(family) => {\n                                            pickFontFamily(family)\n                                            // setCurrentView('options')\n                                            // setSearchTerm('')\n                                        }}\n                                        value={value}\n                                    />\n                                </animated.div>\n                            )\n                        }\n\n                        if (currentView === 'variations') {\n                            return (\n                                <VariationsList\n                                    currentView={currentView}\n                                    props={props}\n                                    typographyList={typographyList}\n                                    onChange={(value) => {\n                                        onChange(value)\n                                        // setCurrentView('options')\n                                    }}\n                                    value={value}\n                                />\n                            )\n                        }\n                    }}\n                </Transition>\n            </div>\n        </animated.div>\n    )\n}\n\nexport default TypographyModal\n","import {\n    createElement,\n    render,\n    unmountComponentAtNode,\n} from '@wordpress/element'\n\nimport OptionsComponent from './options-component';\nimport { kemetGetResponsiveJs } from '../common/responsive-helper';\n\nconst renderOptions = (control) => {\n    render(\n        <OptionsComponent control={control} />,\n\n        control.container[0]\n    )\n    document.dispatchEvent(new CustomEvent(\"kmtOptionsReady\", {\n        detail: control\n    }));\n\n    document.addEventListener('kmtSubOptionsReady', () => {\n        document.dispatchEvent(new CustomEvent(\"kmtOptionsReady\", {\n            detail: control\n        }));\n    });\n}\ndocument.addEventListener('DOMContentLoaded', () => {\n    setTimeout(() => {\n        Object.values(wp.customize.control._value)\n            .filter(({ params: { type } }) => type === 'kmt-options')\n            .map((control) => {\n                (wp.customize.panel(control.section())\n                    ? wp.customize.panel\n                    : wp.customize.section)(control.section(), (section) => {\n                        section.expanded.bind((value) => {\n                            if (value) {\n                                renderOptions(control)\n                                return\n                            }\n\n                            setTimeout(() => {\n                                unmountComponentAtNode(control.container[0])\n                            }, 500)\n                        })\n                    })\n            })\n    })\n})\n\ndocument.addEventListener('kmtExpandedBuilder', ({ detail: { control, isExpanded } }) => {\n    if (isExpanded) {\n        renderOptions(control)\n        return\n    }\n    setTimeout(() => {\n        unmountComponentAtNode(control.container[0])\n    }, 500)\n});\n\ndocument.addEventListener('kmtOptionsReady', ({ detail: control }) => {\n    if (control) {\n        // Color\n        'use strict';\n        jQuery(document).ready(function ($) {\n            $(\".wp-full-overlay-sidebar-content, .wp-picker-container\").click(\n                function (e) {\n                    if (\n                        !$(e.target).closest(\".kemet-color-picker-wrap\").length &&\n                        !$(e.target).closest(\".color-button-wrap\").length\n                    ) {\n                        $(\".components-button.kemet-color-icon-indicate.open\").trigger(\"click\");\n                    }\n                }\n            );\n            control.container.on(\n                \"click\",\n                \".components-button.kemet-color-icon-indicate\",\n                function () {\n                    var $this = $(this),\n                        parentWrap = $this.closest(\".customize-control-kmt-color\"),\n                        Section = parentWrap.parents(\".control-section\");\n\n                    if ($this.hasClass(\"open\")) {\n                        parentWrap.find(\".kemet-color-picker-wrap\").hide();\n                    } else {\n                        var getOpenPopup = Section.find(\".components-button.kemet-color-icon-indicate.open\");\n                        if (getOpenPopup.length > 0) {\n                            getOpenPopup.trigger(\"click\");\n                        }\n                        parentWrap.find(\".kemet-color-picker-wrap\").show();\n                    }\n                    $(this).toggleClass(\"open\");\n                }\n            );\n\n        });\n        // Responsive\n        kemetGetResponsiveJs(control);\n    }\n});\n","import PropTypes from \"prop-types\";\nimport { useState, useEffect } from \"react\";\nimport ColorComponent from '../kmt-controls/color'\nimport SliderComponent from '../kmt-controls/slider'\nimport SpacingComponent from '../kmt-controls/spacing'\nimport TabsComponent from '../kmt-controls/tabs'\nimport SelectComponent from '../kmt-controls/select'\nimport TitleComponent from '../kmt-controls/title'\nimport BuilderComponent from '../kmt-controls/layout-builder/builder-component'\nimport AvailableComponent from '../kmt-controls/available'\nimport ToggleControlComponent from '../kmt-controls/toggle'\nimport BuilderTabs from '../kmt-controls/builder-tabs'\nimport TextComponent from '../kmt-controls/text'\nimport EditorComponent from '../kmt-controls/editor'\nimport FocusComponent from '../kmt-controls/focus'\nimport SortableComponent from '../kmt-controls/sortable'\nimport RadioComponent from '../kmt-controls/radio'\nimport RowLayoutComponent from '../kmt-controls/row-layout'\nimport BackgroundComponent from '../kmt-controls/background'\nimport Typography from '../kmt-controls/typography';\n\nlet wpOptions = [\"custom_logo\", \"blogname\", \"blogdescription\"];\n\nconst OptionComponent = (type) => {\n    let OptionComponent;\n    switch (type) {\n        case 'kmt-color':\n            OptionComponent = ColorComponent;\n            break;\n        case 'kmt-slider':\n            OptionComponent = SliderComponent;\n            break;\n        case 'kmt-spacing':\n            OptionComponent = SpacingComponent;\n            break;\n        case 'kmt-tabs':\n            OptionComponent = TabsComponent;\n            break;\n        case 'kmt-select':\n            OptionComponent = SelectComponent;\n            break;\n        case 'kmt-title':\n            OptionComponent = TitleComponent;\n            break;\n        case 'kmt-builder':\n            OptionComponent = BuilderComponent;\n            break;\n        case 'kmt-available':\n            OptionComponent = AvailableComponent;\n            break;\n        case 'kmt-switcher':\n            OptionComponent = ToggleControlComponent;\n            break;\n        case 'kmt-builder-tabs':\n            OptionComponent = BuilderTabs;\n            break;\n        case 'kmt-text':\n            OptionComponent = TextComponent;\n            break;\n        case 'kmt-editor':\n            OptionComponent = EditorComponent;\n            break;\n        case 'kmt-focus-button':\n            OptionComponent = FocusComponent;\n            break;\n        case 'kmt-sortable':\n            OptionComponent = SortableComponent;\n            break;\n        case 'kmt-radio':\n            OptionComponent = RadioComponent;\n            break;\n        case 'kmt-row-layout':\n            OptionComponent = RowLayoutComponent;\n            break;\n        case 'kmt-background':\n            OptionComponent = BackgroundComponent;\n            break;\n        case 'kmt-typography':\n            OptionComponent = Typography;\n            break;\n    }\n\n    return OptionComponent;\n}\n\nexport const getSettingId = (id) => {\n    const setting = wpOptions.includes(id)\n        ? id\n        : KemetCustomizerData.setting.replace(\n            \"setting_name\",\n            id\n        );\n\n    return setting;\n}\n\nexport const getSetting = (settingName) => {\n    let setting;\n    switch (settingName) {\n        case \"device\":\n            setting = wp.customize.previewedDevice;\n            break;\n        default:\n            setting = getSettingId(settingName);\n\n            setting = wp.customize(setting);\n            break;\n    }\n\n    return setting;\n};\n\nexport const isDisplay = (rules) => {\n    let setting = '';\n    var relation = undefined != rules.relation ? rules.relation : \"AND\",\n        isVisible = \"AND\" === relation ? true : false;\n    _.each(rules, function (rule, ruleKey) {\n        if (\"relation\" == ruleKey) {\n            return;\n        }\n        var boolean = false,\n            operator = undefined != rule.operator ? rule.operator : \"=\",\n            ruleValue = rule.value;\n        setting = getSetting(rule.setting);\n        var settingValue = setting.get();\n        switch (operator) {\n            case \"in_array\":\n                boolean = ruleValue.includes(settingValue);\n                break;\n\n            case \"contain\":\n                boolean = settingValue.includes(ruleValue);\n                break;\n\n            case \">\":\n                boolean = settingValue > ruleValue;\n                break;\n\n            case \"<\":\n                boolean = settingValue < ruleValue;\n                break;\n\n            case \">=\":\n                boolean = settingValue >= ruleValue;\n                break;\n\n            case \"<=\":\n                boolean = settingValue <= ruleValue;\n                break;\n\n            case \"not_empty\":\n                boolean =\n                    typeof settingValue !== \"undefined\" &&\n                    undefined !== settingValue &&\n                    null !== settingValue &&\n                    \"\" !== settingValue;\n                break;\n\n            case \"!=\":\n                boolean = settingValue !== ruleValue;\n                break;\n\n            default:\n                boolean = settingValue == ruleValue;\n                break;\n        }\n        isVisible =\n            \"OR\" === relation ? isVisible || boolean : isVisible && boolean;\n    });\n\n    return isVisible;\n};\n\nconst toggleVisible = (rules, onChange) => {\n    _.each(rules, function (rule) {\n        let setting = getSetting(rule.setting);\n        if (undefined != setting) {\n            setting.bind(() => {\n                onChange(isDisplay(rules));\n            });\n        }\n    });\n}\n\nconst SingleOptionComponent = ({ value, optionId, option, control }) => {\n    let context = option.context ? isDisplay(option.context) : true;\n    const [isVisible, setVisible] = useState(context);\n    let [settingVal, setValue] = useState(value);\n    const onChange = (value) => {\n        setVisible(value)\n    }\n\n    if (option.context) {\n        toggleVisible(option.context, onChange)\n    }\n\n    const Option = OptionComponent(option.type);\n    return isVisible && option.type && <div id={optionId} className={`customize-control-${option.type}`}>\n        <Option id={optionId} value={settingVal} params={option} control={control} customizer={wp.customize} onChange={(value) => {\n            const key = getSettingId(optionId);\n            wp.customize(key).set(value);\n            setValue(value);\n        }} />\n    </div>;\n}\n\nexport const renderOptions = (options) => {\n    return Object.keys(options).map((optionId) => {\n        const controlName = getSettingId(optionId);\n        let control = wp.customize(controlName);\n        let value = control && control.get();\n\n        let option = options[optionId];\n\n        return <SingleOptionComponent value={value} optionId={optionId} option={option} control={control} key={optionId} />;\n    })\n}\n\nconst OptionsComponent = ({ control }) => {\n    const { options } = control.params.data;\n\n    return <div className=\"kmt-options\">\n        {renderOptions(options)}\n    </div>\n}\n\nexport default OptionsComponent;","(function() { module.exports = window[\"regeneratorRuntime\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","(function() { module.exports = window[\"wp\"][\"mediaUtils\"]; }());","(function() { module.exports = window[\"React\"]; }());","(function() { module.exports = window[\"ReactDOM\"]; }());"],"sourceRoot":""}